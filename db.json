{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/robots.txt","path":"robots.txt","modified":0,"renderable":0},{"_id":"themes/next/source/404.html","path":"404.html","modified":0,"renderable":1},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"themes/next/source/uploads/wechat-qcode.jpg","path":"uploads/wechat-qcode.jpg","modified":0,"renderable":1},{"_id":"themes/next/source/images/alipay.jpg","path":"images/alipay.jpg","modified":0,"renderable":1},{"_id":"themes/next/source/images/wechatpay.jpg","path":"images/wechatpay.jpg","modified":0,"renderable":1},{"_id":"themes/next/source/images/bird.png","path":"images/bird.png","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","path":"lib/needsharebutton/font-embedded.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","path":"lib/needsharebutton/needsharebutton.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","path":"lib/needsharebutton/needsharebutton.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/uploads/avatar.png","path":"uploads/avatar.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","path":"lib/Han/dist/font/han.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1}],"Cache":[{"_id":"source/robots.txt","hash":"04c627ebeb42f30361b011ec9be7630b5e954575","modified":1522149234000},{"_id":"themes/next/.bowerrc","hash":"334da94ca6f024d60d012cc26ea655681e724ad8","modified":1516465598000},{"_id":"themes/next/.editorconfig","hash":"211d2c92bfdddb3e81ea946f4ca7a539f150f4da","modified":1516465598000},{"_id":"themes/next/.gitattributes","hash":"8454b9313cb1a97b63fb87e2d29daee497ce6249","modified":1516465598000},{"_id":"themes/next/.gitignore","hash":"ee0b13c268cc8695d3883a5da84930af02d4ed08","modified":1516465598000},{"_id":"themes/next/.javascript_ignore","hash":"cd250ad74ca22bd2c054476456a73d9687f05f87","modified":1516465598000},{"_id":"themes/next/.hound.yml","hash":"289dcf5bfe92dbd680d54d6e0668f41c9c9c0c78","modified":1516465598000},{"_id":"themes/next/.jshintrc","hash":"b7d23f2ce8d99fa073f22f9960605f318acd7710","modified":1516465598000},{"_id":"themes/next/.stylintrc","hash":"3b7f9785e9ad0dab764e1c535b40df02f4ff5fd6","modified":1516465598000},{"_id":"themes/next/.travis.yml","hash":"6674fbdfe0d0c03b8a04527ffb8ab66a94253acd","modified":1516465598000},{"_id":"themes/next/LICENSE","hash":"ec44503d7e617144909e54533754f0147845f0c5","modified":1516465598000},{"_id":"themes/next/README.cn.md","hash":"87950c415dd162ff78e98b41f1148b85462103e2","modified":1516465598000},{"_id":"themes/next/bower.json","hash":"486ebd72068848c97def75f36b71cbec9bb359c5","modified":1516465598000},{"_id":"themes/next/_config.yml","hash":"81d126936534240c742ad1f5d6a828d84349c1c8","modified":1539406091623},{"_id":"themes/next/README.md","hash":"927f82cfeb5969a89b815b5ec3a3f2881e3b1bb4","modified":1516465598000},{"_id":"themes/next/gulpfile.coffee","hash":"412defab3d93d404b7c26aaa0279e2e586e97454","modified":1516465598000},{"_id":"themes/next/package.json","hash":"3963ad558a24c78a3fd4ef23cf5f73f421854627","modified":1516465598000},{"_id":"source/_posts/2018-01-23-Cmd-Markdown使用说明.md","hash":"9de9d315fac5b00e6ff562fc5fecb48ca3231b21","modified":1516901042000},{"_id":"source/_posts/2018-01-23-Next个性化设置.md","hash":"702dc9bb5bcef3532386a9faec89e11414269663","modified":1520661710000},{"_id":"source/_posts/2018-03-10-回归分析系列1-统计概念基础.md","hash":"d5ef40c907493d390228be5dff72126d84c0505d","modified":1530961772000},{"_id":"source/_posts/2018-01-27-博客文章写作样式.md","hash":"0cc3080b8532960560bd1e5aa83c44e0a495dbfb","modified":1527071524000},{"_id":"source/_posts/2018-03-11-回归分析系列3-简单线性回归.md","hash":"c0806a18f5c08efa710e4badc60ba21ea948830c","modified":1530961756000},{"_id":"source/_posts/2018-03-15-数据操作-apply函数族.md","hash":"443965ddcaa4e34a8680c5852be02d51c7aa127c","modified":1521254740000},{"_id":"source/_posts/2018-03-22-数据可视化-formattable包.md","hash":"2634545d5c74bd6bf9234809ced8dfdd97b20bfc","modified":1522144644000},{"_id":"source/_posts/2018-04-05-DT-DataTables库的R接口.md","hash":"9c80686381ce11c371737ece4b5ead3b96270949","modified":1539406404599},{"_id":"source/_posts/2018-04-05-数据可视化-地图可视化系列文章.md","hash":"bf3ba5f9f17cab77926b0dd14b9fdfe21ed822ef","modified":1539406418609},{"_id":"source/_posts/2018-05-23-经济学人-人工智能系列1.md","hash":"a400558b9cc781ada1b3c2470fca297ab7cd66e6","modified":1530961886000},{"_id":"source/_posts/2018-07-06-那么长的暑假该，该怎么过？.md","hash":"9c77724e7e4cac360b19eea439d6db79f866e015","modified":1530847088000},{"_id":"source/_posts/2018-04-07-数据可视化-R绘图包系列.md","hash":"7e69dae2dab1d9b72efd6104d3a693ec4d7485d2","modified":1539406429001},{"_id":"source/categories/index.md","hash":"99019a2ac2686f7c71655e586686850e54d59988","modified":1516599700000},{"_id":"source/_posts/2018-07-09-R-Markdown-数据报告生成利器.md","hash":"f97d92f7db2ded16d6a0d6bfefe07b1a9ecaba99","modified":1531150498000},{"_id":"source/tags/index.md","hash":"5b823dd04bde08017f5822dd305a055f1bf875bc","modified":1516599698000},{"_id":"themes/next/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1516465598000},{"_id":"themes/next/.git/config","hash":"4f94cb26d3406bb52f35806c75544b9aa1faab62","modified":1516465598000},{"_id":"themes/next/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1516464250000},{"_id":"themes/next/.git/index","hash":"44db9a10710a22b8f457ca85c24ce7a759351852","modified":1516516366000},{"_id":"themes/next/.git/packed-refs","hash":"3c8c100ed0e6240e05576839de78b90e0485e0ae","modified":1516465598000},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"5adfad3ef1b870063e621bc0838268eb2c7c697a","modified":1516465598000},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"1228506a940114288d61812bfe60c045a0abeac1","modified":1516465598000},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"b1ec000babd42bb7ffd26f5ad8aac9b5bec79ae5","modified":1516465598000},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1516465598000},{"_id":"themes/next/languages/de.yml","hash":"fd02d9c2035798d5dc7c1a96b4c3e24b05b31a47","modified":1516465598000},{"_id":"themes/next/languages/fr-FR.yml","hash":"efeeb55d5c4add54ad59a612fc0630ee1300388c","modified":1516465598000},{"_id":"themes/next/languages/en.yml","hash":"2f4b4776ca1a08cc266a19afb0d1350a3926f42c","modified":1516465598000},{"_id":"themes/next/languages/default.yml","hash":"b3bcd8934327448a43d9bfada5dd11b1b8c1402e","modified":1516465598000},{"_id":"themes/next/languages/id.yml","hash":"dccae33e2a5b3c9f11c0e05ec4a7201af1b25745","modified":1516465598000},{"_id":"themes/next/languages/it.yml","hash":"a215d016146b1bd92cef046042081cbe0c7f976f","modified":1516465598000},{"_id":"themes/next/languages/ko.yml","hash":"dc8f3e8c64eb7c4bb2385025b3006b8efec8b31d","modified":1516465598000},{"_id":"themes/next/languages/ja.yml","hash":"37f954e47a3bc669620ca559e3edb3b0072a4be5","modified":1516465598000},{"_id":"themes/next/languages/nl-NL.yml","hash":"213e7a002b82fb265f69dabafbbc382cfd460030","modified":1516465598000},{"_id":"themes/next/languages/pt-BR.yml","hash":"568d494a1f37726a5375b11452a45c71c3e2852d","modified":1516465598000},{"_id":"themes/next/languages/pt.yml","hash":"2efcd240c66ab1a122f061505ca0fb1e8819877b","modified":1516465598000},{"_id":"themes/next/languages/vi.yml","hash":"a9b89ebd3e5933033d1386c7c56b66c44aca299a","modified":1516465598000},{"_id":"themes/next/languages/ru.yml","hash":"e33ee44e80f82e329900fc41eb0bb6823397a4d6","modified":1516465598000},{"_id":"themes/next/languages/zh-Hans.yml","hash":"9ecd6546e73cfd9af7d9badfa4306a9b5381a287","modified":1527397474000},{"_id":"themes/next/languages/zh-hk.yml","hash":"fe0d45807d015082049f05b54714988c244888da","modified":1516465598000},{"_id":"themes/next/languages/zh-tw.yml","hash":"432463b481e105073accda16c3e590e54c8e7b74","modified":1516465598000},{"_id":"themes/next/layout/_layout.swig","hash":"741df06580931da1f67da999397cd749092bca39","modified":1527077174000},{"_id":"themes/next/layout/archive.swig","hash":"9a2c14874a75c7085d2bada5e39201d3fc4fd2b4","modified":1516465598000},{"_id":"themes/next/layout/category.swig","hash":"3cbb3f72429647411f9e85f2544bdf0e3ad2e6b2","modified":1516465598000},{"_id":"themes/next/layout/page.swig","hash":"6efaa6bb833f1729e53faca6bae8b37af0e83f10","modified":1520742878000},{"_id":"themes/next/layout/index.swig","hash":"3980f866a9291a8d801bf9ab350e5dbef346ea7e","modified":1530840002000},{"_id":"themes/next/layout/post.swig","hash":"7a6ce102ca82c3a80f776e555dddae1a9981e1ed","modified":1516974026000},{"_id":"themes/next/scripts/merge-configs.js","hash":"38d86aab4fc12fb741ae52099be475196b9db972","modified":1516465598000},{"_id":"themes/next/layout/tag.swig","hash":"34e1c016cbdf94a31f9c5d494854ff46b2a182e9","modified":1516465598000},{"_id":"themes/next/layout/schedule.swig","hash":"87ad6055df01fa2e63e51887d34a2d8f0fbd2f5a","modified":1516465598000},{"_id":"themes/next/scripts/merge.js","hash":"39b84b937b2a9608b94e5872349a47200e1800ff","modified":1516465598000},{"_id":"themes/next/source/404.html","hash":"b58c244e68d44eb7ad665a7dd31a6b6a05fa204e","modified":1516597338000},{"_id":"themes/next/test/.jshintrc","hash":"c9fca43ae0d99718e45a6f5ce736a18ba5fc8fb6","modified":1516465598000},{"_id":"themes/next/test/helpers.js","hash":"f25e7f3265eb5a6e1ccbb5e5012fa9bebf134105","modified":1516465598000},{"_id":"themes/next/test/intern.js","hash":"db90b1063356727d72be0d77054fdc32fa882a66","modified":1516465598000},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1516465598000},{"_id":"themes/next/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1516464250000},{"_id":"themes/next/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1516464250000},{"_id":"themes/next/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1516464250000},{"_id":"themes/next/.git/hooks/fsmonitor-watchman.sample","hash":"f7c0aa40cb0d620ff0bca3efe3521ec79e5d7156","modified":1516464250000},{"_id":"themes/next/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1516464250000},{"_id":"themes/next/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1516464250000},{"_id":"themes/next/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1516464250000},{"_id":"themes/next/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1516464250000},{"_id":"themes/next/.git/hooks/pre-rebase.sample","hash":"288efdc0027db4cfd8b7c47c4aeddba09b6ded12","modified":1516464250000},{"_id":"themes/next/.git/hooks/prepare-commit-msg.sample","hash":"2584806ba147152ae005cb675aa4f01d5d068456","modified":1516464250000},{"_id":"themes/next/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1516464250000},{"_id":"themes/next/.git/logs/HEAD","hash":"979afc56774d074785179a4908d9725fb8feb17e","modified":1516465598000},{"_id":"themes/next/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1516464250000},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"53e17dd93f39268d0b57526df09350982c9b0f6b","modified":1520742278000},{"_id":"themes/next/layout/_custom/header.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1516465598000},{"_id":"themes/next/layout/_macro/my-copyright.swig","hash":"4294af608777f89fb44c59d203a9caafec87e72d","modified":1516781524000},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"8c56dd26157cbc580ae41d97ac34b90ab48ced3f","modified":1516465598000},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"f83befdc740beb8dc88805efd7fbb0fef9ed19be","modified":1516465598000},{"_id":"themes/next/layout/_macro/post.swig","hash":"86887c1cd98ae03b8fa57b0fdfaec682de38ff13","modified":1527398784000},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"4e9f6306ec9503d666b980439029b25c14fc7637","modified":1527053582000},{"_id":"themes/next/layout/_macro/reward.swig","hash":"357d86ec9586705bfbb2c40a8c7d247a407db21a","modified":1516465598000},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"e2e4eae391476da994045ed4c7faf5e05aca2cd7","modified":1520742658000},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"c0f5a0955f69ca4ed9ee64a2d5f8aa75064935ad","modified":1516465598000},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"8c44b59f1e866fc365a2a4908b2bc524a5102f6d","modified":1516632226000},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"9be624634703be496a5d2535228bc568a8373af9","modified":1516465598000},{"_id":"themes/next/layout/_partials/comments.swig","hash":"4adc65a602d1276615da3b887dcbf2ac68e7382b","modified":1516465598000},{"_id":"themes/next/layout/_partials/footer.swig","hash":"bf8f580cb9bf5dbeba4c677fdcbcf067674f3c6b","modified":1527077602000},{"_id":"themes/next/layout/_partials/head.swig","hash":"63f6939af756574155422a6be6cba6a1d08062df","modified":1526044338000},{"_id":"themes/next/layout/_partials/header.swig","hash":"c54b32263bc8d75918688fb21f795103b3f57f03","modified":1526044592000},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"77c61e0baea3544df361b7338c3cd13dc84dde22","modified":1526044674000},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"1634fb887842698e01ff6e632597fe03c75d2d01","modified":1516465598000},{"_id":"themes/next/layout/_partials/search.swig","hash":"b4ebe4a52a3b51efe549dd1cdee846103664f5eb","modified":1516465598000},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"ba75672183d94f1de7c8bd0eeee497a58c70e889","modified":1516465598000},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"8301c9600bb3e47f7fb98b0e0332ef3c51bb1688","modified":1516465598000},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"a0bd3388587fd943baae0d84ca779a707fbcad89","modified":1516465598000},{"_id":"themes/next/layout/_third-party/mob_share.swig","hash":"920c9b84fc90cbc3e1654c726277cdccbf0801f8","modified":1516973342000},{"_id":"themes/next/layout/_third-party/needsharebutton.swig","hash":"fa882641da3bd83d9a58a8a97f9d4c62a9ee7b5c","modified":1516465598000},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"554ec568e9d2c71e4a624a8de3cb5929050811d6","modified":1516465598000},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"db15d7e1552aa2d2386a6b8a33b3b3a40bf9e43d","modified":1516465598000},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"9a188938d46931d5f3882a140aa1c48b3a893f0c","modified":1516465598000},{"_id":"themes/next/scripts/tags/button.js","hash":"eddbb612c15ac27faf11c59c019ce188f33dec2c","modified":1516465598000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"99b66949f18398689b904907af23c013be1b978f","modified":1516465598000},{"_id":"themes/next/scripts/tags/exturl.js","hash":"5022c0ba9f1d13192677cf1fd66005c57c3d0f53","modified":1516465598000},{"_id":"themes/next/scripts/tags/full-image.js","hash":"c9f833158c66bd72f627a0559cf96550e867aa72","modified":1516465598000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"ac681b0d0d8d39ba3817336c0270c6787c2b6b70","modified":1516465598000},{"_id":"themes/next/scripts/tags/label.js","hash":"6f00952d70aadece844ce7fd27adc52816cc7374","modified":1516465598000},{"_id":"themes/next/scripts/tags/note.js","hash":"f7eae135f35cdab23728e9d0d88b76e00715faa0","modified":1516465598000},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"bcba2ff25cd7850ce6da322d8bd85a8dd00b5ceb","modified":1516465598000},{"_id":"themes/next/scripts/tags/tabs.js","hash":"aa7fc94a5ec27737458d9fe1a75c0db7593352fd","modified":1516465598000},{"_id":"themes/next/source/css/main.styl","hash":"c0e905332c3f9e44481fd0f47067871f69c2c63e","modified":1516865716000},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1516465598000},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1516465598000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1516465598000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1516465598000},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1516465598000},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1516465598000},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1516465598000},{"_id":"themes/next/source/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1516465598000},{"_id":"themes/next/source/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1516465598000},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1516465598000},{"_id":"themes/next/source/images/logo.svg","hash":"169f56fd82941591dad3abd734a50ec7259be950","modified":1516465598000},{"_id":"themes/next/source/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1516465598000},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1516465598000},{"_id":"themes/next/source/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1516465598000},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1516465598000},{"_id":"themes/next/source/uploads/wechat-qcode.jpg","hash":"8b94260578bde9930cde6dce1434b61795313f8b","modified":1516514792000},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1516465598000},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1516465598000},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1516465598000},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1516465598000},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1516465598000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1516465598000},{"_id":"themes/next/source/images/alipay.jpg","hash":"4867b430b1bc75aec67dabc38fa68c0987fad82d","modified":1516717400000},{"_id":"themes/next/source/images/wechatpay.jpg","hash":"67ee785d162a5a4d2896ffe5f0d82068aed1fced","modified":1516717354000},{"_id":"themes/next/.git/refs/heads/master","hash":"f4d9f6f8bc79e9bc071cf29324a74a1d78158ab9","modified":1516465598000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"9b84ab576982b2c3bb0291da49143bc77fba3cc6","modified":1516465598000},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a9a3995b9615adfb8d6b127c78c6771627bee19a","modified":1516465598000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a9a3995b9615adfb8d6b127c78c6771627bee19a","modified":1516465598000},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"a223919d2e1bf17ca4d6abb2c86f2efca9883dc1","modified":1516465598000},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"f5e487b0d213ca0bd94aa30bc23b240d65081627","modified":1516465598000},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"9e3d133ac5bcc6cb51702c83b2611a49811abad1","modified":1516465598000},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"b2f0d247b213e4cf8de47af6a304d98070cc7256","modified":1516465598000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"a8c7f9ca7c605d039a1f3bf4e4d3183700a3dd62","modified":1516465598000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"b25002a83cbd2ca0c4a5df87ad5bff26477c0457","modified":1516465598000},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"0c07f9aefbeda6e88f03a3a6463598d75356986e","modified":1516619902000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"d4fbffd7fa8f2090eb32a871872665d90a885fac","modified":1516465598000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"04885ac43103c4ca1e011c2fa0327899c7c7a3cf","modified":1520761534000},{"_id":"themes/next/layout/_partials/share/mob_share.swig","hash":"6a3f82355f3845facfd2193c68190c68c9729a02","modified":1516972732000},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"ff947f3561b229bc528cb1837d4ca19612219411","modified":1516465598000},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"71397a5823e8ec8aad3b68aace13150623b3e19d","modified":1516465598000},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"753d262911c27baf663fcaf199267133528656af","modified":1516465598000},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"7b11eac3a0685fa1ab2ab6ecff60afc4f15f0d16","modified":1516465598000},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"a10b7f19d7b5725527514622899df413a34a89db","modified":1516465598000},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"7d94845f96197d9d84a405fa5d4ede75fb81b225","modified":1516465598000},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"b1e13df83fb2b1d5d513b30b7aa6158b0837daab","modified":1516465598000},{"_id":"themes/next/layout/_third-party/analytics/firestore.swig","hash":"ccc443b22bd4f8c7ac4145664686c756395b90e0","modified":1516465598000},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"45f3f629c2aacc381095750e1c8649041a71a84b","modified":1516465598000},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"e6d10ee4fb70b3ae1cd37e9e36e000306734aa2e","modified":1516465598000},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"8a399df90dadba5ad4e781445b58f4765aeb701e","modified":1516465598000},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"5a8027328f060f965b3014060bebec1d7cf149c1","modified":1516465598000},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"f9a1647a8f1866deeb94052d1f87a5df99cb1e70","modified":1516465598000},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"4c501ea0b9c494181eb3c607c5526a5754e7fbd8","modified":1516465598000},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"b83a51bbe0f1e2ded9819070840b0ea145f003a6","modified":1516465598000},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"1600f340e0225361580c44890568dc07dbcf2c89","modified":1516465598000},{"_id":"themes/next/layout/_third-party/comments/gitment.swig","hash":"4dcc3213c033994d342d02b800b6229295433d30","modified":1516465598000},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"493bd5999a1061b981922be92d8277a0f9152447","modified":1516465598000},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"af7f3e43cbdc4f88c13f101f0f341af96ace3383","modified":1516465598000},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"9246162d4bc7e949ce1d12d135cbbaf5dc3024ec","modified":1516465598000},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"a6529ec672f69efe5c4e4ba3ea3cf38ca68a3235","modified":1516713558000},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"ed005cdc574fde951b5e341494cd11b140aabd1f","modified":1516633172000},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"34599633658f3b0ffb487728b7766e1c7b551f5a","modified":1516465598000},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"fe95dd3d166634c466e19aa756e65ad6e8254d3e","modified":1516465598000},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"93479642fd076a1257fecc25fcf5d20ccdefe509","modified":1516465598000},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"d8c98938719284fa06492c114d99a1904652a555","modified":1516465598000},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"07f7da320689f828f6e36a6123807964a45157a0","modified":1516465598000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"7896c3ee107e1a8b9108b6019f1c070600a1e8cc","modified":1516465598000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"0e55cbd93852dc3f8ccb44df74d35d9918f847e0","modified":1516465598000},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"f223059a66a6ff121de1336e94aef2b1cbe84b23","modified":1527142576000},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"58e7dd5947817d9fc30770712fc39b2f52230d1e","modified":1516465598000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"a25408534f8fe6e321db4bbf9dd03335d648fe17","modified":1516465598000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"4069f918ccc312da86db6c51205fc6c6eaabb116","modified":1516465598000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"b1f6ea881a4938a54603d68282b0f8efb4d7915d","modified":1516465598000},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"ced2bed3f253c815b1c12568a739610e095aacb7","modified":1519802460000},{"_id":"themes/next/source/images/bird.png","hash":"9c2ff213f03c2f23ec58fbd88d365772fe35a035","modified":1522923434000},{"_id":"themes/next/source/js/src/affix.js","hash":"1b509c3b5b290a6f4607f0f06461a0c33acb69b1","modified":1516465598000},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"cb431b54ba9c692165a1f5a12e4c564a560f8058","modified":1516465598000},{"_id":"themes/next/source/js/src/exturl.js","hash":"a2a0f0de07e46211f74942a468f42ee270aa555c","modified":1516465598000},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"0289031200c3d4c2bdd801ee10fff13bb2c353e4","modified":1516465598000},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"b35a7dc47b634197b93487cea8671a40a9fdffce","modified":1516465598000},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"1512c751d219577d338ac0780fb2bbd9075d5298","modified":1516465598000},{"_id":"themes/next/source/js/src/motion.js","hash":"885176ed51d468f662fbf0fc09611f45c7e5a3b1","modified":1516465598000},{"_id":"themes/next/source/js/src/post-details.js","hash":"93a18271b4123dd8f94f09d1439b47c3c19a8712","modified":1516465598000},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"02cf91514e41200bc9df5d8bdbeb58575ec06074","modified":1516465598000},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"b7657be25fc52ec67c75ab5481bdcb483573338b","modified":1516465598000},{"_id":"themes/next/source/js/src/utils.js","hash":"b3e9eca64aba59403334f3fa821f100d98d40337","modified":1516465598000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"9be892a4e14e0da18ff9cb962c9ef71f163b1b22","modified":1516465598000},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1516465598000},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"b02737510e9b89aeed6b54f89f602a9c24b06ff2","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"672d3b5767e0eacd83bb41b188c913f2cf754793","modified":1516465598000},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"6f474ea75c42442da7bbcf2e9143ce98258efd8d","modified":1516465598000},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"bf3eef9d647cd7c9b62feda3bc708c6cdd7c0877","modified":1516465598000},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"68a9b9d53126405b0fa5f3324f1fb96dbcc547aa","modified":1516465598000},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"a9b3ee1e4db71a0e4ea6d5bed292d176dd68b261","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"b4aefc910578d76b267e86dfffdd5121c8db9aec","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"03ddbf76c1dd1afb93eed0b670d2eee747472ef1","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"c31ff06a740955e44edd4403902e653ccabfd4db","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"71e7183634dc1b9449f590f15ebd7201add22ca7","modified":1516465598000},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"865d6c1328ab209a4376b9d2b7a7824369565f28","modified":1516465598000},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"90fa628f156d8045357ff11eaf32e61abacf10e8","modified":1516465598000},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"b930297cb98b8e1dbd5abe9bc1ed9d5935d18ce8","modified":1516465598000},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4ded6fee668544778e97e38c2b211fc56c848e77","modified":1516465598000},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"e0acf1db27b0cc16128a59c46db1db406b5c4c58","modified":1516465598000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"f4a570908f6c89c6edfb1c74959e733eaadea4f2","modified":1516465598000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"bf773ad48a0b9aa77681a89d7569eefc0f7b7b18","modified":1516465598000},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","hash":"14264a210bf94232d58d7599ea2ba93bfa4fb458","modified":1516465598000},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","hash":"e33aa8fa48b6639d8d8b937d13261597dd473b3a","modified":1516465598000},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","hash":"2ce5f3bf15c523b9bfc97720d8884bb22602a454","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1516465598000},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"8aaa675f577d5501f5f22d5ccb07c2b76310b690","modified":1516465598000},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"46a50b91c98b639c9a2b9265c5a1e66a5c656881","modified":1516465598000},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"2d9a9f38c493fdf7c0b833bb9184b6a1645c11b2","modified":1516465598000},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"8148492dd49aa876d32bb7d5b728d3f5bf6f5074","modified":1516465598000},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"63da5e80ebb61bb66a2794d5936315ca44231f0c","modified":1516465598000},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"92d92860418c4216aa59eb4cb4a556290a7ad9c3","modified":1516465598000},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"bf172816a9c57f9040e3d19c24e181a142daf92b","modified":1516465598000},{"_id":"themes/next/source/uploads/avatar.png","hash":"868a85e32ed1ceb335193ca3a440182e4ddf792e","modified":1516868236000},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"dbbfb50f6502f6b81dcc9fee7b31f1e812da3464","modified":1516465598000},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"dde584994ac13dc601836e86f4cf490e418d9723","modified":1516465598000},{"_id":"themes/next/source/lib/jquery/index.js","hash":"17a740d68a1c330876c198b6a4d9319f379f3af2","modified":1516465598000},{"_id":"themes/next/.git/logs/refs/heads/master","hash":"979afc56774d074785179a4908d9725fb8feb17e","modified":1516465598000},{"_id":"themes/next/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1516465598000},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"2530de0f3125a912756f6c0e9090cd012134a4c5","modified":1516465598000},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"218cc936ba3518a3591b2c9eda46bc701edf7710","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"8f86f694c0749a18ab3ad6f6df75466ca137a4bc","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"237d185ac62ec9877e300947fa0109c44fb8db19","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"ff4489cd582f518bba6909a301ac1292a38b4e96","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"8b32928686c327151e13d3ab100157f9a03cd59f","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"7ad4081466b397e2a6204141bb7768b7c01bd93c","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"4f2801fc4cf3f31bf2069f41db8c6ce0e3da9e39","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"6eb4bcc3056bd279d000607e8b4dad50d368ca69","modified":1516465598000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"24ee4b356ff55fc6e58f26a929fa07750002cf29","modified":1516465598000},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"12662536c7a07fff548abe94171f34b768dd610f","modified":1516465598000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"1da5c800d025345f212a3bf1be035060f4e5e6ed","modified":1516465598000},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"91ca75492cd51f2553f4d294ed2f48239fcd55eb","modified":1516465598000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"3f40e8a9fe8e7bd5cfc4cf4cbbbcb9539462e973","modified":1516465598000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"ea9069645696f86c5df64208490876fe150c8cae","modified":1516465598000},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a17e2b871a335f290afb392a08f94fd35f59c715","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"60fa84aa7731760f05f52dd7d8f79b5f74ac478d","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"d0bfd1bef988c76f7d7dd72d88af6f0908a8b0db","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"b1025c421406d2c24cc92a02ae28c1915b01e240","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"25d5e45a355ee2093f3b8b8eeac125ebf3905026","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"9c99034f8e00d47e978b3959f51eb4a9ded0fcc8","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"26666c1f472bf5f3fb9bc62081cca22b4de15ccb","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9b913b73d31d21f057f97115ffab93cfa578b884","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"748dbfbf9c08e719ddc775958003c64b00d39dab","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"e695e58f714129ca292c2e54cd62c251aca7f7fe","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"31127dcbf4c7b4ada53ffbf1638b5fe325b7cbc0","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"5dbc0d0c897e46760e5dbee416530d485c747bba","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"bce344d3a665b4c55230d2a91eac2ad16d6f32fd","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"416988dca389e6e2fdfa51fa7f4ee07eb53f82fb","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"4642e30010af8b2b037f5b43146b10a934941958","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"1f6e2ce674735269599acc6d77b3ea18d31967fc","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"ad2dcedf393ed1f3f5afd2508d24969c916d02fc","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"86197902dfd3bededba10ba62b8f9f22e0420bde","modified":1516465598000},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"f1d0b5d7af32c423eaa8bb93ab6a0b45655645dc","modified":1516465598000},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"6c26cdb36687d4f0a11dabf5290a909c3506be5c","modified":1516465598000},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"6d586bfcfb7ae48f1b12f76eec82d3ad31947501","modified":1516465598000},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"16b03db23a52623348f37c04544f2792032c1fb6","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"82f33ad0842aa9c154d029e0dada2497d4eb1d57","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"d71602cbca33b9ecdb7ab291b7f86a49530f3601","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"ae6318aeb62ad4ce7a7e9a4cdacd93ffb004f0fb","modified":1516465598000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"1d6aeda0480d0e4cb6198edf7719d601d4ae2ccc","modified":1516465598000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"3655f1fdf1e584c4d8e8d39026093ca306a5a341","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"88af80502c44cd52ca81ffe7dc7276b7eccb06cf","modified":1516465598000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"41ea797c68dbcff2f6fb3aba1d1043a22e7cc0f6","modified":1516465598000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"a817b6c158cbc5bab3582713de9fe18a18a80552","modified":1516465598000},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"4ac683b2bc8531c84d98f51b86957be0e6f830f3","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1516465598000},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"4237c6e9d59da349639de20e559e87c2c0218cfd","modified":1516465598000},{"_id":"themes/next/.git/logs/refs/remotes/origin/HEAD","hash":"979afc56774d074785179a4908d9725fb8feb17e","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"9f73c4696f0907aa451a855444f88fc0698fa472","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"53cde051e0337f4bf42fb8d6d7a79fa3fa6d4ef2","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d63e0cacc53dd375fcc113465a4328c59ff5f2c1","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"1a0d059799a298fe17c49a44298d32cebde93785","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"0656e753f182c9f47fef7304c847b7587a85ef0d","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"1727702eac5d326b5c81a667944a245016668231","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"50450d9fdc8a2b2be8cfca51e3e1a01ffd636c0b","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"167986d0f649516671ddf7193eebba7b421cd115","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"7fe4d4d656e86276c17cb4e48a560cb6a4def703","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"b6f3a06a94a6ee5470c956663164d58eda818a64","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"7fb593f90d74a99c21840679933b9ef6fdc16a61","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"f9760ecf186954cee3ba4a149be334e9ba296b89","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"4e3838d7ac81d9ad133960f0f7ed58a44a015285","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"8cf318644acc8b4978537c263290363e21c7f5af","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/my-post-copyright.styl","hash":"e954bf95842945b196bbb0de7b8098950a780129","modified":1516781578000},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"62fbbd32cf5a99ae550c45c763a2c4813a138d01","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"875cbe88d5c7f6248990e2beb97c9828920e7e24","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"caf263d1928496688c0e1419801eafd7e6919ce5","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"a200c0a1c5a895ac9dc41e0641a5dfcd766be99b","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"a6c6eb8adba0a090ad1f4b9124e866887f20d10d","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"cd9e214e502697f2f2db84eb721bac57a49b0fce","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"d0d7a5c90d62b685520d2b47fea8ba6019ff5402","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"ca88ea6999a61fb905eb6e72eba5f92d4ee31e6e","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"b2495ae5e04dcca610aacadc47881d9e716cd440","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"27deb3d3a243d30022055dac7dad851024099a8b","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"5a982d8ef3b3623ea5f59e63728990f5623c1b57","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"01567edaea6978628aa5521a122a85434c418bfd","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"ccb34c52be8adba5996c6b94f9e723bd07d34c16","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"7968343e41f8b94b318c36289dff1196c3eb1791","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"f93a7133c1c265c15ba0493b660d8241eb5f25db","modified":1516781732000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"761eba9811b050b25d548cc0854de4824b41eb08","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"39f04c4c7237a4e10acd3002331992b79945d241","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"8dd9a1c6f4f6baa00c2cf01837e7617120cf9660","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"11c22f0fb3f6beb13e5a425ec064a4ff974c13b7","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"61f8cea3c01acd600e90e1bc2a07def405503748","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"1153bb71edf253765145559674390e16dd67c633","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"c8fe49a4bc014c24dead05b782a7082411a4abc5","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"a1521d48bb06d8d703753f52a198baa197af7da2","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"5ef6343835f484a2c0770bd1eb9cc443609e4c39","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"e71652d3216e289c8548b1ea2357822c1476a425","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"bba4f3bdb7517cd85376df3e1209b570c0548c69","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"5dbeed535d63a50265d96b396a5440f9bb31e4ba","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"717cc7f82be9cc151e23a7678601ff2fd3a7fa1d","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"a6e7d698702c2e383dde3fde2abde27951679084","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/third-party/gitment.styl","hash":"874278147115601d2abf15987f5f7a84ada1ac6b","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"10599e16414a8b7a76c4e79e6617b5fe3d4d1adf","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"15975ba7456b96916b1dbac448a1a0d2c38b8f3d","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"16087276945fa038f199692e3eabb1c52b8ea633","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/third-party/needsharebutton.styl","hash":"28825ae15fa20ae3942cdaa7bcc1f3523ce59acc","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"9c8196394a89dfa40b87bf0019e80144365a9c93","modified":1516973916000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"2fe76476432b31993338cb45cdb3b29a518b6379","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"a3bdd71237afc112b2aa255f278cab6baeb25351","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"f825da191816eef69ea8efb498a7f756d5ebb498","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"2ad1a2a9bbf6742d1b0762c4c623b68113d1e0fe","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"2ab1322fe52ab5aafd49e68f5bd890e8380ee927","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"b7076e58d647265ee0ad2b461fe8ce72c9373bc5","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"9a409b798decdefdaf7a23f0b11004a8c27e82f3","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"154a87a32d2fead480d5e909c37f6c476671c5e6","modified":1516465598000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"b80604868e4f5cf20fccafd7ee415c20c804f700","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"a07aa12cc36ac5c819670c2a3c17d07ed7a08986","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"1f09be9bb38411f0629b58c3b23873589a6dbcaa","modified":1516465598000},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"1f09be9bb38411f0629b58c3b23873589a6dbcaa","modified":1516465598000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1516465598000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1516465598000},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1516465598000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1516465598000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"6394c48092085788a8c0ef72670b0652006231a1","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"ee948b4489aedeb548a77c9e45d8c7c5732fd62d","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"51139a4c79573d372a347ef01a493222a1eaf10a","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"b88b589f5f1aa1b3d87cc7eef34c281ff749b1ae","modified":1516465598000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"d22b1629cb23a6181bebb70d0cf653ffe4b835c8","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1516465598000},{"_id":"themes/next/.git/objects/pack/pack-43ca19f05a7eafaedc751ec6ae895cd343f93cae.idx","hash":"c637758f1196f2aeae22bf87c40dee268b82109e","modified":1516465598000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"90a1b22129efc172e2dfcceeeb76bff58bc3192f","modified":1516465598000},{"_id":"themes/next/source/lib/three/three.min.js","hash":"26273b1cb4914850a89529b48091dc584f2c57b8","modified":1516465598000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"b5483b11f8ba213e733b5b8af9927a04fec996f6","modified":1516465598000},{"_id":"themes/next/.git/objects/pack/pack-43ca19f05a7eafaedc751ec6ae895cd343f93cae.pack","hash":"886bc64f4f16bf15797490c12a53f33b839e38f5","modified":1516465598000},{"_id":"public/atom.xml","hash":"7493b4ccf005d3c26588637519625e4c63fb086f","modified":1539406981347},{"_id":"public/search.xml","hash":"e1eb443fbedb042aee739ebda47a375191553327","modified":1539406981367},{"_id":"public/categories/index.html","hash":"7aec9fa7a624f4db613e65f842a3b8d1880f4ae1","modified":1539406981407},{"_id":"public/tags/index.html","hash":"1245a808c9d7069841d2220a3ffd26628fb76408","modified":1539406981407},{"_id":"public/2018/07/09/2018-07-09-R-Markdown-数据报告生成利器/index.html","hash":"618d56e8bd0cb52aa961765d4a0b88d08b3a55fb","modified":1539406981407},{"_id":"public/2018/07/06/2018-07-06-那么长的暑假该，该怎么过？/index.html","hash":"a4ba6f8b4de8e1cef83623897f233910ae02512d","modified":1539406981407},{"_id":"public/2018/05/23/2018-05-23-经济学人-人工智能系列1/index.html","hash":"d800e1a8c1ba9fcee50e90b716c1ada43c0d9a6a","modified":1539406981407},{"_id":"public/2018/04/07/2018-04-07-数据可视化-R绘图包系列/index.html","hash":"73e376390feb1b441579f9c0c88473aaf069176f","modified":1539406981407},{"_id":"public/2018/04/05/2018-04-05-数据可视化-地图可视化系列文章/index.html","hash":"388debb8dfee377c9fe751b729330d26c49fd20b","modified":1539406981408},{"_id":"public/2018/04/05/2018-04-05-DT-DataTables库的R接口/index.html","hash":"f9af49bdda97aae71d4a905acb7f7c1c16fda912","modified":1539406981408},{"_id":"public/2018/03/22/2018-03-22-数据可视化-formattable包/index.html","hash":"f0169c4983b7eff487000069c994917e5d2b8043","modified":1539406981408},{"_id":"public/2018/03/15/2018-03-15-数据操作-apply函数族/index.html","hash":"a429630cc8e8b0807265dad1efa6fb6cac9c7a03","modified":1539406981408},{"_id":"public/2018/03/11/2018-03-11-回归分析系列3-简单线性回归/index.html","hash":"d5b4c9e91ff01b2c863e566313d0c6c1760ae526","modified":1539406981408},{"_id":"public/2018/03/10/2018-03-10-回归分析系列1-统计概念基础/index.html","hash":"3b425dfec2a5b8d016e3f6572d72d5d064861a2d","modified":1539406981408},{"_id":"public/2018/01/27/2018-01-27-博客文章写作样式/index.html","hash":"69ed4396474458322e8420b01298e0a26c1985cd","modified":1539406981408},{"_id":"public/2018/01/23/2018-01-23-Next个性化设置/index.html","hash":"64515dcc2d6c7b533d2ae89f2c3c78752a02127c","modified":1539406981408},{"_id":"public/2018/01/23/2018-01-23-Cmd-Markdown使用说明/index.html","hash":"8f47a34f81652290c9965269a341ed3330e65c66","modified":1539406981409},{"_id":"public/archives/index.html","hash":"3bb8a141ca3ee08f2e2f814d8f714e9297755805","modified":1539406981409},{"_id":"public/categories/软件推荐/index.html","hash":"af6e5625492b23838608aa9413c612b0c7850946","modified":1539406981409},{"_id":"public/categories/网站建设/index.html","hash":"72ba1d8c6b0c23e26279a8d4a66fc64fa543dbda","modified":1539406981409},{"_id":"public/categories/排版/index.html","hash":"27c94fda9961fe1464a7632d3721dc46d132e137","modified":1539406981409},{"_id":"public/categories/回归分析/index.html","hash":"a25d6e2cedfc3961baa14765be4914a910901130","modified":1539406981409},{"_id":"public/categories/R/index.html","hash":"24b6d0d6a9244852ef2204d7d86761d167b72551","modified":1539406981409},{"_id":"public/categories/碎碎念/index.html","hash":"e4d5bb49807faff4054db2b6cdd6bc3febd1da47","modified":1539406981409},{"_id":"public/categories/经济学人/index.html","hash":"fbe895e5ce989574a312f249f111da0985f1d021","modified":1539406981410},{"_id":"public/index.html","hash":"db2f4b648754fafdd05d7c8c704071576d46f279","modified":1539406981410},{"_id":"public/page/2/index.html","hash":"2b65b1eb5f327beb32e333ca8a582d8aa093030c","modified":1539406981410},{"_id":"public/tags/Cmd-Markdown/index.html","hash":"0d062d109a3210bae19ed34203285f7d45cd79ac","modified":1539406981410},{"_id":"public/tags/Next/index.html","hash":"fcc61d4415a61c01ba2bbc7ccf0d672f03057a61","modified":1539406981410},{"_id":"public/tags/Markdown/index.html","hash":"9c7559f89f9824f3f0e0f07af6851fb00c2bdb56","modified":1539406981410},{"_id":"public/tags/Hexo/index.html","hash":"3900c5475665b36b09c5ba99e591f8426f983a04","modified":1539406981410},{"_id":"public/tags/回归分析/index.html","hash":"04e3c2f5dd26e4b327bc7fa689b1501c910dc11e","modified":1539406981410},{"_id":"public/tags/统计/index.html","hash":"d478873d5f305979847251679f17f8b69f38ea5c","modified":1539406981410},{"_id":"public/tags/线性回归/index.html","hash":"47128b30a9433cb22fa4d0ebaa6d8667e6eed761","modified":1539406981410},{"_id":"public/tags/R/index.html","hash":"1a7e94086cefa046c9f61ef4a222db86d2a0ceee","modified":1539406981410},{"_id":"public/tags/apply/index.html","hash":"2a7b3c6537451d0913ea96a433a26729f9e5c8ad","modified":1539406981411},{"_id":"public/tags/数据操作/index.html","hash":"6b44001f585bbe5ca9075abfb51de061a815bdae","modified":1539406981411},{"_id":"public/tags/formattable/index.html","hash":"30366af2903786da1b2c3a9462d617251ab47cfd","modified":1539406981411},{"_id":"public/tags/数据展示/index.html","hash":"438ec1642bc2c0c80e95c9ae9d58852f3a780faf","modified":1539406981411},{"_id":"public/tags/数据可视化/index.html","hash":"24831c090a9065b0ddf3db501539432c64360c9c","modified":1539406981411},{"_id":"public/tags/DT/index.html","hash":"32f0533211a0c78c0dd48fe8bb9afdb6e8e46e9f","modified":1539406981411},{"_id":"public/tags/数据处理/index.html","hash":"a282298c858888985b1d83a8f5f2e67ba7b77231","modified":1539406981411},{"_id":"public/tags/API/index.html","hash":"6494089cb8c114741221acf864a6b1c84cbf5e39","modified":1539406981411},{"_id":"public/tags/REmap/index.html","hash":"b3dce2add30ba7426ab114d3d5ee6ef1f5a9cfc5","modified":1539406981411},{"_id":"public/tags/地图可视化/index.html","hash":"732f8864b824ba0d036f03a3c452845127ee261b","modified":1539406981411},{"_id":"public/tags/日志/index.html","hash":"2edcc57bc364687c4cd42802dda4a27485e3de95","modified":1539406981411},{"_id":"public/tags/随笔/index.html","hash":"29f02b17db6bc426850708aa8df00bc2f32a4ed9","modified":1539406981411},{"_id":"public/tags/计划/index.html","hash":"d1d4ae85155d4fc41bea65632895450870823d97","modified":1539406981411},{"_id":"public/tags/经济学人/index.html","hash":"2b122babd74762e9fec8727e6e1cba0161359928","modified":1539406981411},{"_id":"public/tags/人工智能/index.html","hash":"da19a860c7b20411a222afdd7d93c27a75faa74a","modified":1539406981411},{"_id":"public/tags/译文/index.html","hash":"731a6432181998b111a846e61fe3239c6f2c3b53","modified":1539406981411},{"_id":"public/tags/graphics/index.html","hash":"2014c72b192e4eb4faad6c7b9ca4a392e0d27c98","modified":1539406981412},{"_id":"public/tags/grid/index.html","hash":"2205ea54e8e5fa6e495341c32bbada30fc3cb3c5","modified":1539406981412},{"_id":"public/tags/lattice/index.html","hash":"aa4d473b54d28f4380f52aadc8b055098e08bb89","modified":1539406981412},{"_id":"public/tags/ggplot2/index.html","hash":"f87f659d25c0f7f107356c01b92bc7e2b3a8e41a","modified":1539406981412},{"_id":"public/tags/R-Markdown/index.html","hash":"d9d566357eca088e349ef213ede349b3bddb5bab","modified":1539406981412},{"_id":"public/tags/数据报告/index.html","hash":"d0ed797efc98877230db9f645e0454bc079a99b7","modified":1539406981412},{"_id":"public/tags/可重复性/index.html","hash":"23e7103064c92d71aa2e82c8dfae513f1587f97f","modified":1539406981412},{"_id":"public/tags/可视化/index.html","hash":"293686447896ba8244ddf8452c679aacb7669730","modified":1539406981412},{"_id":"public/robots.txt","hash":"04c627ebeb42f30361b011ec9be7630b5e954575","modified":1539406981425},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1539406981425},{"_id":"public/images/algolia_logo.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1539406981425},{"_id":"public/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1539406981425},{"_id":"public/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1539406981425},{"_id":"public/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1539406981425},{"_id":"public/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1539406981425},{"_id":"public/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1539406981425},{"_id":"public/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1539406981425},{"_id":"public/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1539406981425},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1539406981425},{"_id":"public/images/logo.svg","hash":"169f56fd82941591dad3abd734a50ec7259be950","modified":1539406981425},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1539406981426},{"_id":"public/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1539406981426},{"_id":"public/uploads/wechat-qcode.jpg","hash":"8b94260578bde9930cde6dce1434b61795313f8b","modified":1539406981426},{"_id":"public/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1539406981426},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1539406981426},{"_id":"public/lib/fastclick/LICENSE","hash":"6f474ea75c42442da7bbcf2e9143ce98258efd8d","modified":1539406981426},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1539406981426},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1539406981426},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1539406981426},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1539406981426},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1539406981426},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1539406981426},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1539406981426},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1539406981426},{"_id":"public/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1539406981426},{"_id":"public/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1539406981426},{"_id":"public/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1539406981426},{"_id":"public/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1539406981426},{"_id":"public/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1539406981426},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1539406981426},{"_id":"public/images/wechatpay.jpg","hash":"67ee785d162a5a4d2896ffe5f0d82068aed1fced","modified":1539406981976},{"_id":"public/images/alipay.jpg","hash":"4867b430b1bc75aec67dabc38fa68c0987fad82d","modified":1539406981979},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1539406981988},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1539406981988},{"_id":"public/404.html","hash":"d6cd47ba4ab178269d9e7be773e521a3f74a738b","modified":1539406981996},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1539406981996},{"_id":"public/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1539406981996},{"_id":"public/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1539406981996},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1539406981996},{"_id":"public/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1539406981996},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1539406981996},{"_id":"public/js/src/motion.js","hash":"754b294394f102c8fd9423a1789ddb1201677898","modified":1539406981996},{"_id":"public/js/src/post-details.js","hash":"a13f45f7aa8291cf7244ec5ba93907d119c5dbdd","modified":1539406981996},{"_id":"public/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1539406981996},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1539406981996},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1539406981996},{"_id":"public/js/src/utils.js","hash":"9b1325801d27213083d1487a12b1a62b539ab6f8","modified":1539406981997},{"_id":"public/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1539406981997},{"_id":"public/lib/fastclick/README.html","hash":"d6e90449a2c09f3033f7e43d68b0cc8208e22e09","modified":1539406981997},{"_id":"public/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1539406981997},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1539406981997},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1539406981997},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1539406981997},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"06811ca2f722dead021493457f27cdc264ef928d","modified":1539406981997},{"_id":"public/lib/jquery_lazyload/README.html","hash":"a08fccd381c8fdb70ba8974b208254c5ba23a95f","modified":1539406981997},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1539406981997},{"_id":"public/lib/needsharebutton/needsharebutton.css","hash":"3ef0020a1815ca6151ea4886cd0d37421ae3695c","modified":1539406981997},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1539406981997},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1539406981997},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1539406981997},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1539406981998},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1539406981998},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1539406981998},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1539406981998},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1539406981998},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1539406981998},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1539406981998},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1539406981998},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1539406981998},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1539406981998},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1539406981998},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1539406981998},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1539406981999},{"_id":"public/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1539406981999},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1539406981999},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1539406981999},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1539406981999},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1539406981999},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1539406981999},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1539406981999},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1539406981999},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1539406982000},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1539406982000},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1539406982000},{"_id":"public/css/main.css","hash":"22abd7e11d16cbdc74ae5cd9a927270d2ed7a856","modified":1539406982000},{"_id":"public/lib/needsharebutton/needsharebutton.js","hash":"9885fd9bea5e7ebafc5b1de9d17be5e106248d96","modified":1539406982000},{"_id":"public/lib/needsharebutton/font-embedded.css","hash":"c39d37278c1e178838732af21bd26cd0baeddfe0","modified":1539406982000},{"_id":"public/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1539406982000},{"_id":"public/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1539406982000},{"_id":"public/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1539406982000},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1539406982000},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1539406982000},{"_id":"public/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1539406982000},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1539406982000},{"_id":"public/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1539406982000},{"_id":"public/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1539406982000},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1539406982001},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1539406982001},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1539406982001},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1539406982001},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1539406982001},{"_id":"public/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1539406982001},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1539406982001},{"_id":"public/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1539406982001},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1539406982001},{"_id":"public/images/bird.png","hash":"9c2ff213f03c2f23ec58fbd88d365772fe35a035","modified":1539406982002},{"_id":"public/uploads/avatar.png","hash":"868a85e32ed1ceb335193ca3a440182e4ddf792e","modified":1539406982002},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1539406982003},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1539406982003},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1539406982003},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"b5483b11f8ba213e733b5b8af9927a04fec996f6","modified":1539406982024}],"Category":[{"name":"软件推荐","_id":"cjn6z60iw0004jsuvu3kise91"},{"name":"网站建设","_id":"cjn6z60j40009jsuvvpv58ylf"},{"name":"排版","_id":"cjn6z60jb000fjsuvvkkajrsz"},{"name":"回归分析","_id":"cjn6z60jg000ljsuvxtyly5gb"},{"name":"R","_id":"cjn6z60jq000wjsuv0ib7z7jy"},{"name":"碎碎念","_id":"cjn6z60jx001ajsuvel7m50sa"},{"name":"经济学人","_id":"cjn6z60jy001fjsuveezxyl5d"}],"Data":[],"Page":[{"title":"categories","date":"2018-01-22T04:38:48.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2018-01-22 12:38:48\ntype: \"categories\"\ncomments: false\n---\n","updated":"2018-01-22T05:41:40.000Z","path":"categories/index.html","layout":"page","_id":"cjn6z60is0001jsuv7a9f9ljp","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2018-01-22T04:37:05.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2018-01-22 12:37:05\ntype: \"tags\"\ncomments: false\n---\n","updated":"2018-01-22T05:41:38.000Z","path":"tags/index.html","layout":"page","_id":"cjn6z60iv0003jsuv4y3hc2jz","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Cmd Markdown 使用说明","date":"2018-01-23T02:54:32.000Z","_content":"\n我们理解您需要更便捷更高效的工具记录思想，整理笔记、知识，并将其中承载的价值传播给他人，**Cmd Markdown** 是我们给出的答案 —— 我们为记录思想和分享知识提供更专业的工具。 您可以使用 Cmd Markdown：\n\n> * 整理知识，学习笔记\n> * 发布日记，杂文，所见所想\n> * 撰写发布技术文稿（代码支持）\n> * 撰写发布学术论文（LaTeX 公式支持）\n\n![cmd-markdown-logo](https://www.zybuluo.com/static/img/logo.png)\n<!--more-->\n除了您现在看到的这个 Cmd Markdown 在线版本，您还可以前往以下网址下载：\n\n### [Windows/Mac/Linux 全平台客户端](https://www.zybuluo.com/cmd/)\n\n> 请保留此份 Cmd Markdown 的欢迎稿兼使用说明，如需撰写新稿件，点击顶部工具栏右侧的 <i class=\"icon-file\"></i> **新文稿** 或者使用快捷键 `Ctrl+Alt+N`。\n\n------\n\n## 什么是 Markdown\n\nMarkdown 是一种方便记忆、书写的纯文本标记语言，用户可以使用这些标记符号以最小的输入代价生成极富表现力的文档：譬如您正在阅读的这份文档。它使用简单的符号标记不同的标题，分割不同的段落，**粗体** 或者 *斜体* 某些文字，更棒的是，它还可以\n\n### 1. 制作一份待办事宜 [Todo 列表](https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#13-待办事宜-todo-列表)\n\n- [ ] 支持以 PDF 格式导出文稿\n- [ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率\n- [x] 新增 Todo 列表功能\n- [x] 修复 LaTex 公式渲染问题\n- [x] 新增 LaTex 公式编号功能\n\n### 2. 书写一个质能守恒公式[^LaTeX]\n\n$$E=mc^2$$\n\n### 3. 高亮一段代码[^code]\n\n```python\n@requires_authorization\nclass SomeClass:\n    pass\n\nif __name__ == '__main__':\n    # A comment\n    print 'hello world'\n```\n\n### 4. 高效绘制 [流程图](https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#7-流程图)\n\n```flow\nst=>start: Start\nop=>operation: Your Operation\ncond=>condition: Yes or No?\ne=>end\n\nst->op->cond\ncond(yes)->e\ncond(no)->op\n```\n\n### 5. 高效绘制 [序列图](https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#8-序列图)\n\n```seq\nAlice->Bob: Hello Bob, how are you?\nNote right of Bob: Bob thinks\nBob-->Alice: I am good thanks!\n```\n\n### 6. 高效绘制 [甘特图](https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#9-甘特图)\n\n```gantt\n    title 项目开发流程\n    section 项目确定\n        需求分析       :a1, 2016-06-22, 3d\n        可行性报告     :after a1, 5d\n        概念验证       : 5d\n    section 项目实施\n        概要设计      :2016-07-05  , 5d\n        详细设计      :2016-07-08, 10d\n        编码          :2016-07-15, 10d\n        测试          :2016-07-22, 5d\n    section 发布验收\n        发布: 2d\n        验收: 3d\n```\n\n### 7. 绘制表格\n\n| 项目        | 价格   |  数量  |\n| --------   | -----:  | :----:  |\n| 计算机     | \\$1600 |   5     |\n| 手机        |   \\$12   |   12   |\n| 管线        |    \\$1    |  234  |\n\n### 8. 更详细语法说明\n\n想要查看更详细的语法说明，可以参考我们准备的 [Cmd Markdown 简明语法手册][1]，进阶用户可以参考 [Cmd Markdown 高阶语法手册][2] 了解更多高级功能。\n\n总而言之，不同于其它 *所见即所得* 的编辑器：你只需使用键盘专注于书写文本内容，就可以生成印刷级的排版格式，省却在键盘和工具栏之间来回切换，调整内容和格式的麻烦。**Markdown 在流畅的书写和印刷级的阅读体验之间找到了平衡。** 目前它已经成为世界上最大的技术分享网站 GitHub 和 技术问答网站 StackOverFlow 的御用书写格式。\n\n---\n\n## 什么是 Cmd Markdown\n\n您可以使用很多工具书写 Markdown，但是 Cmd Markdown 是这个星球上我们已知的、最好的 Markdown 工具——没有之一 ：）因为深信文字的力量，所以我们和你一样，对流畅书写，分享思想和知识，以及阅读体验有极致的追求，我们把对于这些诉求的回应整合在 Cmd Markdown，并且一次，两次，三次，乃至无数次地提升这个工具的体验，最终将它演化成一个 **编辑/发布/阅读** Markdown 的在线平台——您可以在任何地方，任何系统/设备上管理这里的文字。\n\n### 1. 实时同步预览\n\n我们将 Cmd Markdown 的主界面一分为二，左边为**编辑区**，右边为**预览区**，在编辑区的操作会实时地渲染到预览区方便查看最终的版面效果，并且如果你在其中一个区拖动滚动条，我们有一个巧妙的算法把另一个区的滚动条同步到等价的位置，超酷！\n\n### 2. 编辑工具栏\n\n也许您还是一个 Markdown 语法的新手，在您完全熟悉它之前，我们在 **编辑区** 的顶部放置了一个如下图所示的工具栏，您可以使用鼠标在工具栏上调整格式，不过我们仍旧鼓励你使用键盘标记格式，提高书写的流畅度。\n\n![tool-editor](https://www.zybuluo.com/static/img/toolbar-editor.png)\n\n### 3. 编辑模式\n\n完全心无旁骛的方式编辑文字：点击 **编辑工具栏** 最右侧的拉伸按钮或者按下 `Ctrl + M`，将 Cmd Markdown 切换到独立的编辑模式，这是一个极度简洁的写作环境，所有可能会引起分心的元素都已经被挪除，超清爽！\n\n### 4. 实时的云端文稿\n\n为了保障数据安全，Cmd Markdown 会将您每一次击键的内容保存至云端，同时在 **编辑工具栏** 的最右侧提示 `已保存` 的字样。无需担心浏览器崩溃，机器掉电或者地震，海啸——在编辑的过程中随时关闭浏览器或者机器，下一次回到 Cmd Markdown 的时候继续写作。\n\n### 5. 离线模式\n\n在网络环境不稳定的情况下记录文字一样很安全！在您写作的时候，如果电脑突然失去网络连接，Cmd Markdown 会智能切换至离线模式，将您后续键入的文字保存在本地，直到网络恢复再将他们传送至云端，即使在网络恢复前关闭浏览器或者电脑，一样没有问题，等到下次开启 Cmd Markdown 的时候，她会提醒您将离线保存的文字传送至云端。简而言之，我们尽最大的努力保障您文字的安全。\n\n### 6. 管理工具栏\n\n为了便于管理您的文稿，在 **预览区** 的顶部放置了如下所示的 **管理工具栏**：\n\n![tool-manager](https://www.zybuluo.com/static/img/toolbar-manager.jpg)\n\n通过管理工具栏可以：\n\n<i class=\"icon-share\"></i> 发布：将当前的文稿生成固定链接，在网络上发布，分享\n<i class=\"icon-file\"></i> 新建：开始撰写一篇新的文稿\n<i class=\"icon-trash\"></i> 删除：删除当前的文稿\n<i class=\"icon-cloud\"></i> 导出：将当前的文稿转化为 Markdown 文本或者 Html 格式，并导出到本地\n<i class=\"icon-reorder\"></i> 列表：所有新增和过往的文稿都可以在这里查看、操作\n<i class=\"icon-pencil\"></i> 模式：切换 普通/Vim/Emacs 编辑模式\n\n### 7. 阅读工具栏\n\n![tool-manager](https://www.zybuluo.com/static/img/toolbar-reader.jpg)\n\n通过 **预览区** 右上角的 **阅读工具栏**，可以查看当前文稿的目录并增强阅读体验。\n\n工具栏上的五个图标依次为：\n\n<i class=\"icon-list\"></i> 目录：快速导航当前文稿的目录结构以跳转到感兴趣的段落\n<i class=\"icon-chevron-sign-left\"></i> 视图：互换左边编辑区和右边预览区的位置\n<i class=\"icon-adjust\"></i> 主题：内置了黑白两种模式的主题，试试 **黑色主题**，超炫！\n<i class=\"icon-desktop\"></i> 阅读：心无旁骛的阅读模式提供超一流的阅读体验\n<i class=\"icon-fullscreen\"></i> 全屏：简洁，简洁，再简洁，一个完全沉浸式的写作和阅读环境\n\n### 8. 阅读模式\n\n在 **阅读工具栏** 点击 <i class=\"icon-desktop\"></i> 或者按下 `Ctrl+Alt+M` 随即进入独立的阅读模式界面，我们在版面渲染上的每一个细节：字体，字号，行间距，前背景色都倾注了大量的时间，努力提升阅读的体验和品质。\n\n### 9. 标签、分类和搜索\n\n在编辑区任意行首位置输入以下格式的文字可以标签当前文档：\n\n标签： 未分类\n\n标签以后的文稿在【文件列表】（Ctrl+Alt+F）里会按照标签分类，用户可以同时使用键盘或者鼠标浏览查看，或者在【文件列表】的搜索文本框内搜索标题关键字过滤文稿，如下图所示：\n\n![file-list](https://www.zybuluo.com/static/img/file-list.png)\n\n### 10. 文稿发布和分享\n\n在您使用 Cmd Markdown 记录，创作，整理，阅读文稿的同时，我们不仅希望它是一个有力的工具，更希望您的思想和知识通过这个平台，连同优质的阅读体验，将他们分享给有相同志趣的人，进而鼓励更多的人来到这里记录分享他们的思想和知识，尝试点击 <i class=\"icon-share\"></i> (Ctrl+Alt+P) 发布这份文档给好友吧！\n\n------\n\n再一次感谢您花费时间阅读这份欢迎稿，点击 <i class=\"icon-file\"></i> (Ctrl+Alt+N) 开始撰写新的文稿吧！祝您在这里记录、阅读、分享愉快！\n\n作者 [@ghosert][3]     \n2016 年 07月 07日    \n\n[^LaTeX]: 支持 **LaTeX** 编辑显示支持，例如：$\\sum_{i=1}^n a_i=0$， 访问 [MathJax][4] 参考更多使用方法。\n\n[^code]: 代码高亮功能支持包括 Java, Python, JavaScript 在内的，**四十一**种主流编程语言。\n\n[1]: https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown\n[2]: https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#cmd-markdown-高阶语法手册\n[3]: http://weibo.com/ghosert\n[4]: http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference\n\n","source":"_posts/2018-01-23-Cmd-Markdown使用说明.md","raw":"---\ntitle: Cmd Markdown 使用说明\ndate: 2018-01-23 10:54:32\ncategories: 软件推荐\ntags: Cmd-Markdown\n---\n\n我们理解您需要更便捷更高效的工具记录思想，整理笔记、知识，并将其中承载的价值传播给他人，**Cmd Markdown** 是我们给出的答案 —— 我们为记录思想和分享知识提供更专业的工具。 您可以使用 Cmd Markdown：\n\n> * 整理知识，学习笔记\n> * 发布日记，杂文，所见所想\n> * 撰写发布技术文稿（代码支持）\n> * 撰写发布学术论文（LaTeX 公式支持）\n\n![cmd-markdown-logo](https://www.zybuluo.com/static/img/logo.png)\n<!--more-->\n除了您现在看到的这个 Cmd Markdown 在线版本，您还可以前往以下网址下载：\n\n### [Windows/Mac/Linux 全平台客户端](https://www.zybuluo.com/cmd/)\n\n> 请保留此份 Cmd Markdown 的欢迎稿兼使用说明，如需撰写新稿件，点击顶部工具栏右侧的 <i class=\"icon-file\"></i> **新文稿** 或者使用快捷键 `Ctrl+Alt+N`。\n\n------\n\n## 什么是 Markdown\n\nMarkdown 是一种方便记忆、书写的纯文本标记语言，用户可以使用这些标记符号以最小的输入代价生成极富表现力的文档：譬如您正在阅读的这份文档。它使用简单的符号标记不同的标题，分割不同的段落，**粗体** 或者 *斜体* 某些文字，更棒的是，它还可以\n\n### 1. 制作一份待办事宜 [Todo 列表](https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#13-待办事宜-todo-列表)\n\n- [ ] 支持以 PDF 格式导出文稿\n- [ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率\n- [x] 新增 Todo 列表功能\n- [x] 修复 LaTex 公式渲染问题\n- [x] 新增 LaTex 公式编号功能\n\n### 2. 书写一个质能守恒公式[^LaTeX]\n\n$$E=mc^2$$\n\n### 3. 高亮一段代码[^code]\n\n```python\n@requires_authorization\nclass SomeClass:\n    pass\n\nif __name__ == '__main__':\n    # A comment\n    print 'hello world'\n```\n\n### 4. 高效绘制 [流程图](https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#7-流程图)\n\n```flow\nst=>start: Start\nop=>operation: Your Operation\ncond=>condition: Yes or No?\ne=>end\n\nst->op->cond\ncond(yes)->e\ncond(no)->op\n```\n\n### 5. 高效绘制 [序列图](https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#8-序列图)\n\n```seq\nAlice->Bob: Hello Bob, how are you?\nNote right of Bob: Bob thinks\nBob-->Alice: I am good thanks!\n```\n\n### 6. 高效绘制 [甘特图](https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#9-甘特图)\n\n```gantt\n    title 项目开发流程\n    section 项目确定\n        需求分析       :a1, 2016-06-22, 3d\n        可行性报告     :after a1, 5d\n        概念验证       : 5d\n    section 项目实施\n        概要设计      :2016-07-05  , 5d\n        详细设计      :2016-07-08, 10d\n        编码          :2016-07-15, 10d\n        测试          :2016-07-22, 5d\n    section 发布验收\n        发布: 2d\n        验收: 3d\n```\n\n### 7. 绘制表格\n\n| 项目        | 价格   |  数量  |\n| --------   | -----:  | :----:  |\n| 计算机     | \\$1600 |   5     |\n| 手机        |   \\$12   |   12   |\n| 管线        |    \\$1    |  234  |\n\n### 8. 更详细语法说明\n\n想要查看更详细的语法说明，可以参考我们准备的 [Cmd Markdown 简明语法手册][1]，进阶用户可以参考 [Cmd Markdown 高阶语法手册][2] 了解更多高级功能。\n\n总而言之，不同于其它 *所见即所得* 的编辑器：你只需使用键盘专注于书写文本内容，就可以生成印刷级的排版格式，省却在键盘和工具栏之间来回切换，调整内容和格式的麻烦。**Markdown 在流畅的书写和印刷级的阅读体验之间找到了平衡。** 目前它已经成为世界上最大的技术分享网站 GitHub 和 技术问答网站 StackOverFlow 的御用书写格式。\n\n---\n\n## 什么是 Cmd Markdown\n\n您可以使用很多工具书写 Markdown，但是 Cmd Markdown 是这个星球上我们已知的、最好的 Markdown 工具——没有之一 ：）因为深信文字的力量，所以我们和你一样，对流畅书写，分享思想和知识，以及阅读体验有极致的追求，我们把对于这些诉求的回应整合在 Cmd Markdown，并且一次，两次，三次，乃至无数次地提升这个工具的体验，最终将它演化成一个 **编辑/发布/阅读** Markdown 的在线平台——您可以在任何地方，任何系统/设备上管理这里的文字。\n\n### 1. 实时同步预览\n\n我们将 Cmd Markdown 的主界面一分为二，左边为**编辑区**，右边为**预览区**，在编辑区的操作会实时地渲染到预览区方便查看最终的版面效果，并且如果你在其中一个区拖动滚动条，我们有一个巧妙的算法把另一个区的滚动条同步到等价的位置，超酷！\n\n### 2. 编辑工具栏\n\n也许您还是一个 Markdown 语法的新手，在您完全熟悉它之前，我们在 **编辑区** 的顶部放置了一个如下图所示的工具栏，您可以使用鼠标在工具栏上调整格式，不过我们仍旧鼓励你使用键盘标记格式，提高书写的流畅度。\n\n![tool-editor](https://www.zybuluo.com/static/img/toolbar-editor.png)\n\n### 3. 编辑模式\n\n完全心无旁骛的方式编辑文字：点击 **编辑工具栏** 最右侧的拉伸按钮或者按下 `Ctrl + M`，将 Cmd Markdown 切换到独立的编辑模式，这是一个极度简洁的写作环境，所有可能会引起分心的元素都已经被挪除，超清爽！\n\n### 4. 实时的云端文稿\n\n为了保障数据安全，Cmd Markdown 会将您每一次击键的内容保存至云端，同时在 **编辑工具栏** 的最右侧提示 `已保存` 的字样。无需担心浏览器崩溃，机器掉电或者地震，海啸——在编辑的过程中随时关闭浏览器或者机器，下一次回到 Cmd Markdown 的时候继续写作。\n\n### 5. 离线模式\n\n在网络环境不稳定的情况下记录文字一样很安全！在您写作的时候，如果电脑突然失去网络连接，Cmd Markdown 会智能切换至离线模式，将您后续键入的文字保存在本地，直到网络恢复再将他们传送至云端，即使在网络恢复前关闭浏览器或者电脑，一样没有问题，等到下次开启 Cmd Markdown 的时候，她会提醒您将离线保存的文字传送至云端。简而言之，我们尽最大的努力保障您文字的安全。\n\n### 6. 管理工具栏\n\n为了便于管理您的文稿，在 **预览区** 的顶部放置了如下所示的 **管理工具栏**：\n\n![tool-manager](https://www.zybuluo.com/static/img/toolbar-manager.jpg)\n\n通过管理工具栏可以：\n\n<i class=\"icon-share\"></i> 发布：将当前的文稿生成固定链接，在网络上发布，分享\n<i class=\"icon-file\"></i> 新建：开始撰写一篇新的文稿\n<i class=\"icon-trash\"></i> 删除：删除当前的文稿\n<i class=\"icon-cloud\"></i> 导出：将当前的文稿转化为 Markdown 文本或者 Html 格式，并导出到本地\n<i class=\"icon-reorder\"></i> 列表：所有新增和过往的文稿都可以在这里查看、操作\n<i class=\"icon-pencil\"></i> 模式：切换 普通/Vim/Emacs 编辑模式\n\n### 7. 阅读工具栏\n\n![tool-manager](https://www.zybuluo.com/static/img/toolbar-reader.jpg)\n\n通过 **预览区** 右上角的 **阅读工具栏**，可以查看当前文稿的目录并增强阅读体验。\n\n工具栏上的五个图标依次为：\n\n<i class=\"icon-list\"></i> 目录：快速导航当前文稿的目录结构以跳转到感兴趣的段落\n<i class=\"icon-chevron-sign-left\"></i> 视图：互换左边编辑区和右边预览区的位置\n<i class=\"icon-adjust\"></i> 主题：内置了黑白两种模式的主题，试试 **黑色主题**，超炫！\n<i class=\"icon-desktop\"></i> 阅读：心无旁骛的阅读模式提供超一流的阅读体验\n<i class=\"icon-fullscreen\"></i> 全屏：简洁，简洁，再简洁，一个完全沉浸式的写作和阅读环境\n\n### 8. 阅读模式\n\n在 **阅读工具栏** 点击 <i class=\"icon-desktop\"></i> 或者按下 `Ctrl+Alt+M` 随即进入独立的阅读模式界面，我们在版面渲染上的每一个细节：字体，字号，行间距，前背景色都倾注了大量的时间，努力提升阅读的体验和品质。\n\n### 9. 标签、分类和搜索\n\n在编辑区任意行首位置输入以下格式的文字可以标签当前文档：\n\n标签： 未分类\n\n标签以后的文稿在【文件列表】（Ctrl+Alt+F）里会按照标签分类，用户可以同时使用键盘或者鼠标浏览查看，或者在【文件列表】的搜索文本框内搜索标题关键字过滤文稿，如下图所示：\n\n![file-list](https://www.zybuluo.com/static/img/file-list.png)\n\n### 10. 文稿发布和分享\n\n在您使用 Cmd Markdown 记录，创作，整理，阅读文稿的同时，我们不仅希望它是一个有力的工具，更希望您的思想和知识通过这个平台，连同优质的阅读体验，将他们分享给有相同志趣的人，进而鼓励更多的人来到这里记录分享他们的思想和知识，尝试点击 <i class=\"icon-share\"></i> (Ctrl+Alt+P) 发布这份文档给好友吧！\n\n------\n\n再一次感谢您花费时间阅读这份欢迎稿，点击 <i class=\"icon-file\"></i> (Ctrl+Alt+N) 开始撰写新的文稿吧！祝您在这里记录、阅读、分享愉快！\n\n作者 [@ghosert][3]     \n2016 年 07月 07日    \n\n[^LaTeX]: 支持 **LaTeX** 编辑显示支持，例如：$\\sum_{i=1}^n a_i=0$， 访问 [MathJax][4] 参考更多使用方法。\n\n[^code]: 代码高亮功能支持包括 Java, Python, JavaScript 在内的，**四十一**种主流编程语言。\n\n[1]: https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown\n[2]: https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#cmd-markdown-高阶语法手册\n[3]: http://weibo.com/ghosert\n[4]: http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference\n\n","slug":"2018-01-23-Cmd-Markdown使用说明","published":1,"updated":"2018-01-25T17:24:02.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60in0000jsuvi4bz1x78","content":"<p>我们理解您需要更便捷更高效的工具记录思想，整理笔记、知识，并将其中承载的价值传播给他人，<strong>Cmd Markdown</strong> 是我们给出的答案 —— 我们为记录思想和分享知识提供更专业的工具。 您可以使用 Cmd Markdown：</p>\n<blockquote>\n<ul>\n<li>整理知识，学习笔记</li>\n<li>发布日记，杂文，所见所想</li>\n<li>撰写发布技术文稿（代码支持）</li>\n<li>撰写发布学术论文（LaTeX 公式支持）</li>\n</ul>\n</blockquote>\n<p><img src=\"https://www.zybuluo.com/static/img/logo.png\" alt=\"cmd-markdown-logo\"><br><a id=\"more\"></a><br>除了您现在看到的这个 Cmd Markdown 在线版本，您还可以前往以下网址下载：</p>\n<h3 id=\"Windows-Mac-Linux-全平台客户端\"><a href=\"#Windows-Mac-Linux-全平台客户端\" class=\"headerlink\" title=\"Windows/Mac/Linux 全平台客户端\"></a><a href=\"https://www.zybuluo.com/cmd/\" target=\"_blank\" rel=\"noopener\">Windows/Mac/Linux 全平台客户端</a></h3><blockquote>\n<p>请保留此份 Cmd Markdown 的欢迎稿兼使用说明，如需撰写新稿件，点击顶部工具栏右侧的 <i class=\"icon-file\"></i> <strong>新文稿</strong> 或者使用快捷键 <code>Ctrl+Alt+N</code>。</p>\n</blockquote>\n<hr>\n<h2 id=\"什么是-Markdown\"><a href=\"#什么是-Markdown\" class=\"headerlink\" title=\"什么是 Markdown\"></a>什么是 Markdown</h2><p>Markdown 是一种方便记忆、书写的纯文本标记语言，用户可以使用这些标记符号以最小的输入代价生成极富表现力的文档：譬如您正在阅读的这份文档。它使用简单的符号标记不同的标题，分割不同的段落，<strong>粗体</strong> 或者 <em>斜体</em> 某些文字，更棒的是，它还可以</p>\n<h3 id=\"1-制作一份待办事宜-Todo-列表\"><a href=\"#1-制作一份待办事宜-Todo-列表\" class=\"headerlink\" title=\"1. 制作一份待办事宜 Todo 列表\"></a>1. 制作一份待办事宜 <a href=\"https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#13-待办事宜-todo-列表\" target=\"_blank\" rel=\"noopener\">Todo 列表</a></h3><ul>\n<li>[ ] 支持以 PDF 格式导出文稿</li>\n<li>[ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率</li>\n<li>[x] 新增 Todo 列表功能</li>\n<li>[x] 修复 LaTex 公式渲染问题</li>\n<li>[x] 新增 LaTex 公式编号功能</li>\n</ul>\n<h3 id=\"2-书写一个质能守恒公式LaTeX\"><a href=\"#2-书写一个质能守恒公式LaTeX\" class=\"headerlink\" title=\"2. 书写一个质能守恒公式LaTeX\"></a>2. 书写一个质能守恒公式<sup><a href=\"#fn_LaTeX\" id=\"reffn_LaTeX\">LaTeX</a></sup></h3><script type=\"math/tex; mode=display\">E=mc^2</script><h3 id=\"3-高亮一段代码code\"><a href=\"#3-高亮一段代码code\" class=\"headerlink\" title=\"3. 高亮一段代码code\"></a>3. 高亮一段代码<sup><a href=\"#fn_code\" id=\"reffn_code\">code</a></sup></h3><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@requires_authorization</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SomeClass</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    <span class=\"comment\"># A comment</span></span><br><span class=\"line\">    <span class=\"keyword\">print</span> <span class=\"string\">'hello world'</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"4-高效绘制-流程图\"><a href=\"#4-高效绘制-流程图\" class=\"headerlink\" title=\"4. 高效绘制 流程图\"></a>4. 高效绘制 <a href=\"https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#7-流程图\" target=\"_blank\" rel=\"noopener\">流程图</a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">st=&gt;start: Start</span><br><span class=\"line\">op=&gt;operation: Your Operation</span><br><span class=\"line\">cond=&gt;condition: Yes or No?</span><br><span class=\"line\">e=&gt;end</span><br><span class=\"line\"></span><br><span class=\"line\">st-&gt;op-&gt;cond</span><br><span class=\"line\">cond(yes)-&gt;e</span><br><span class=\"line\">cond(no)-&gt;op</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-高效绘制-序列图\"><a href=\"#5-高效绘制-序列图\" class=\"headerlink\" title=\"5. 高效绘制 序列图\"></a>5. 高效绘制 <a href=\"https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#8-序列图\" target=\"_blank\" rel=\"noopener\">序列图</a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Alice-&gt;Bob: Hello Bob, how are you?</span><br><span class=\"line\">Note right of Bob: Bob thinks</span><br><span class=\"line\">Bob--&gt;Alice: I am good thanks!</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-高效绘制-甘特图\"><a href=\"#6-高效绘制-甘特图\" class=\"headerlink\" title=\"6. 高效绘制 甘特图\"></a>6. 高效绘制 <a href=\"https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#9-甘特图\" target=\"_blank\" rel=\"noopener\">甘特图</a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title 项目开发流程</span><br><span class=\"line\">section 项目确定</span><br><span class=\"line\">    需求分析       :a1, 2016-06-22, 3d</span><br><span class=\"line\">    可行性报告     :after a1, 5d</span><br><span class=\"line\">    概念验证       : 5d</span><br><span class=\"line\">section 项目实施</span><br><span class=\"line\">    概要设计      :2016-07-05  , 5d</span><br><span class=\"line\">    详细设计      :2016-07-08, 10d</span><br><span class=\"line\">    编码          :2016-07-15, 10d</span><br><span class=\"line\">    测试          :2016-07-22, 5d</span><br><span class=\"line\">section 发布验收</span><br><span class=\"line\">    发布: 2d</span><br><span class=\"line\">    验收: 3d</span><br></pre></td></tr></table></figure>\n<h3 id=\"7-绘制表格\"><a href=\"#7-绘制表格\" class=\"headerlink\" title=\"7. 绘制表格\"></a>7. 绘制表格</h3><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>项目</th>\n<th style=\"text-align:right\">价格</th>\n<th style=\"text-align:center\">数量</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>计算机</td>\n<td style=\"text-align:right\">\\$1600</td>\n<td style=\"text-align:center\">5</td>\n</tr>\n<tr>\n<td>手机</td>\n<td style=\"text-align:right\">\\$12</td>\n<td style=\"text-align:center\">12</td>\n</tr>\n<tr>\n<td>管线</td>\n<td style=\"text-align:right\">\\$1</td>\n<td style=\"text-align:center\">234</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3 id=\"8-更详细语法说明\"><a href=\"#8-更详细语法说明\" class=\"headerlink\" title=\"8. 更详细语法说明\"></a>8. 更详细语法说明</h3><p>想要查看更详细的语法说明，可以参考我们准备的 <a href=\"https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown\" target=\"_blank\" rel=\"noopener\">Cmd Markdown 简明语法手册</a>，进阶用户可以参考 <a href=\"https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#cmd-markdown-高阶语法手册\" target=\"_blank\" rel=\"noopener\">Cmd Markdown 高阶语法手册</a> 了解更多高级功能。</p>\n<p>总而言之，不同于其它 <em>所见即所得</em> 的编辑器：你只需使用键盘专注于书写文本内容，就可以生成印刷级的排版格式，省却在键盘和工具栏之间来回切换，调整内容和格式的麻烦。<strong>Markdown 在流畅的书写和印刷级的阅读体验之间找到了平衡。</strong> 目前它已经成为世界上最大的技术分享网站 GitHub 和 技术问答网站 StackOverFlow 的御用书写格式。</p>\n<hr>\n<h2 id=\"什么是-Cmd-Markdown\"><a href=\"#什么是-Cmd-Markdown\" class=\"headerlink\" title=\"什么是 Cmd Markdown\"></a>什么是 Cmd Markdown</h2><p>您可以使用很多工具书写 Markdown，但是 Cmd Markdown 是这个星球上我们已知的、最好的 Markdown 工具——没有之一 ：）因为深信文字的力量，所以我们和你一样，对流畅书写，分享思想和知识，以及阅读体验有极致的追求，我们把对于这些诉求的回应整合在 Cmd Markdown，并且一次，两次，三次，乃至无数次地提升这个工具的体验，最终将它演化成一个 <strong>编辑/发布/阅读</strong> Markdown 的在线平台——您可以在任何地方，任何系统/设备上管理这里的文字。</p>\n<h3 id=\"1-实时同步预览\"><a href=\"#1-实时同步预览\" class=\"headerlink\" title=\"1. 实时同步预览\"></a>1. 实时同步预览</h3><p>我们将 Cmd Markdown 的主界面一分为二，左边为<strong>编辑区</strong>，右边为<strong>预览区</strong>，在编辑区的操作会实时地渲染到预览区方便查看最终的版面效果，并且如果你在其中一个区拖动滚动条，我们有一个巧妙的算法把另一个区的滚动条同步到等价的位置，超酷！</p>\n<h3 id=\"2-编辑工具栏\"><a href=\"#2-编辑工具栏\" class=\"headerlink\" title=\"2. 编辑工具栏\"></a>2. 编辑工具栏</h3><p>也许您还是一个 Markdown 语法的新手，在您完全熟悉它之前，我们在 <strong>编辑区</strong> 的顶部放置了一个如下图所示的工具栏，您可以使用鼠标在工具栏上调整格式，不过我们仍旧鼓励你使用键盘标记格式，提高书写的流畅度。</p>\n<p><img src=\"https://www.zybuluo.com/static/img/toolbar-editor.png\" alt=\"tool-editor\"></p>\n<h3 id=\"3-编辑模式\"><a href=\"#3-编辑模式\" class=\"headerlink\" title=\"3. 编辑模式\"></a>3. 编辑模式</h3><p>完全心无旁骛的方式编辑文字：点击 <strong>编辑工具栏</strong> 最右侧的拉伸按钮或者按下 <code>Ctrl + M</code>，将 Cmd Markdown 切换到独立的编辑模式，这是一个极度简洁的写作环境，所有可能会引起分心的元素都已经被挪除，超清爽！</p>\n<h3 id=\"4-实时的云端文稿\"><a href=\"#4-实时的云端文稿\" class=\"headerlink\" title=\"4. 实时的云端文稿\"></a>4. 实时的云端文稿</h3><p>为了保障数据安全，Cmd Markdown 会将您每一次击键的内容保存至云端，同时在 <strong>编辑工具栏</strong> 的最右侧提示 <code>已保存</code> 的字样。无需担心浏览器崩溃，机器掉电或者地震，海啸——在编辑的过程中随时关闭浏览器或者机器，下一次回到 Cmd Markdown 的时候继续写作。</p>\n<h3 id=\"5-离线模式\"><a href=\"#5-离线模式\" class=\"headerlink\" title=\"5. 离线模式\"></a>5. 离线模式</h3><p>在网络环境不稳定的情况下记录文字一样很安全！在您写作的时候，如果电脑突然失去网络连接，Cmd Markdown 会智能切换至离线模式，将您后续键入的文字保存在本地，直到网络恢复再将他们传送至云端，即使在网络恢复前关闭浏览器或者电脑，一样没有问题，等到下次开启 Cmd Markdown 的时候，她会提醒您将离线保存的文字传送至云端。简而言之，我们尽最大的努力保障您文字的安全。</p>\n<h3 id=\"6-管理工具栏\"><a href=\"#6-管理工具栏\" class=\"headerlink\" title=\"6. 管理工具栏\"></a>6. 管理工具栏</h3><p>为了便于管理您的文稿，在 <strong>预览区</strong> 的顶部放置了如下所示的 <strong>管理工具栏</strong>：</p>\n<p><img src=\"https://www.zybuluo.com/static/img/toolbar-manager.jpg\" alt=\"tool-manager\"></p>\n<p>通过管理工具栏可以：</p>\n<p><i class=\"icon-share\">&lt;/i&gt; 发布：将当前的文稿生成固定链接，在网络上发布，分享<br><i class=\"icon-file\"></i> 新建：开始撰写一篇新的文稿<br><i class=\"icon-trash\">&lt;/i&gt; 删除：删除当前的文稿<br><i class=\"icon-cloud\"></i> 导出：将当前的文稿转化为 Markdown 文本或者 Html 格式，并导出到本地<br><i class=\"icon-reorder\">&lt;/i&gt; 列表：所有新增和过往的文稿都可以在这里查看、操作<br><i class=\"icon-pencil\"></i> 模式：切换 普通/Vim/Emacs 编辑模式</i></i></i></p>\n<h3 id=\"7-阅读工具栏\"><a href=\"#7-阅读工具栏\" class=\"headerlink\" title=\"7. 阅读工具栏\"></a>7. 阅读工具栏</h3><p><img src=\"https://www.zybuluo.com/static/img/toolbar-reader.jpg\" alt=\"tool-manager\"></p>\n<p>通过 <strong>预览区</strong> 右上角的 <strong>阅读工具栏</strong>，可以查看当前文稿的目录并增强阅读体验。</p>\n<p>工具栏上的五个图标依次为：</p>\n<p><i class=\"icon-list\">&lt;/i&gt; 目录：快速导航当前文稿的目录结构以跳转到感兴趣的段落<br><i class=\"icon-chevron-sign-left\"></i> 视图：互换左边编辑区和右边预览区的位置<br><i class=\"icon-adjust\">&lt;/i&gt; 主题：内置了黑白两种模式的主题，试试 <strong>黑色主题</strong>，超炫！<br><i class=\"icon-desktop\"></i> 阅读：心无旁骛的阅读模式提供超一流的阅读体验<br><i class=\"icon-fullscreen\"></i> 全屏：简洁，简洁，再简洁，一个完全沉浸式的写作和阅读环境</i></i></p>\n<h3 id=\"8-阅读模式\"><a href=\"#8-阅读模式\" class=\"headerlink\" title=\"8. 阅读模式\"></a>8. 阅读模式</h3><p>在 <strong>阅读工具栏</strong> 点击 <i class=\"icon-desktop\"></i> 或者按下 <code>Ctrl+Alt+M</code> 随即进入独立的阅读模式界面，我们在版面渲染上的每一个细节：字体，字号，行间距，前背景色都倾注了大量的时间，努力提升阅读的体验和品质。</p>\n<h3 id=\"9-标签、分类和搜索\"><a href=\"#9-标签、分类和搜索\" class=\"headerlink\" title=\"9. 标签、分类和搜索\"></a>9. 标签、分类和搜索</h3><p>在编辑区任意行首位置输入以下格式的文字可以标签当前文档：</p>\n<p>标签： 未分类</p>\n<p>标签以后的文稿在【文件列表】（Ctrl+Alt+F）里会按照标签分类，用户可以同时使用键盘或者鼠标浏览查看，或者在【文件列表】的搜索文本框内搜索标题关键字过滤文稿，如下图所示：</p>\n<p><img src=\"https://www.zybuluo.com/static/img/file-list.png\" alt=\"file-list\"></p>\n<h3 id=\"10-文稿发布和分享\"><a href=\"#10-文稿发布和分享\" class=\"headerlink\" title=\"10. 文稿发布和分享\"></a>10. 文稿发布和分享</h3><p>在您使用 Cmd Markdown 记录，创作，整理，阅读文稿的同时，我们不仅希望它是一个有力的工具，更希望您的思想和知识通过这个平台，连同优质的阅读体验，将他们分享给有相同志趣的人，进而鼓励更多的人来到这里记录分享他们的思想和知识，尝试点击 <i class=\"icon-share\"></i> (Ctrl+Alt+P) 发布这份文档给好友吧！</p>\n<hr>\n<p>再一次感谢您花费时间阅读这份欢迎稿，点击 <i class=\"icon-file\"></i> (Ctrl+Alt+N) 开始撰写新的文稿吧！祝您在这里记录、阅读、分享愉快！</p>\n<p>作者 <a href=\"http://weibo.com/ghosert\" target=\"_blank\" rel=\"noopener\">@ghosert</a><br>2016 年 07月 07日    </p>\n<blockquote id=\"fn_LaTeX\">\n<sup>LaTeX</sup>. 支持 <strong>LaTeX</strong> 编辑显示支持，例如：$\\sum_{i=1}^n a_i=0$， 访问 <a href=\"http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference\" target=\"_blank\" rel=\"noopener\">MathJax</a> 参考更多使用方法。<a href=\"#reffn_LaTeX\" title=\"Jump back to footnote [LaTeX] in the text.\"> &#8617;</a>\n</blockquote>\n<blockquote id=\"fn_code\">\n<sup>code</sup>. 代码高亮功能支持包括 Java, Python, JavaScript 在内的，<strong>四十一</strong>种主流编程语言。<a href=\"#reffn_code\" title=\"Jump back to footnote [code] in the text.\"> &#8617;</a>\n</blockquote>\n","site":{"data":{}},"excerpt":"<p>我们理解您需要更便捷更高效的工具记录思想，整理笔记、知识，并将其中承载的价值传播给他人，<strong>Cmd Markdown</strong> 是我们给出的答案 —— 我们为记录思想和分享知识提供更专业的工具。 您可以使用 Cmd Markdown：</p>\n<blockquote>\n<ul>\n<li>整理知识，学习笔记</li>\n<li>发布日记，杂文，所见所想</li>\n<li>撰写发布技术文稿（代码支持）</li>\n<li>撰写发布学术论文（LaTeX 公式支持）</li>\n</ul>\n</blockquote>\n<p><img src=\"https://www.zybuluo.com/static/img/logo.png\" alt=\"cmd-markdown-logo\"><br>","more":"<br>除了您现在看到的这个 Cmd Markdown 在线版本，您还可以前往以下网址下载：</p>\n<h3 id=\"Windows-Mac-Linux-全平台客户端\"><a href=\"#Windows-Mac-Linux-全平台客户端\" class=\"headerlink\" title=\"Windows/Mac/Linux 全平台客户端\"></a><a href=\"https://www.zybuluo.com/cmd/\" target=\"_blank\" rel=\"noopener\">Windows/Mac/Linux 全平台客户端</a></h3><blockquote>\n<p>请保留此份 Cmd Markdown 的欢迎稿兼使用说明，如需撰写新稿件，点击顶部工具栏右侧的 <i class=\"icon-file\"></i> <strong>新文稿</strong> 或者使用快捷键 <code>Ctrl+Alt+N</code>。</p>\n</blockquote>\n<hr>\n<h2 id=\"什么是-Markdown\"><a href=\"#什么是-Markdown\" class=\"headerlink\" title=\"什么是 Markdown\"></a>什么是 Markdown</h2><p>Markdown 是一种方便记忆、书写的纯文本标记语言，用户可以使用这些标记符号以最小的输入代价生成极富表现力的文档：譬如您正在阅读的这份文档。它使用简单的符号标记不同的标题，分割不同的段落，<strong>粗体</strong> 或者 <em>斜体</em> 某些文字，更棒的是，它还可以</p>\n<h3 id=\"1-制作一份待办事宜-Todo-列表\"><a href=\"#1-制作一份待办事宜-Todo-列表\" class=\"headerlink\" title=\"1. 制作一份待办事宜 Todo 列表\"></a>1. 制作一份待办事宜 <a href=\"https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#13-待办事宜-todo-列表\" target=\"_blank\" rel=\"noopener\">Todo 列表</a></h3><ul>\n<li>[ ] 支持以 PDF 格式导出文稿</li>\n<li>[ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率</li>\n<li>[x] 新增 Todo 列表功能</li>\n<li>[x] 修复 LaTex 公式渲染问题</li>\n<li>[x] 新增 LaTex 公式编号功能</li>\n</ul>\n<h3 id=\"2-书写一个质能守恒公式LaTeX\"><a href=\"#2-书写一个质能守恒公式LaTeX\" class=\"headerlink\" title=\"2. 书写一个质能守恒公式LaTeX\"></a>2. 书写一个质能守恒公式<sup><a href=\"#fn_LaTeX\" id=\"reffn_LaTeX\">LaTeX</a></sup></h3><script type=\"math/tex; mode=display\">E=mc^2</script><h3 id=\"3-高亮一段代码code\"><a href=\"#3-高亮一段代码code\" class=\"headerlink\" title=\"3. 高亮一段代码code\"></a>3. 高亮一段代码<sup><a href=\"#fn_code\" id=\"reffn_code\">code</a></sup></h3><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@requires_authorization</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SomeClass</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    <span class=\"comment\"># A comment</span></span><br><span class=\"line\">    <span class=\"keyword\">print</span> <span class=\"string\">'hello world'</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"4-高效绘制-流程图\"><a href=\"#4-高效绘制-流程图\" class=\"headerlink\" title=\"4. 高效绘制 流程图\"></a>4. 高效绘制 <a href=\"https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#7-流程图\" target=\"_blank\" rel=\"noopener\">流程图</a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">st=&gt;start: Start</span><br><span class=\"line\">op=&gt;operation: Your Operation</span><br><span class=\"line\">cond=&gt;condition: Yes or No?</span><br><span class=\"line\">e=&gt;end</span><br><span class=\"line\"></span><br><span class=\"line\">st-&gt;op-&gt;cond</span><br><span class=\"line\">cond(yes)-&gt;e</span><br><span class=\"line\">cond(no)-&gt;op</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-高效绘制-序列图\"><a href=\"#5-高效绘制-序列图\" class=\"headerlink\" title=\"5. 高效绘制 序列图\"></a>5. 高效绘制 <a href=\"https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#8-序列图\" target=\"_blank\" rel=\"noopener\">序列图</a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Alice-&gt;Bob: Hello Bob, how are you?</span><br><span class=\"line\">Note right of Bob: Bob thinks</span><br><span class=\"line\">Bob--&gt;Alice: I am good thanks!</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-高效绘制-甘特图\"><a href=\"#6-高效绘制-甘特图\" class=\"headerlink\" title=\"6. 高效绘制 甘特图\"></a>6. 高效绘制 <a href=\"https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#9-甘特图\" target=\"_blank\" rel=\"noopener\">甘特图</a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title 项目开发流程</span><br><span class=\"line\">section 项目确定</span><br><span class=\"line\">    需求分析       :a1, 2016-06-22, 3d</span><br><span class=\"line\">    可行性报告     :after a1, 5d</span><br><span class=\"line\">    概念验证       : 5d</span><br><span class=\"line\">section 项目实施</span><br><span class=\"line\">    概要设计      :2016-07-05  , 5d</span><br><span class=\"line\">    详细设计      :2016-07-08, 10d</span><br><span class=\"line\">    编码          :2016-07-15, 10d</span><br><span class=\"line\">    测试          :2016-07-22, 5d</span><br><span class=\"line\">section 发布验收</span><br><span class=\"line\">    发布: 2d</span><br><span class=\"line\">    验收: 3d</span><br></pre></td></tr></table></figure>\n<h3 id=\"7-绘制表格\"><a href=\"#7-绘制表格\" class=\"headerlink\" title=\"7. 绘制表格\"></a>7. 绘制表格</h3><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>项目</th>\n<th style=\"text-align:right\">价格</th>\n<th style=\"text-align:center\">数量</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>计算机</td>\n<td style=\"text-align:right\">\\$1600</td>\n<td style=\"text-align:center\">5</td>\n</tr>\n<tr>\n<td>手机</td>\n<td style=\"text-align:right\">\\$12</td>\n<td style=\"text-align:center\">12</td>\n</tr>\n<tr>\n<td>管线</td>\n<td style=\"text-align:right\">\\$1</td>\n<td style=\"text-align:center\">234</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3 id=\"8-更详细语法说明\"><a href=\"#8-更详细语法说明\" class=\"headerlink\" title=\"8. 更详细语法说明\"></a>8. 更详细语法说明</h3><p>想要查看更详细的语法说明，可以参考我们准备的 <a href=\"https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown\" target=\"_blank\" rel=\"noopener\">Cmd Markdown 简明语法手册</a>，进阶用户可以参考 <a href=\"https://www.zybuluo.com/mdeditor?url=https://www.zybuluo.com/static/editor/md-help.markdown#cmd-markdown-高阶语法手册\" target=\"_blank\" rel=\"noopener\">Cmd Markdown 高阶语法手册</a> 了解更多高级功能。</p>\n<p>总而言之，不同于其它 <em>所见即所得</em> 的编辑器：你只需使用键盘专注于书写文本内容，就可以生成印刷级的排版格式，省却在键盘和工具栏之间来回切换，调整内容和格式的麻烦。<strong>Markdown 在流畅的书写和印刷级的阅读体验之间找到了平衡。</strong> 目前它已经成为世界上最大的技术分享网站 GitHub 和 技术问答网站 StackOverFlow 的御用书写格式。</p>\n<hr>\n<h2 id=\"什么是-Cmd-Markdown\"><a href=\"#什么是-Cmd-Markdown\" class=\"headerlink\" title=\"什么是 Cmd Markdown\"></a>什么是 Cmd Markdown</h2><p>您可以使用很多工具书写 Markdown，但是 Cmd Markdown 是这个星球上我们已知的、最好的 Markdown 工具——没有之一 ：）因为深信文字的力量，所以我们和你一样，对流畅书写，分享思想和知识，以及阅读体验有极致的追求，我们把对于这些诉求的回应整合在 Cmd Markdown，并且一次，两次，三次，乃至无数次地提升这个工具的体验，最终将它演化成一个 <strong>编辑/发布/阅读</strong> Markdown 的在线平台——您可以在任何地方，任何系统/设备上管理这里的文字。</p>\n<h3 id=\"1-实时同步预览\"><a href=\"#1-实时同步预览\" class=\"headerlink\" title=\"1. 实时同步预览\"></a>1. 实时同步预览</h3><p>我们将 Cmd Markdown 的主界面一分为二，左边为<strong>编辑区</strong>，右边为<strong>预览区</strong>，在编辑区的操作会实时地渲染到预览区方便查看最终的版面效果，并且如果你在其中一个区拖动滚动条，我们有一个巧妙的算法把另一个区的滚动条同步到等价的位置，超酷！</p>\n<h3 id=\"2-编辑工具栏\"><a href=\"#2-编辑工具栏\" class=\"headerlink\" title=\"2. 编辑工具栏\"></a>2. 编辑工具栏</h3><p>也许您还是一个 Markdown 语法的新手，在您完全熟悉它之前，我们在 <strong>编辑区</strong> 的顶部放置了一个如下图所示的工具栏，您可以使用鼠标在工具栏上调整格式，不过我们仍旧鼓励你使用键盘标记格式，提高书写的流畅度。</p>\n<p><img src=\"https://www.zybuluo.com/static/img/toolbar-editor.png\" alt=\"tool-editor\"></p>\n<h3 id=\"3-编辑模式\"><a href=\"#3-编辑模式\" class=\"headerlink\" title=\"3. 编辑模式\"></a>3. 编辑模式</h3><p>完全心无旁骛的方式编辑文字：点击 <strong>编辑工具栏</strong> 最右侧的拉伸按钮或者按下 <code>Ctrl + M</code>，将 Cmd Markdown 切换到独立的编辑模式，这是一个极度简洁的写作环境，所有可能会引起分心的元素都已经被挪除，超清爽！</p>\n<h3 id=\"4-实时的云端文稿\"><a href=\"#4-实时的云端文稿\" class=\"headerlink\" title=\"4. 实时的云端文稿\"></a>4. 实时的云端文稿</h3><p>为了保障数据安全，Cmd Markdown 会将您每一次击键的内容保存至云端，同时在 <strong>编辑工具栏</strong> 的最右侧提示 <code>已保存</code> 的字样。无需担心浏览器崩溃，机器掉电或者地震，海啸——在编辑的过程中随时关闭浏览器或者机器，下一次回到 Cmd Markdown 的时候继续写作。</p>\n<h3 id=\"5-离线模式\"><a href=\"#5-离线模式\" class=\"headerlink\" title=\"5. 离线模式\"></a>5. 离线模式</h3><p>在网络环境不稳定的情况下记录文字一样很安全！在您写作的时候，如果电脑突然失去网络连接，Cmd Markdown 会智能切换至离线模式，将您后续键入的文字保存在本地，直到网络恢复再将他们传送至云端，即使在网络恢复前关闭浏览器或者电脑，一样没有问题，等到下次开启 Cmd Markdown 的时候，她会提醒您将离线保存的文字传送至云端。简而言之，我们尽最大的努力保障您文字的安全。</p>\n<h3 id=\"6-管理工具栏\"><a href=\"#6-管理工具栏\" class=\"headerlink\" title=\"6. 管理工具栏\"></a>6. 管理工具栏</h3><p>为了便于管理您的文稿，在 <strong>预览区</strong> 的顶部放置了如下所示的 <strong>管理工具栏</strong>：</p>\n<p><img src=\"https://www.zybuluo.com/static/img/toolbar-manager.jpg\" alt=\"tool-manager\"></p>\n<p>通过管理工具栏可以：</p>\n<p><i class=\"icon-share\">&lt;/i&gt; 发布：将当前的文稿生成固定链接，在网络上发布，分享<br><i class=\"icon-file\"></i> 新建：开始撰写一篇新的文稿<br><i class=\"icon-trash\">&lt;/i&gt; 删除：删除当前的文稿<br><i class=\"icon-cloud\"></i> 导出：将当前的文稿转化为 Markdown 文本或者 Html 格式，并导出到本地<br><i class=\"icon-reorder\">&lt;/i&gt; 列表：所有新增和过往的文稿都可以在这里查看、操作<br><i class=\"icon-pencil\"></i> 模式：切换 普通/Vim/Emacs 编辑模式</i></i></i></p>\n<h3 id=\"7-阅读工具栏\"><a href=\"#7-阅读工具栏\" class=\"headerlink\" title=\"7. 阅读工具栏\"></a>7. 阅读工具栏</h3><p><img src=\"https://www.zybuluo.com/static/img/toolbar-reader.jpg\" alt=\"tool-manager\"></p>\n<p>通过 <strong>预览区</strong> 右上角的 <strong>阅读工具栏</strong>，可以查看当前文稿的目录并增强阅读体验。</p>\n<p>工具栏上的五个图标依次为：</p>\n<p><i class=\"icon-list\">&lt;/i&gt; 目录：快速导航当前文稿的目录结构以跳转到感兴趣的段落<br><i class=\"icon-chevron-sign-left\"></i> 视图：互换左边编辑区和右边预览区的位置<br><i class=\"icon-adjust\">&lt;/i&gt; 主题：内置了黑白两种模式的主题，试试 <strong>黑色主题</strong>，超炫！<br><i class=\"icon-desktop\"></i> 阅读：心无旁骛的阅读模式提供超一流的阅读体验<br><i class=\"icon-fullscreen\"></i> 全屏：简洁，简洁，再简洁，一个完全沉浸式的写作和阅读环境</i></i></p>\n<h3 id=\"8-阅读模式\"><a href=\"#8-阅读模式\" class=\"headerlink\" title=\"8. 阅读模式\"></a>8. 阅读模式</h3><p>在 <strong>阅读工具栏</strong> 点击 <i class=\"icon-desktop\"></i> 或者按下 <code>Ctrl+Alt+M</code> 随即进入独立的阅读模式界面，我们在版面渲染上的每一个细节：字体，字号，行间距，前背景色都倾注了大量的时间，努力提升阅读的体验和品质。</p>\n<h3 id=\"9-标签、分类和搜索\"><a href=\"#9-标签、分类和搜索\" class=\"headerlink\" title=\"9. 标签、分类和搜索\"></a>9. 标签、分类和搜索</h3><p>在编辑区任意行首位置输入以下格式的文字可以标签当前文档：</p>\n<p>标签： 未分类</p>\n<p>标签以后的文稿在【文件列表】（Ctrl+Alt+F）里会按照标签分类，用户可以同时使用键盘或者鼠标浏览查看，或者在【文件列表】的搜索文本框内搜索标题关键字过滤文稿，如下图所示：</p>\n<p><img src=\"https://www.zybuluo.com/static/img/file-list.png\" alt=\"file-list\"></p>\n<h3 id=\"10-文稿发布和分享\"><a href=\"#10-文稿发布和分享\" class=\"headerlink\" title=\"10. 文稿发布和分享\"></a>10. 文稿发布和分享</h3><p>在您使用 Cmd Markdown 记录，创作，整理，阅读文稿的同时，我们不仅希望它是一个有力的工具，更希望您的思想和知识通过这个平台，连同优质的阅读体验，将他们分享给有相同志趣的人，进而鼓励更多的人来到这里记录分享他们的思想和知识，尝试点击 <i class=\"icon-share\"></i> (Ctrl+Alt+P) 发布这份文档给好友吧！</p>\n<hr>\n<p>再一次感谢您花费时间阅读这份欢迎稿，点击 <i class=\"icon-file\"></i> (Ctrl+Alt+N) 开始撰写新的文稿吧！祝您在这里记录、阅读、分享愉快！</p>\n<p>作者 <a href=\"http://weibo.com/ghosert\" target=\"_blank\" rel=\"noopener\">@ghosert</a><br>2016 年 07月 07日    </p>\n<blockquote id=\"fn_LaTeX\">\n<sup>LaTeX</sup>. 支持 <strong>LaTeX</strong> 编辑显示支持，例如：$\\sum_{i=1}^n a_i=0$， 访问 <a href=\"http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference\" target=\"_blank\" rel=\"noopener\">MathJax</a> 参考更多使用方法。<a href=\"#reffn_LaTeX\" title=\"Jump back to footnote [LaTeX] in the text.\"> &#8617;</a>\n</blockquote>\n<blockquote id=\"fn_code\">\n<sup>code</sup>. 代码高亮功能支持包括 Java, Python, JavaScript 在内的，<strong>四十一</strong>种主流编程语言。<a href=\"#reffn_code\" title=\"Jump back to footnote [code] in the text.\"> &#8617;</a>\n</blockquote>"},{"title":"Next 个性化设置","date":"2018-01-23T08:52:13.000Z","copyright":true,"_content":"\n<center><i>NexT 拥有丰富而简单的主题配置，结合第三方服务，可以打造出属于自己的博客,实现个性化定制。掌握F12的用法之后，每个窗口的任意地方都可以任你修改，开来体验这些功能吧！</i></center>\n\n<br>![激扬青春.jpg](http://p31gihke0.bkt.clouddn.com/激扬青春.jpg)\n<!--more-->\nNext 的官方文档介绍了为站点添加诸多功能的基本方式，这些方式大多通过修改主题配置文件 `_config.yml` 来完成。在这篇文章中，假定读者已经成功使用 GitHub Pages + Hexo + Next 来配置站点，请确保您已经读过Next 官方的配置文档，那是一份很好的教程，如果对自己网站的配置一知半解，花上半个小时去把它读懂并付诸实践不失为明智的选择。\n\n> 你可以访问 [Next 的使用文档](http://theme-next.iissnan.com) 了解如何为自己的网站添加各种功能\n<!--more-->\n\n------\n\n## 开篇点题\n\n在修饰站点过程中，身为一个处女座Boy 的本博主本着优雅、实用、便利修改的原则来查找一些资料，结果发现许多的建站者的建议看起来厉害无比，各种代码齐天飞，实践起来却太过麻烦，也不便于以后的修改，非常不人性化！！！\n\n于是，我花了一下午+一晚上的时间对照着 [Next官方文档](http://theme-next.iissnan.com) 将站点和主题下的配置文件 `_config.yml` 基本上看了一遍，结果发现，其实很多问题在配置文件中修改几个参数即可，完全不必大动刀戈自己挥手写代码，当然，有些功能确实是还没集成到官方文件中的，许多博主给出的解决方案也十分贴心友好。在这里本人将 `官方配置里没讲到的和已经过时需要修改` 的功能做一个总结，算是对官方文档的一个补充，也给自己做个备忘，主要涉及以下功能：\n\n- [ ] **网站设置**\n    - [ ] 加载条\n    - [ ] 网站底部访问量\n    - [ ] 网站底部字数统计\n    - [ ] 隐藏网页底部powered By Hexo / 强力驱动\n    - [ ] 在右上角或者左上角实现fork me on github\n- [ ] **互动设置**\n    - [ ] 点击爆炸效果\n    - [ ] 点击出桃心效果\n    - [ ] 自定义鼠标样式\n- [ ] **博文设置**\n    - [ ] 博文置顶\n    - [ ] 博文压缩\n    - [ ] 文章加密访问\n    - [ ] 字数统计功能\n    - [ ] 主页文章添加阴影效果\n    - [ ] 修改文章内链接文本样式\n    - [ ] 在文章底部增加版权信息\n    - [ ] 修改文章底部的那个带#号的标签\n- [ ] **其他**\n    - [ ] 修改字体大小\n    - [ ] 添加评论-Valine\n    - [ ] 修改打赏字体不闪动\n\n------\n\n## 网站设置\n### 加载条\n1. 实现效果图\n![加载条.gif](http://p31gihke0.bkt.clouddn.com/加载条.gif)\n\n2. 实现方法\n修改主题配置文件 `_config.yml`将 `pace: false`改为 `pace: true`就行了，还可以换不同样式的加载条，如下图：\n![加载条2.png](http://p31gihke0.bkt.clouddn.com/加载条2.png)\n\n### 网站底部访问量\n1. 实现效果图\n![网站底部访问量.png](http://p31gihke0.bkt.clouddn.com/网站底部访问量.png)\n\n2. 实现方法\n打开`\\themes\\next\\layout\\_partials\\footer.swig`文件,在`copyright`前加上画红线这句话：\n![网站底部访问量2.png](http://p31gihke0.bkt.clouddn.com/网站底部访问量2.png)\n\n代码清单：\n``` c 文件位置：~/themes/next/layout/_partials/footer.swig\n<script async src=\"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\"></script>\n```\n然后再合适的位置添加显示统计的代码:\n``` c\n<span id=\"busuanzi_container_site_uv\">\n  本站访客数:<span id=\"busuanzi_value_site_uv\"></span>\n</span>\n```\n\n> 在这里有两中不同计算方式的统计代码：\n> 1. pv的方式，单个用户连续点击n篇文章，记录n次访问量\n> ``` c\n<span id=\"busuanzi_container_site_pv\">\n    本站访客数<span id=\"busuanzi_value_site_pv\"></span>\n</span>\n```\n> 2. uv的方式，单个用户连续点击n篇文章，只记录1次访客数\n> ``` c\n<span id=\"busuanzi_container_site_uv\">\n    本站总访问量<span id=busuanzi_value_site_uv\"></span>\n </span>\n```\n\n### 网站底部字数统计\n1. 实现效果图\n![网站底部访问量.png](http://p31gihke0.bkt.clouddn.com/网站底部访问量.png)\n\n2. 实现方法\n在博客根目录下，右键`git bash`运行如下代码:\n```\n$ npm install hexo-wordcount --save\n```\n然后在`/themes/next/layout/_partials/footer.swig`文件尾部加上：\n```c\n<div class=\"theme-info\">\n  <div class=\"powered-by\"></div>\n  <span class=\"post-count\">博客全站共{{ totalcount(site) }}字</span>\n</div>\n```\n\n### 隐藏网页底部powered By Hexo / 强力驱动\n打开主题配置文件,将改为`powered: true`改为`powered: false`即可。\n\n### 在右上角或者左上角实现fork me on github\n1. 实现效果图\n![fork me on github.png](http://p31gihke0.bkt.clouddn.com/fork me on github.png)\n![fork me on github2.png](http://p31gihke0.bkt.clouddn.com/fork me on github2.png)\n\n2. 实现方法\n在[GitHub Ribbons](https://github.com/blog/273-github-ribbons)或[GitHub Corners](http://tholman.com/github-corners/)挑选自己喜欢的样式，并复制代码。\n例如，复制以下代码：\n![fork me on github3.png](http://p31gihke0.bkt.clouddn.com/fork me on github3.png)\n\n然后粘贴刚才复制的代码到`themes/next/layout/_layout.swig`文件中(放在`<div class=\"headband\"></div>`的下面)，并把href改为你的github地址\n![fork me on github4.png](http://p31gihke0.bkt.clouddn.com/fork me on github4.png)\n\n------\n\n## 互动设置\n### 点击出桃心效果\n1. 实现效果图\n![点击出桃心效果.gif](http://p31gihke0.bkt.clouddn.com/点击出桃心效果.gif)\n\n2. 实现方法\n进入[这个网址](http://7u2ss1.com1.z0.glb.clouddn.com/love.js)，然后将里面的代码copy一下，在路径`/themes/next/source/js/src`里新建`love.js`文件并将代码复制进去，然后打开`\\themes\\next\\layout\\_layout.swig`文件,在末尾（在前面引用会出现找不到的bug）添加以下代码：\n```c\n<!-- 页面点击小红心 -->\n<script type=\"text/javascript\" src=\"/js/src/love.js\"></script>\n```\n\n### 点击爆炸效果\n1. 实现效果图\n![点击爆炸效果.png](http://p31gihke0.bkt.clouddn.com/点击爆炸效果.png)\n\n2. 实现方法\n跟那个红心是差不多的，首先在`themes/next/source/js/src`里面建一个叫`fireworks.js`的文件，代码如下：\n``` js\n\"use strict\";function updateCoords(e){pointerX=(e.clientX||e.touches[0].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[0].clientY-canvasEl.getBoundingClientRect().top}function setParticuleDirection(e){var t=anime.random(0,360)*Math.PI/180,a=anime.random(50,180),n=[-1,1][anime.random(0,1)]*a;return{x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)}}function createParticule(e,t){var a={};return a.x=e,a.y=t,a.color=colors[anime.random(0,colors.length-1)],a.radius=anime.random(16,32),a.endPos=setParticuleDirection(a),a.draw=function(){ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.fillStyle=a.color,ctx.fill()},a}function createCircle(e,t){var a={};return a.x=e,a.y=t,a.color=\"#F00\",a.radius=0.1,a.alpha=0.5,a.lineWidth=6,a.draw=function(){ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=1},a}function renderParticule(e){for(var t=0;t<e.animatables.length;t++){e.animatables[t].target.draw()}}function animateParticules(e,t){for(var a=createCircle(e,t),n=[],i=0;i<numberOfParticules;i++){n.push(createParticule(e,t))}anime.timeline().add({targets:n,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:0.1,duration:anime.random(1200,1800),easing:\"easeOutExpo\",update:renderParticule}).add({targets:a,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:\"linear\",duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:\"easeOutExpo\",update:renderParticule,offset:0})}function debounce(e,t){var a;return function(){var n=this,i=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(n,i)},t)}}var canvasEl=document.querySelector(\".fireworks\");if(canvasEl){var ctx=canvasEl.getContext(\"2d\"),numberOfParticules=30,pointerX=0,pointerY=0,tap=\"mousedown\",colors=[\"#FF1461\",\"#18FF92\",\"#5A87FF\",\"#FBF38C\"],setCanvasSize=debounce(function(){canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+\"px\",canvasEl.style.height=window.innerHeight+\"px\",canvasEl.getContext(\"2d\").scale(2,2)},500),render=anime({duration:1/0,update:function(){ctx.clearRect(0,0,canvasEl.width,canvasEl.height)}});document.addEventListener(tap,function(e){\"sidebar\"!==e.target.id&&\"toggle-sidebar\"!==e.target.id&&\"A\"!==e.target.nodeName&&\"IMG\"!==e.target.nodeName&&(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))},!1),setCanvasSize(),window.addEventListener(\"resize\",setCanvasSize,!1)}\"use strict\";function updateCoords(e){pointerX=(e.clientX||e.touches[0].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[0].clientY-canvasEl.getBoundingClientRect().top}function setParticuleDirection(e){var t=anime.random(0,360)*Math.PI/180,a=anime.random(50,180),n=[-1,1][anime.random(0,1)]*a;return{x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)}}function createParticule(e,t){var a={};return a.x=e,a.y=t,a.color=colors[anime.random(0,colors.length-1)],a.radius=anime.random(16,32),a.endPos=setParticuleDirection(a),a.draw=function(){ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.fillStyle=a.color,ctx.fill()},a}function createCircle(e,t){var a={};return a.x=e,a.y=t,a.color=\"#F00\",a.radius=0.1,a.alpha=0.5,a.lineWidth=6,a.draw=function(){ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=1},a}function renderParticule(e){for(var t=0;t<e.animatables.length;t++){e.animatables[t].target.draw()}}function animateParticules(e,t){for(var a=createCircle(e,t),n=[],i=0;i<numberOfParticules;i++){n.push(createParticule(e,t))}anime.timeline().add({targets:n,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:0.1,duration:anime.random(1200,1800),easing:\"easeOutExpo\",update:renderParticule}).add({targets:a,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:\"linear\",duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:\"easeOutExpo\",update:renderParticule,offset:0})}function debounce(e,t){var a;return function(){var n=this,i=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(n,i)},t)}}var canvasEl=document.querySelector(\".fireworks\");if(canvasEl){var ctx=canvasEl.getContext(\"2d\"),numberOfParticules=30,pointerX=0,pointerY=0,tap=\"mousedown\",colors=[\"#FF1461\",\"#18FF92\",\"#5A87FF\",\"#FBF38C\"],setCanvasSize=debounce(function(){canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+\"px\",canvasEl.style.height=window.innerHeight+\"px\",canvasEl.getContext(\"2d\").scale(2,2)},500),render=anime({duration:1/0,update:function(){ctx.clearRect(0,0,canvasEl.width,canvasEl.height)}});document.addEventListener(tap,function(e){\"sidebar\"!==e.target.id&&\"toggle-sidebar\"!==e.target.id&&\"A\"!==e.target.nodeName&&\"IMG\"!==e.target.nodeName&&(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))},!1),setCanvasSize(),window.addEventListener(\"resize\",setCanvasSize,!1)};\n```\n打开`themes/next/layout/_layout.swig`,在`</body>`上面写下如下代码：\n```c\n{% if theme.fireworks %}\n   <canvas class=\"fireworks\" style=\"position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;\" ></canvas> \n   <script type=\"text/javascript\" src=\"//cdn.bootcss.com/animejs/2.2.0/anime.min.js\"></script> \n   <script type=\"text/javascript\" src=\"/js/src/fireworks.js\"></script>\n{% endif %}\n```\n打开主题配置文件，在里面最后写下：\n```c\n# Fireworks\nfireworks: true\n```\n完!\n\n### 自定义鼠标样式\n打开`themes/next/source/css/_custom/custom.styl`,在里面写下如下代码:\n```c\n// 鼠标样式\n  * {\n      cursor: url(\"http://om8u46rmb.bkt.clouddn.com/sword2.ico\"),auto!important\n  }\n  :active {\n      cursor: url(\"http://om8u46rmb.bkt.clouddn.com/sword1.ico\"),auto!important\n  }\n```\n其中`url`里面必须是`ico`图片,ico图片可以上传到网上（如七牛云图床），然后获取外链，复制到url里就行了。\n\n------\n\n## 博文设置\n### 博文置顶\n修改`hero-generator-index`插件，把文件`node_modules/hexo-generator-index/lib/generator.js`内的代码替换为：\n``` c\n'use strict';\nvar pagination = require('hexo-pagination');\nmodule.exports = function(locals){\n  var config = this.config;\n  var posts = locals.posts;\n    posts.data = posts.data.sort(function(a, b) {\n        if(a.top && b.top) { // 两篇文章top都有定义\n            if(a.top == b.top) return b.date - a.date; // 若top值一样则按照文章日期降序排\n            else return b.top - a.top; // 否则按照top值降序排\n        }\n        else if(a.top && !b.top) { // 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）\n            return -1;\n        }\n        else if(!a.top && b.top) {\n            return 1;\n        }\n        else return b.date - a.date; // 都没定义按照文章日期降序排\n    });\n  var paginationDir = config.pagination_dir || 'page';\n  return pagination('', posts, {\n    perPage: config.index_generator.per_page,\n    layout: ['index', 'archive'],\n    format: paginationDir + '/%d/',\n    data: {\n      __index: true\n    }\n  });\n};\n```\n在文章中添加`top`值，数值越大文章越靠前:\n```\n---\ntitle: 解决Charles乱码问题\ndate: 2017-05-22 22:45:48\ntags: 技巧\ncategories: 技巧\ncopyright: true\ntop: 100\n---\n```\n\n### 博文压缩\n在`Markdown`文件里要显示到主页的摘要后一行加上：\n```\n<!--more-->\n```\n如本文：\n![博文压缩.png](http://p31gihke0.bkt.clouddn.com/博文压缩.png)\n\n### 文章加密访问\n1. 实现效果图\n![文章加密访问.gif](http://p31gihke0.bkt.clouddn.com/文章加密访问.gif)\n\n2. 实现方法\n打开`themes->next->layout->_partials->head.swig`文件,在以下位置插入这样一段代码：\n![文章加密访问2.png](http://p31gihke0.bkt.clouddn.com/文章加密访问2.png)\n\n代码清单：\n```c\n<script>\n    (function(){\n        if('{{ page.password }}'){\n            if (prompt('请输入文章密码') !== '{{ page.password }}'){\n                alert('密码错误！');\n                history.back();\n            }\n        }\n    })();\n</script>\n```\n然后在文章上写成类似格式：\n![文章加密访问3.png](http://p31gihke0.bkt.clouddn.com/文章加密访问3.png)\n\n### 字数统计功能\n1. 实现效果图\n![字数统计功能.png](http://p31gihke0.bkt.clouddn.com/字数统计功能.png)\n\n2. 实现方法\n在根目录下右键`git bash`安装`hexo-wordcount`：\n```\n$ npm install hexo-wordcount --save\n```\n然后在主题的配置文件中，配置如下：\n``` c\n# Post wordcount display settings\n# Dependencies: https://github.com/willin/hexo-wordcount\npost_wordcount:\n  item_text: true\n  wordcount: true\n  min2read: true\n```\n\n### 主页文章添加阴影效果\n1. 实现效果图\n![主页文章添加阴影效果.png](http://p31gihke0.bkt.clouddn.com/主页文章添加阴影效果.png)\n\n2. 实现方法\n打开`\\themes\\next\\source\\css\\_custom\\custom.styl`,向里面加入：\n```css\n// 主页文章添加阴影效果\n .post {\n   margin-top: 60px;\n   margin-bottom: 60px;\n   padding: 25px;\n   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);\n   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);\n  }\n```\n\n### 修改文章内链接文本样式\n1. 实现效果图\n![修改文章内链接文本样式.gif](http://p31gihke0.bkt.clouddn.com/修改文章内链接文本样式.gif)\n\n2. 实现方法\n修改文件`themes\\next\\source\\css\\_common\\components\\post\\post.styl`，在末尾添加如下css样式：\n```css\n// 文章内链接文本样式\n.post-body p a{\n  color: #0593d3;\n  border-bottom: none;\n  border-bottom: 1px solid #0593d3;\n  &:hover {\n    color: #fc6423;\n    border-bottom: none;\n    border-bottom: 1px solid #fc6423;\n  }\n}\n```\n其中选择`.post-body`是为了不影响标题，选择`p`是为了不影响首页“阅读全文”的显示样式,颜色可以自己定义。\n\n### 在文章底部增加版权信息\n1. 实现效果图\n![在文章底部增加版权信息.png](http://p31gihke0.bkt.clouddn.com/在文章底部增加版权信息.png)\n\n2. 实现方法\n在目录`next/layout/_macro/`下添加`my-copyright.swig`：\n``` c\n{% if page.copyright %}\n<div class=\"my_post_copyright\">\n  <script src=\"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js\"></script>\n  \n  <!-- JS库 sweetalert 可修改路径 -->\n  <script src=\"https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js\"></script>\n  <script src=\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"></script>\n  <p><span>本文标题:</span><a href=\"{{ url_for(page.path) }}\">{{ page.title }}</a></p>\n  <p><span>文章作者:</span><a href=\"/\" title=\"访问 {{ theme.author }} 的个人博客\">{{ theme.author }}</a></p>\n  <p><span>发布时间:</span>{{ page.date.format(\"YYYY年MM月DD日 - HH:MM\") }}</p>\n  <p><span>最后更新:</span>{{ page.updated.format(\"YYYY年MM月DD日 - HH:MM\") }}</p>\n  <p><span>原始链接:</span><a href=\"{{ url_for(page.path) }}\" title=\"{{ page.title }}\">{{ page.permalink }}</a>\n    <span class=\"copy-path\"  title=\"点击复制文章链接\"><i class=\"fa fa-clipboard\" data-clipboard-text=\"{{ page.permalink }}\"  aria-label=\"复制成功！\"></i></span>\n  </p>\n  <p><span>许可协议:</span><i class=\"fa fa-creative-commons\"></i> <a rel=\"license\" href=\"https://creativecommons.org/licenses/by-nc-nd/4.0/\" target=\"_blank\" title=\"Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)\">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  \n</div>\n<script> \n    var clipboard = new Clipboard('.fa-clipboard');\n    $(\".fa-clipboard\").click(function(){\n      clipboard.on('success', function(){\n        swal({   \n          title: \"\",   \n          text: '复制成功',\n          icon: \"success\", \n          showConfirmButton: true\n          });\n    });\n    });  \n</script>\n{% endif %}\n```\n在目录`next/source/css/_common/components/post/`下添加`my-post-copyright.styl`：\n``` css\n.my_post_copyright {\n  width: 85%;\n  max-width: 45em;\n  margin: 2.8em auto 0;\n  padding: 0.5em 1.0em;\n  border: 1px solid #d3d3d3;\n  font-size: 0.93rem;\n  line-height: 1.6em;\n  word-break: break-all;\n  background: rgba(255,255,255,0.4);\n}\n.my_post_copyright p{margin:0;}\n.my_post_copyright span {\n  display: inline-block;\n  width: 5.2em;\n  color: #b5b5b5;\n  font-weight: bold;\n}\n.my_post_copyright .raw {\n  margin-left: 1em;\n  width: 5em;\n}\n.my_post_copyright a {\n  color: #808080;\n  border-bottom:0;\n}\n.my_post_copyright a:hover {\n  color: #a3d2a3;\n  text-decoration: underline;\n}\n.my_post_copyright:hover .fa-clipboard {\n  color: #000;\n}\n.my_post_copyright .post-url:hover {\n  font-weight: normal;\n}\n.my_post_copyright .copy-path {\n  margin-left: 1em;\n  width: 1em;\n  +mobile(){display:none;}\n}\n.my_post_copyright .copy-path:hover {\n  color: #808080;\n  cursor: pointer;\n}\n```\n修改`next/layout/_macro/post.swig`，在代码\n``` c\n<div>\n      {% if not is_index %}\n        {% include 'wechat-subscriber.swig' %}\n      {% endif %}\n</div>\n```\n之前添加增加如下代码：\n``` c\n<div>\n      {% if not is_index %}\n        {% include 'my-copyright.swig' %}\n      {% endif %}\n</div>\n```\n修改`next/source/css/_common/components/post/post.styl`文件，在最后一行增加代码：\n``` css\n@import \"my-post-copyright\"\n```\n保存重新生成即可。\n\n> 小技巧：如果你觉得每次都要输入`copyright: true`很麻烦的话,那么在`/scaffolds/post.md`文件中添加：\n> ![在文章底部增加版权信息2.png](http://p31gihke0.bkt.clouddn.com/在文章底部增加版权信息2.png)\n> 这样每次hexo new \"你的内容\"之后，生成的md文件会自动把copyright:加到里面去(注意：如果解析出来之后，你的原始链接有问题：如：http://yoursite.com/前端小项目：使用canvas绘画哆啦A梦.html,那么在根目录下_config.yml中写成类似这样：）\n> ![在文章底部增加版权信息3.png](http://p31gihke0.bkt.clouddn.com/在文章底部增加版权信息3.png)\n\n### 修改文章底部的那个带#号的标签\n1. 实现效果图\n![修改文章底部的那个带#号的标签.png](http://p31gihke0.bkt.clouddn.com/修改文章底部的那个带#号的标签.png)\n\n2. 实现方法\n修改模板`/themes/next/layout/_macro/post.swig`，搜索`rel=\"tag\">#`，将`#`换成`<i class=\"fa fa-tag\"></i>`\n\n------\n\n## 其他\n### 修改字体大小\n打开`\\themes\\next\\source\\css\\ _variables\\base.styl`文件，将`$font-size-base`改成`16px`，如下所示：\n```\n$font-size-base            =16px\n```\n\n### 添加评论-Valine\n在[leancloud 官网](https://leancloud.cn/)注册账号并访问控制台随便创建一个应用，进入里面记下在`设置-应用KEY`下找到`appid`和`appkey`复制到下图位置，记得`enable: true`:\n![添加评论-Valine.png](http://p31gihke0.bkt.clouddn.com/添加评论-Valine.png)\n\n### 修改打赏字体不闪动\n修改文件`next/source/css/_common/components/post/post-reward.styl`，然后注释其中的函数`wechat:hover`和`alipay:hover`，如下：\n``` css\n/* 注释文字闪动函数\n #wechat:hover p{\n    animation: roll 0.1s infinite linear;\n    -webkit-animation: roll 0.1s infinite linear;\n    -moz-animation: roll 0.1s infinite linear;\n}\n #alipay:hover p{\n   animation: roll 0.1s infinite linear;\n    -webkit-animation: roll 0.1s infinite linear;\n    -moz-animation: roll 0.1s infinite linear;\n}\n*/\n```\n\n### 侧边栏推荐阅读\n打开主题配置文件修改成这样就行了(links里面写你想要的链接):\n```c\n# Blogrolls\nlinks_title: 推荐阅读\n#links_layout: block\nlinks_layout: inline\nlinks:\n  优设: http://www.uisdc.com/\n  张鑫旭: http://www.zhangxinxu.com/\n  Web前端导航: http://www.alloyteam.com/nav/\n  前端书籍资料: http://www.36zhen.com/t?id=3448\n  百度前端技术学院: http://ife.baidu.com/\n  google前端开发基础: http://wf.uisdc.com/cn/\n```\n\n## 致谢\n有一些博主非常无私，不断为Hexo 添加着各种功能，官方也在不断地整合这些资源，不断推出新功能，让我们这些前端小白们也能简单的美化自己的小屋，虽然折腾了很久，但确实感到成就满满，这里表达由衷的感谢！\n在写这篇文章的时候我又发现了好多有趣的设置，如本文左下角的微信订阅、一键回顶部、分享功能等等，还有好多好多功能，待我日后慢慢道来！\n\n> ### 参考文章\n> * [Moorez:hexo的next主题个性化教程:打造炫酷网站](http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html)\n> * [Hexo 官方文档](https://hexo.io/zh-cn/docs/index.html)\n> * [Next 官方文档](http://theme-next.iissnan.com/getting-started.html)\n\n未完待续…………","source":"_posts/2018-01-23-Next个性化设置.md","raw":"---\ntitle: Next 个性化设置\ndate: 2018-01-23 16:52:13\ncategories: 网站建设\ntags: Next\ncopyright: true\n---\n\n<center><i>NexT 拥有丰富而简单的主题配置，结合第三方服务，可以打造出属于自己的博客,实现个性化定制。掌握F12的用法之后，每个窗口的任意地方都可以任你修改，开来体验这些功能吧！</i></center>\n\n<br>![激扬青春.jpg](http://p31gihke0.bkt.clouddn.com/激扬青春.jpg)\n<!--more-->\nNext 的官方文档介绍了为站点添加诸多功能的基本方式，这些方式大多通过修改主题配置文件 `_config.yml` 来完成。在这篇文章中，假定读者已经成功使用 GitHub Pages + Hexo + Next 来配置站点，请确保您已经读过Next 官方的配置文档，那是一份很好的教程，如果对自己网站的配置一知半解，花上半个小时去把它读懂并付诸实践不失为明智的选择。\n\n> 你可以访问 [Next 的使用文档](http://theme-next.iissnan.com) 了解如何为自己的网站添加各种功能\n<!--more-->\n\n------\n\n## 开篇点题\n\n在修饰站点过程中，身为一个处女座Boy 的本博主本着优雅、实用、便利修改的原则来查找一些资料，结果发现许多的建站者的建议看起来厉害无比，各种代码齐天飞，实践起来却太过麻烦，也不便于以后的修改，非常不人性化！！！\n\n于是，我花了一下午+一晚上的时间对照着 [Next官方文档](http://theme-next.iissnan.com) 将站点和主题下的配置文件 `_config.yml` 基本上看了一遍，结果发现，其实很多问题在配置文件中修改几个参数即可，完全不必大动刀戈自己挥手写代码，当然，有些功能确实是还没集成到官方文件中的，许多博主给出的解决方案也十分贴心友好。在这里本人将 `官方配置里没讲到的和已经过时需要修改` 的功能做一个总结，算是对官方文档的一个补充，也给自己做个备忘，主要涉及以下功能：\n\n- [ ] **网站设置**\n    - [ ] 加载条\n    - [ ] 网站底部访问量\n    - [ ] 网站底部字数统计\n    - [ ] 隐藏网页底部powered By Hexo / 强力驱动\n    - [ ] 在右上角或者左上角实现fork me on github\n- [ ] **互动设置**\n    - [ ] 点击爆炸效果\n    - [ ] 点击出桃心效果\n    - [ ] 自定义鼠标样式\n- [ ] **博文设置**\n    - [ ] 博文置顶\n    - [ ] 博文压缩\n    - [ ] 文章加密访问\n    - [ ] 字数统计功能\n    - [ ] 主页文章添加阴影效果\n    - [ ] 修改文章内链接文本样式\n    - [ ] 在文章底部增加版权信息\n    - [ ] 修改文章底部的那个带#号的标签\n- [ ] **其他**\n    - [ ] 修改字体大小\n    - [ ] 添加评论-Valine\n    - [ ] 修改打赏字体不闪动\n\n------\n\n## 网站设置\n### 加载条\n1. 实现效果图\n![加载条.gif](http://p31gihke0.bkt.clouddn.com/加载条.gif)\n\n2. 实现方法\n修改主题配置文件 `_config.yml`将 `pace: false`改为 `pace: true`就行了，还可以换不同样式的加载条，如下图：\n![加载条2.png](http://p31gihke0.bkt.clouddn.com/加载条2.png)\n\n### 网站底部访问量\n1. 实现效果图\n![网站底部访问量.png](http://p31gihke0.bkt.clouddn.com/网站底部访问量.png)\n\n2. 实现方法\n打开`\\themes\\next\\layout\\_partials\\footer.swig`文件,在`copyright`前加上画红线这句话：\n![网站底部访问量2.png](http://p31gihke0.bkt.clouddn.com/网站底部访问量2.png)\n\n代码清单：\n``` c 文件位置：~/themes/next/layout/_partials/footer.swig\n<script async src=\"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\"></script>\n```\n然后再合适的位置添加显示统计的代码:\n``` c\n<span id=\"busuanzi_container_site_uv\">\n  本站访客数:<span id=\"busuanzi_value_site_uv\"></span>\n</span>\n```\n\n> 在这里有两中不同计算方式的统计代码：\n> 1. pv的方式，单个用户连续点击n篇文章，记录n次访问量\n> ``` c\n<span id=\"busuanzi_container_site_pv\">\n    本站访客数<span id=\"busuanzi_value_site_pv\"></span>\n</span>\n```\n> 2. uv的方式，单个用户连续点击n篇文章，只记录1次访客数\n> ``` c\n<span id=\"busuanzi_container_site_uv\">\n    本站总访问量<span id=busuanzi_value_site_uv\"></span>\n </span>\n```\n\n### 网站底部字数统计\n1. 实现效果图\n![网站底部访问量.png](http://p31gihke0.bkt.clouddn.com/网站底部访问量.png)\n\n2. 实现方法\n在博客根目录下，右键`git bash`运行如下代码:\n```\n$ npm install hexo-wordcount --save\n```\n然后在`/themes/next/layout/_partials/footer.swig`文件尾部加上：\n```c\n<div class=\"theme-info\">\n  <div class=\"powered-by\"></div>\n  <span class=\"post-count\">博客全站共{{ totalcount(site) }}字</span>\n</div>\n```\n\n### 隐藏网页底部powered By Hexo / 强力驱动\n打开主题配置文件,将改为`powered: true`改为`powered: false`即可。\n\n### 在右上角或者左上角实现fork me on github\n1. 实现效果图\n![fork me on github.png](http://p31gihke0.bkt.clouddn.com/fork me on github.png)\n![fork me on github2.png](http://p31gihke0.bkt.clouddn.com/fork me on github2.png)\n\n2. 实现方法\n在[GitHub Ribbons](https://github.com/blog/273-github-ribbons)或[GitHub Corners](http://tholman.com/github-corners/)挑选自己喜欢的样式，并复制代码。\n例如，复制以下代码：\n![fork me on github3.png](http://p31gihke0.bkt.clouddn.com/fork me on github3.png)\n\n然后粘贴刚才复制的代码到`themes/next/layout/_layout.swig`文件中(放在`<div class=\"headband\"></div>`的下面)，并把href改为你的github地址\n![fork me on github4.png](http://p31gihke0.bkt.clouddn.com/fork me on github4.png)\n\n------\n\n## 互动设置\n### 点击出桃心效果\n1. 实现效果图\n![点击出桃心效果.gif](http://p31gihke0.bkt.clouddn.com/点击出桃心效果.gif)\n\n2. 实现方法\n进入[这个网址](http://7u2ss1.com1.z0.glb.clouddn.com/love.js)，然后将里面的代码copy一下，在路径`/themes/next/source/js/src`里新建`love.js`文件并将代码复制进去，然后打开`\\themes\\next\\layout\\_layout.swig`文件,在末尾（在前面引用会出现找不到的bug）添加以下代码：\n```c\n<!-- 页面点击小红心 -->\n<script type=\"text/javascript\" src=\"/js/src/love.js\"></script>\n```\n\n### 点击爆炸效果\n1. 实现效果图\n![点击爆炸效果.png](http://p31gihke0.bkt.clouddn.com/点击爆炸效果.png)\n\n2. 实现方法\n跟那个红心是差不多的，首先在`themes/next/source/js/src`里面建一个叫`fireworks.js`的文件，代码如下：\n``` js\n\"use strict\";function updateCoords(e){pointerX=(e.clientX||e.touches[0].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[0].clientY-canvasEl.getBoundingClientRect().top}function setParticuleDirection(e){var t=anime.random(0,360)*Math.PI/180,a=anime.random(50,180),n=[-1,1][anime.random(0,1)]*a;return{x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)}}function createParticule(e,t){var a={};return a.x=e,a.y=t,a.color=colors[anime.random(0,colors.length-1)],a.radius=anime.random(16,32),a.endPos=setParticuleDirection(a),a.draw=function(){ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.fillStyle=a.color,ctx.fill()},a}function createCircle(e,t){var a={};return a.x=e,a.y=t,a.color=\"#F00\",a.radius=0.1,a.alpha=0.5,a.lineWidth=6,a.draw=function(){ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=1},a}function renderParticule(e){for(var t=0;t<e.animatables.length;t++){e.animatables[t].target.draw()}}function animateParticules(e,t){for(var a=createCircle(e,t),n=[],i=0;i<numberOfParticules;i++){n.push(createParticule(e,t))}anime.timeline().add({targets:n,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:0.1,duration:anime.random(1200,1800),easing:\"easeOutExpo\",update:renderParticule}).add({targets:a,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:\"linear\",duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:\"easeOutExpo\",update:renderParticule,offset:0})}function debounce(e,t){var a;return function(){var n=this,i=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(n,i)},t)}}var canvasEl=document.querySelector(\".fireworks\");if(canvasEl){var ctx=canvasEl.getContext(\"2d\"),numberOfParticules=30,pointerX=0,pointerY=0,tap=\"mousedown\",colors=[\"#FF1461\",\"#18FF92\",\"#5A87FF\",\"#FBF38C\"],setCanvasSize=debounce(function(){canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+\"px\",canvasEl.style.height=window.innerHeight+\"px\",canvasEl.getContext(\"2d\").scale(2,2)},500),render=anime({duration:1/0,update:function(){ctx.clearRect(0,0,canvasEl.width,canvasEl.height)}});document.addEventListener(tap,function(e){\"sidebar\"!==e.target.id&&\"toggle-sidebar\"!==e.target.id&&\"A\"!==e.target.nodeName&&\"IMG\"!==e.target.nodeName&&(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))},!1),setCanvasSize(),window.addEventListener(\"resize\",setCanvasSize,!1)}\"use strict\";function updateCoords(e){pointerX=(e.clientX||e.touches[0].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[0].clientY-canvasEl.getBoundingClientRect().top}function setParticuleDirection(e){var t=anime.random(0,360)*Math.PI/180,a=anime.random(50,180),n=[-1,1][anime.random(0,1)]*a;return{x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)}}function createParticule(e,t){var a={};return a.x=e,a.y=t,a.color=colors[anime.random(0,colors.length-1)],a.radius=anime.random(16,32),a.endPos=setParticuleDirection(a),a.draw=function(){ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.fillStyle=a.color,ctx.fill()},a}function createCircle(e,t){var a={};return a.x=e,a.y=t,a.color=\"#F00\",a.radius=0.1,a.alpha=0.5,a.lineWidth=6,a.draw=function(){ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=1},a}function renderParticule(e){for(var t=0;t<e.animatables.length;t++){e.animatables[t].target.draw()}}function animateParticules(e,t){for(var a=createCircle(e,t),n=[],i=0;i<numberOfParticules;i++){n.push(createParticule(e,t))}anime.timeline().add({targets:n,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:0.1,duration:anime.random(1200,1800),easing:\"easeOutExpo\",update:renderParticule}).add({targets:a,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:\"linear\",duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:\"easeOutExpo\",update:renderParticule,offset:0})}function debounce(e,t){var a;return function(){var n=this,i=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(n,i)},t)}}var canvasEl=document.querySelector(\".fireworks\");if(canvasEl){var ctx=canvasEl.getContext(\"2d\"),numberOfParticules=30,pointerX=0,pointerY=0,tap=\"mousedown\",colors=[\"#FF1461\",\"#18FF92\",\"#5A87FF\",\"#FBF38C\"],setCanvasSize=debounce(function(){canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+\"px\",canvasEl.style.height=window.innerHeight+\"px\",canvasEl.getContext(\"2d\").scale(2,2)},500),render=anime({duration:1/0,update:function(){ctx.clearRect(0,0,canvasEl.width,canvasEl.height)}});document.addEventListener(tap,function(e){\"sidebar\"!==e.target.id&&\"toggle-sidebar\"!==e.target.id&&\"A\"!==e.target.nodeName&&\"IMG\"!==e.target.nodeName&&(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))},!1),setCanvasSize(),window.addEventListener(\"resize\",setCanvasSize,!1)};\n```\n打开`themes/next/layout/_layout.swig`,在`</body>`上面写下如下代码：\n```c\n{% if theme.fireworks %}\n   <canvas class=\"fireworks\" style=\"position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;\" ></canvas> \n   <script type=\"text/javascript\" src=\"//cdn.bootcss.com/animejs/2.2.0/anime.min.js\"></script> \n   <script type=\"text/javascript\" src=\"/js/src/fireworks.js\"></script>\n{% endif %}\n```\n打开主题配置文件，在里面最后写下：\n```c\n# Fireworks\nfireworks: true\n```\n完!\n\n### 自定义鼠标样式\n打开`themes/next/source/css/_custom/custom.styl`,在里面写下如下代码:\n```c\n// 鼠标样式\n  * {\n      cursor: url(\"http://om8u46rmb.bkt.clouddn.com/sword2.ico\"),auto!important\n  }\n  :active {\n      cursor: url(\"http://om8u46rmb.bkt.clouddn.com/sword1.ico\"),auto!important\n  }\n```\n其中`url`里面必须是`ico`图片,ico图片可以上传到网上（如七牛云图床），然后获取外链，复制到url里就行了。\n\n------\n\n## 博文设置\n### 博文置顶\n修改`hero-generator-index`插件，把文件`node_modules/hexo-generator-index/lib/generator.js`内的代码替换为：\n``` c\n'use strict';\nvar pagination = require('hexo-pagination');\nmodule.exports = function(locals){\n  var config = this.config;\n  var posts = locals.posts;\n    posts.data = posts.data.sort(function(a, b) {\n        if(a.top && b.top) { // 两篇文章top都有定义\n            if(a.top == b.top) return b.date - a.date; // 若top值一样则按照文章日期降序排\n            else return b.top - a.top; // 否则按照top值降序排\n        }\n        else if(a.top && !b.top) { // 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）\n            return -1;\n        }\n        else if(!a.top && b.top) {\n            return 1;\n        }\n        else return b.date - a.date; // 都没定义按照文章日期降序排\n    });\n  var paginationDir = config.pagination_dir || 'page';\n  return pagination('', posts, {\n    perPage: config.index_generator.per_page,\n    layout: ['index', 'archive'],\n    format: paginationDir + '/%d/',\n    data: {\n      __index: true\n    }\n  });\n};\n```\n在文章中添加`top`值，数值越大文章越靠前:\n```\n---\ntitle: 解决Charles乱码问题\ndate: 2017-05-22 22:45:48\ntags: 技巧\ncategories: 技巧\ncopyright: true\ntop: 100\n---\n```\n\n### 博文压缩\n在`Markdown`文件里要显示到主页的摘要后一行加上：\n```\n<!--more-->\n```\n如本文：\n![博文压缩.png](http://p31gihke0.bkt.clouddn.com/博文压缩.png)\n\n### 文章加密访问\n1. 实现效果图\n![文章加密访问.gif](http://p31gihke0.bkt.clouddn.com/文章加密访问.gif)\n\n2. 实现方法\n打开`themes->next->layout->_partials->head.swig`文件,在以下位置插入这样一段代码：\n![文章加密访问2.png](http://p31gihke0.bkt.clouddn.com/文章加密访问2.png)\n\n代码清单：\n```c\n<script>\n    (function(){\n        if('{{ page.password }}'){\n            if (prompt('请输入文章密码') !== '{{ page.password }}'){\n                alert('密码错误！');\n                history.back();\n            }\n        }\n    })();\n</script>\n```\n然后在文章上写成类似格式：\n![文章加密访问3.png](http://p31gihke0.bkt.clouddn.com/文章加密访问3.png)\n\n### 字数统计功能\n1. 实现效果图\n![字数统计功能.png](http://p31gihke0.bkt.clouddn.com/字数统计功能.png)\n\n2. 实现方法\n在根目录下右键`git bash`安装`hexo-wordcount`：\n```\n$ npm install hexo-wordcount --save\n```\n然后在主题的配置文件中，配置如下：\n``` c\n# Post wordcount display settings\n# Dependencies: https://github.com/willin/hexo-wordcount\npost_wordcount:\n  item_text: true\n  wordcount: true\n  min2read: true\n```\n\n### 主页文章添加阴影效果\n1. 实现效果图\n![主页文章添加阴影效果.png](http://p31gihke0.bkt.clouddn.com/主页文章添加阴影效果.png)\n\n2. 实现方法\n打开`\\themes\\next\\source\\css\\_custom\\custom.styl`,向里面加入：\n```css\n// 主页文章添加阴影效果\n .post {\n   margin-top: 60px;\n   margin-bottom: 60px;\n   padding: 25px;\n   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);\n   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);\n  }\n```\n\n### 修改文章内链接文本样式\n1. 实现效果图\n![修改文章内链接文本样式.gif](http://p31gihke0.bkt.clouddn.com/修改文章内链接文本样式.gif)\n\n2. 实现方法\n修改文件`themes\\next\\source\\css\\_common\\components\\post\\post.styl`，在末尾添加如下css样式：\n```css\n// 文章内链接文本样式\n.post-body p a{\n  color: #0593d3;\n  border-bottom: none;\n  border-bottom: 1px solid #0593d3;\n  &:hover {\n    color: #fc6423;\n    border-bottom: none;\n    border-bottom: 1px solid #fc6423;\n  }\n}\n```\n其中选择`.post-body`是为了不影响标题，选择`p`是为了不影响首页“阅读全文”的显示样式,颜色可以自己定义。\n\n### 在文章底部增加版权信息\n1. 实现效果图\n![在文章底部增加版权信息.png](http://p31gihke0.bkt.clouddn.com/在文章底部增加版权信息.png)\n\n2. 实现方法\n在目录`next/layout/_macro/`下添加`my-copyright.swig`：\n``` c\n{% if page.copyright %}\n<div class=\"my_post_copyright\">\n  <script src=\"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js\"></script>\n  \n  <!-- JS库 sweetalert 可修改路径 -->\n  <script src=\"https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js\"></script>\n  <script src=\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"></script>\n  <p><span>本文标题:</span><a href=\"{{ url_for(page.path) }}\">{{ page.title }}</a></p>\n  <p><span>文章作者:</span><a href=\"/\" title=\"访问 {{ theme.author }} 的个人博客\">{{ theme.author }}</a></p>\n  <p><span>发布时间:</span>{{ page.date.format(\"YYYY年MM月DD日 - HH:MM\") }}</p>\n  <p><span>最后更新:</span>{{ page.updated.format(\"YYYY年MM月DD日 - HH:MM\") }}</p>\n  <p><span>原始链接:</span><a href=\"{{ url_for(page.path) }}\" title=\"{{ page.title }}\">{{ page.permalink }}</a>\n    <span class=\"copy-path\"  title=\"点击复制文章链接\"><i class=\"fa fa-clipboard\" data-clipboard-text=\"{{ page.permalink }}\"  aria-label=\"复制成功！\"></i></span>\n  </p>\n  <p><span>许可协议:</span><i class=\"fa fa-creative-commons\"></i> <a rel=\"license\" href=\"https://creativecommons.org/licenses/by-nc-nd/4.0/\" target=\"_blank\" title=\"Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)\">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  \n</div>\n<script> \n    var clipboard = new Clipboard('.fa-clipboard');\n    $(\".fa-clipboard\").click(function(){\n      clipboard.on('success', function(){\n        swal({   \n          title: \"\",   \n          text: '复制成功',\n          icon: \"success\", \n          showConfirmButton: true\n          });\n    });\n    });  \n</script>\n{% endif %}\n```\n在目录`next/source/css/_common/components/post/`下添加`my-post-copyright.styl`：\n``` css\n.my_post_copyright {\n  width: 85%;\n  max-width: 45em;\n  margin: 2.8em auto 0;\n  padding: 0.5em 1.0em;\n  border: 1px solid #d3d3d3;\n  font-size: 0.93rem;\n  line-height: 1.6em;\n  word-break: break-all;\n  background: rgba(255,255,255,0.4);\n}\n.my_post_copyright p{margin:0;}\n.my_post_copyright span {\n  display: inline-block;\n  width: 5.2em;\n  color: #b5b5b5;\n  font-weight: bold;\n}\n.my_post_copyright .raw {\n  margin-left: 1em;\n  width: 5em;\n}\n.my_post_copyright a {\n  color: #808080;\n  border-bottom:0;\n}\n.my_post_copyright a:hover {\n  color: #a3d2a3;\n  text-decoration: underline;\n}\n.my_post_copyright:hover .fa-clipboard {\n  color: #000;\n}\n.my_post_copyright .post-url:hover {\n  font-weight: normal;\n}\n.my_post_copyright .copy-path {\n  margin-left: 1em;\n  width: 1em;\n  +mobile(){display:none;}\n}\n.my_post_copyright .copy-path:hover {\n  color: #808080;\n  cursor: pointer;\n}\n```\n修改`next/layout/_macro/post.swig`，在代码\n``` c\n<div>\n      {% if not is_index %}\n        {% include 'wechat-subscriber.swig' %}\n      {% endif %}\n</div>\n```\n之前添加增加如下代码：\n``` c\n<div>\n      {% if not is_index %}\n        {% include 'my-copyright.swig' %}\n      {% endif %}\n</div>\n```\n修改`next/source/css/_common/components/post/post.styl`文件，在最后一行增加代码：\n``` css\n@import \"my-post-copyright\"\n```\n保存重新生成即可。\n\n> 小技巧：如果你觉得每次都要输入`copyright: true`很麻烦的话,那么在`/scaffolds/post.md`文件中添加：\n> ![在文章底部增加版权信息2.png](http://p31gihke0.bkt.clouddn.com/在文章底部增加版权信息2.png)\n> 这样每次hexo new \"你的内容\"之后，生成的md文件会自动把copyright:加到里面去(注意：如果解析出来之后，你的原始链接有问题：如：http://yoursite.com/前端小项目：使用canvas绘画哆啦A梦.html,那么在根目录下_config.yml中写成类似这样：）\n> ![在文章底部增加版权信息3.png](http://p31gihke0.bkt.clouddn.com/在文章底部增加版权信息3.png)\n\n### 修改文章底部的那个带#号的标签\n1. 实现效果图\n![修改文章底部的那个带#号的标签.png](http://p31gihke0.bkt.clouddn.com/修改文章底部的那个带#号的标签.png)\n\n2. 实现方法\n修改模板`/themes/next/layout/_macro/post.swig`，搜索`rel=\"tag\">#`，将`#`换成`<i class=\"fa fa-tag\"></i>`\n\n------\n\n## 其他\n### 修改字体大小\n打开`\\themes\\next\\source\\css\\ _variables\\base.styl`文件，将`$font-size-base`改成`16px`，如下所示：\n```\n$font-size-base            =16px\n```\n\n### 添加评论-Valine\n在[leancloud 官网](https://leancloud.cn/)注册账号并访问控制台随便创建一个应用，进入里面记下在`设置-应用KEY`下找到`appid`和`appkey`复制到下图位置，记得`enable: true`:\n![添加评论-Valine.png](http://p31gihke0.bkt.clouddn.com/添加评论-Valine.png)\n\n### 修改打赏字体不闪动\n修改文件`next/source/css/_common/components/post/post-reward.styl`，然后注释其中的函数`wechat:hover`和`alipay:hover`，如下：\n``` css\n/* 注释文字闪动函数\n #wechat:hover p{\n    animation: roll 0.1s infinite linear;\n    -webkit-animation: roll 0.1s infinite linear;\n    -moz-animation: roll 0.1s infinite linear;\n}\n #alipay:hover p{\n   animation: roll 0.1s infinite linear;\n    -webkit-animation: roll 0.1s infinite linear;\n    -moz-animation: roll 0.1s infinite linear;\n}\n*/\n```\n\n### 侧边栏推荐阅读\n打开主题配置文件修改成这样就行了(links里面写你想要的链接):\n```c\n# Blogrolls\nlinks_title: 推荐阅读\n#links_layout: block\nlinks_layout: inline\nlinks:\n  优设: http://www.uisdc.com/\n  张鑫旭: http://www.zhangxinxu.com/\n  Web前端导航: http://www.alloyteam.com/nav/\n  前端书籍资料: http://www.36zhen.com/t?id=3448\n  百度前端技术学院: http://ife.baidu.com/\n  google前端开发基础: http://wf.uisdc.com/cn/\n```\n\n## 致谢\n有一些博主非常无私，不断为Hexo 添加着各种功能，官方也在不断地整合这些资源，不断推出新功能，让我们这些前端小白们也能简单的美化自己的小屋，虽然折腾了很久，但确实感到成就满满，这里表达由衷的感谢！\n在写这篇文章的时候我又发现了好多有趣的设置，如本文左下角的微信订阅、一键回顶部、分享功能等等，还有好多好多功能，待我日后慢慢道来！\n\n> ### 参考文章\n> * [Moorez:hexo的next主题个性化教程:打造炫酷网站](http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html)\n> * [Hexo 官方文档](https://hexo.io/zh-cn/docs/index.html)\n> * [Next 官方文档](http://theme-next.iissnan.com/getting-started.html)\n\n未完待续…………","slug":"2018-01-23-Next个性化设置","published":1,"updated":"2018-03-10T06:01:50.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60it0002jsuve53n728t","content":"<center><i>NexT 拥有丰富而简单的主题配置，结合第三方服务，可以打造出属于自己的博客,实现个性化定制。掌握F12的用法之后，每个窗口的任意地方都可以任你修改，开来体验这些功能吧！</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/激扬青春.jpg\" alt=\"激扬青春.jpg\"><br><a id=\"more\"></a><br>Next 的官方文档介绍了为站点添加诸多功能的基本方式，这些方式大多通过修改主题配置文件 <code>_config.yml</code> 来完成。在这篇文章中，假定读者已经成功使用 GitHub Pages + Hexo + Next 来配置站点，请确保您已经读过Next 官方的配置文档，那是一份很好的教程，如果对自己网站的配置一知半解，花上半个小时去把它读懂并付诸实践不失为明智的选择。</p>\n<blockquote>\n<p>你可以访问 <a href=\"http://theme-next.iissnan.com\" target=\"_blank\" rel=\"noopener\">Next 的使用文档</a> 了解如何为自己的网站添加各种功能<br><!--more--></p>\n</blockquote>\n<hr>\n<h2 id=\"开篇点题\"><a href=\"#开篇点题\" class=\"headerlink\" title=\"开篇点题\"></a>开篇点题</h2><p>在修饰站点过程中，身为一个处女座Boy 的本博主本着优雅、实用、便利修改的原则来查找一些资料，结果发现许多的建站者的建议看起来厉害无比，各种代码齐天飞，实践起来却太过麻烦，也不便于以后的修改，非常不人性化！！！</p>\n<p>于是，我花了一下午+一晚上的时间对照着 <a href=\"http://theme-next.iissnan.com\" target=\"_blank\" rel=\"noopener\">Next官方文档</a> 将站点和主题下的配置文件 <code>_config.yml</code> 基本上看了一遍，结果发现，其实很多问题在配置文件中修改几个参数即可，完全不必大动刀戈自己挥手写代码，当然，有些功能确实是还没集成到官方文件中的，许多博主给出的解决方案也十分贴心友好。在这里本人将 <code>官方配置里没讲到的和已经过时需要修改</code> 的功能做一个总结，算是对官方文档的一个补充，也给自己做个备忘，主要涉及以下功能：</p>\n<ul>\n<li>[ ] <strong>网站设置</strong><ul>\n<li>[ ] 加载条</li>\n<li>[ ] 网站底部访问量</li>\n<li>[ ] 网站底部字数统计</li>\n<li>[ ] 隐藏网页底部powered By Hexo / 强力驱动</li>\n<li>[ ] 在右上角或者左上角实现fork me on github</li>\n</ul>\n</li>\n<li>[ ] <strong>互动设置</strong><ul>\n<li>[ ] 点击爆炸效果</li>\n<li>[ ] 点击出桃心效果</li>\n<li>[ ] 自定义鼠标样式</li>\n</ul>\n</li>\n<li>[ ] <strong>博文设置</strong><ul>\n<li>[ ] 博文置顶</li>\n<li>[ ] 博文压缩</li>\n<li>[ ] 文章加密访问</li>\n<li>[ ] 字数统计功能</li>\n<li>[ ] 主页文章添加阴影效果</li>\n<li>[ ] 修改文章内链接文本样式</li>\n<li>[ ] 在文章底部增加版权信息</li>\n<li>[ ] 修改文章底部的那个带#号的标签</li>\n</ul>\n</li>\n<li>[ ] <strong>其他</strong><ul>\n<li>[ ] 修改字体大小</li>\n<li>[ ] 添加评论-Valine</li>\n<li>[ ] 修改打赏字体不闪动</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"网站设置\"><a href=\"#网站设置\" class=\"headerlink\" title=\"网站设置\"></a>网站设置</h2><h3 id=\"加载条\"><a href=\"#加载条\" class=\"headerlink\" title=\"加载条\"></a>加载条</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/加载条.gif\" alt=\"加载条.gif\"></p>\n</li>\n<li><p>实现方法<br>修改主题配置文件 <code>_config.yml</code>将 <code>pace: false</code>改为 <code>pace: true</code>就行了，还可以换不同样式的加载条，如下图：<br><img src=\"http://p31gihke0.bkt.clouddn.com/加载条2.png\" alt=\"加载条2.png\"></p>\n</li>\n</ol>\n<h3 id=\"网站底部访问量\"><a href=\"#网站底部访问量\" class=\"headerlink\" title=\"网站底部访问量\"></a>网站底部访问量</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/网站底部访问量.png\" alt=\"网站底部访问量.png\"></p>\n</li>\n<li><p>实现方法<br>打开<code>\\themes\\next\\layout\\_partials\\footer.swig</code>文件,在<code>copyright</code>前加上画红线这句话：<br><img src=\"http://p31gihke0.bkt.clouddn.com/网站底部访问量2.png\" alt=\"网站底部访问量2.png\"></p>\n</li>\n</ol>\n<p>代码清单：<br><figure class=\"highlight c\"><figcaption><span>文件位置：~/themes/next/layout/_partials/footer.swig</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script async src=<span class=\"string\">\"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>\n<p>然后再合适的位置添加显示统计的代码:<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;span id=<span class=\"string\">\"busuanzi_container_site_uv\"</span>&gt;</span><br><span class=\"line\">  本站访客数:&lt;span id=<span class=\"string\">\"busuanzi_value_site_uv\"</span>&gt;&lt;/span&gt;</span><br><span class=\"line\">&lt;/span&gt;</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>在这里有两中不同计算方式的统计代码：</p>\n<ol>\n<li><p>pv的方式，单个用户连续点击n篇文章，记录n次访问量</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;span id=<span class=\"string\">\"busuanzi_container_site_pv\"</span>&gt;</span><br><span class=\"line\">    本站访客数&lt;span id=<span class=\"string\">\"busuanzi_value_site_pv\"</span>&gt;&lt;/span&gt;</span><br><span class=\"line\">&lt;/span&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>uv的方式，单个用户连续点击n篇文章，只记录1次访客数</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;span id=<span class=\"string\">\"busuanzi_container_site_uv\"</span>&gt;</span><br><span class=\"line\">    本站总访问量&lt;span id=busuanzi_value_site_uv<span class=\"string\">\"&gt;&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"string\"> &lt;/span&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</blockquote>\n<h3 id=\"网站底部字数统计\"><a href=\"#网站底部字数统计\" class=\"headerlink\" title=\"网站底部字数统计\"></a>网站底部字数统计</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/网站底部访问量.png\" alt=\"网站底部访问量.png\"></p>\n</li>\n<li><p>实现方法<br>在博客根目录下，右键<code>git bash</code>运行如下代码:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>然后在<code>/themes/next/layout/_partials/footer.swig</code>文件尾部加上：<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span>=\"<span class=\"title\">theme</span>-<span class=\"title\">info</span>\"&gt;</span></span><br><span class=\"line\"><span class=\"class\">  &lt;div class=\"powered-by\"&gt;&lt;/div&gt;</span></span><br><span class=\"line\">  &lt;span class=\"post-count\"&gt;博客全站共&#123;&#123; totalcount(site) &#125;&#125;字&lt;/span&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"隐藏网页底部powered-By-Hexo-强力驱动\"><a href=\"#隐藏网页底部powered-By-Hexo-强力驱动\" class=\"headerlink\" title=\"隐藏网页底部powered By Hexo / 强力驱动\"></a>隐藏网页底部powered By Hexo / 强力驱动</h3><p>打开主题配置文件,将改为<code>powered: true</code>改为<code>powered: false</code>即可。</p>\n<h3 id=\"在右上角或者左上角实现fork-me-on-github\"><a href=\"#在右上角或者左上角实现fork-me-on-github\" class=\"headerlink\" title=\"在右上角或者左上角实现fork me on github\"></a>在右上角或者左上角实现fork me on github</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/fork me on github.png\" alt=\"fork me on github.png\"><br><img src=\"http://p31gihke0.bkt.clouddn.com/fork me on github2.png\" alt=\"fork me on github2.png\"></p>\n</li>\n<li><p>实现方法<br>在<a href=\"https://github.com/blog/273-github-ribbons\" target=\"_blank\" rel=\"noopener\">GitHub Ribbons</a>或<a href=\"http://tholman.com/github-corners/\" target=\"_blank\" rel=\"noopener\">GitHub Corners</a>挑选自己喜欢的样式，并复制代码。<br>例如，复制以下代码：<br><img src=\"http://p31gihke0.bkt.clouddn.com/fork me on github3.png\" alt=\"fork me on github3.png\"></p>\n</li>\n</ol>\n<p>然后粘贴刚才复制的代码到<code>themes/next/layout/_layout.swig</code>文件中(放在<code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code>的下面)，并把href改为你的github地址<br><img src=\"http://p31gihke0.bkt.clouddn.com/fork me on github4.png\" alt=\"fork me on github4.png\"></p>\n<hr>\n<h2 id=\"互动设置\"><a href=\"#互动设置\" class=\"headerlink\" title=\"互动设置\"></a>互动设置</h2><h3 id=\"点击出桃心效果\"><a href=\"#点击出桃心效果\" class=\"headerlink\" title=\"点击出桃心效果\"></a>点击出桃心效果</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/点击出桃心效果.gif\" alt=\"点击出桃心效果.gif\"></p>\n</li>\n<li><p>实现方法<br>进入<a href=\"http://7u2ss1.com1.z0.glb.clouddn.com/love.js\" target=\"_blank\" rel=\"noopener\">这个网址</a>，然后将里面的代码copy一下，在路径<code>/themes/next/source/js/src</code>里新建<code>love.js</code>文件并将代码复制进去，然后打开<code>\\themes\\next\\layout\\_layout.swig</code>文件,在末尾（在前面引用会出现找不到的bug）添加以下代码：</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- 页面点击小红心 --&gt;</span><br><span class=\"line\">&lt;script type=<span class=\"string\">\"text/javascript\"</span> src=<span class=\"string\">\"/js/src/love.js\"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"点击爆炸效果\"><a href=\"#点击爆炸效果\" class=\"headerlink\" title=\"点击爆炸效果\"></a>点击爆炸效果</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/点击爆炸效果.png\" alt=\"点击爆炸效果.png\"></p>\n</li>\n<li><p>实现方法<br>跟那个红心是差不多的，首先在<code>themes/next/source/js/src</code>里面建一个叫<code>fireworks.js</code>的文件，代码如下：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">\"use strict\"</span>;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">updateCoords</span>(<span class=\"params\">e</span>)</span>&#123;pointerX=(e.clientX||e.touches[<span class=\"number\">0</span>].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[<span class=\"number\">0</span>].clientY-canvasEl.getBoundingClientRect().top&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setParticuleDirection</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">var</span> t=anime.random(<span class=\"number\">0</span>,<span class=\"number\">360</span>)*<span class=\"built_in\">Math</span>.PI/<span class=\"number\">180</span>,a=anime.random(<span class=\"number\">50</span>,<span class=\"number\">180</span>),n=[<span class=\"number\">-1</span>,<span class=\"number\">1</span>][anime.random(<span class=\"number\">0</span>,<span class=\"number\">1</span>)]*a;<span class=\"keyword\">return</span>&#123;<span class=\"attr\">x</span>:e.x+n*<span class=\"built_in\">Math</span>.cos(t),<span class=\"attr\">y</span>:e.y+n*<span class=\"built_in\">Math</span>.sin(t)&#125;&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createParticule</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">var</span> a=&#123;&#125;;<span class=\"keyword\">return</span> a.x=e,a.y=t,a.color=colors[anime.random(<span class=\"number\">0</span>,colors.length<span class=\"number\">-1</span>)],a.radius=anime.random(<span class=\"number\">16</span>,<span class=\"number\">32</span>),a.endPos=setParticuleDirection(a),a.draw=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class=\"number\">0</span>,<span class=\"number\">2</span>*<span class=\"built_in\">Math</span>.PI,!<span class=\"number\">0</span>),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createCircle</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">var</span> a=&#123;&#125;;<span class=\"keyword\">return</span> a.x=e,a.y=t,a.color=<span class=\"string\">\"#F00\"</span>,a.radius=<span class=\"number\">0.1</span>,a.alpha=<span class=\"number\">0.5</span>,a.lineWidth=<span class=\"number\">6</span>,a.draw=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class=\"number\">0</span>,<span class=\"number\">2</span>*<span class=\"built_in\">Math</span>.PI,!<span class=\"number\">0</span>),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=<span class=\"number\">1</span>&#125;,a&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">renderParticule</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t=<span class=\"number\">0</span>;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">animateParticules</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> a=createCircle(e,t),n=[],i=<span class=\"number\">0</span>;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;<span class=\"attr\">targets</span>:n,<span class=\"attr\">x</span>:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">return</span> e.endPos.x&#125;,<span class=\"attr\">y</span>:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">return</span> e.endPos.y&#125;,<span class=\"attr\">radius</span>:<span class=\"number\">0.1</span>,<span class=\"attr\">duration</span>:anime.random(<span class=\"number\">1200</span>,<span class=\"number\">1800</span>),<span class=\"attr\">easing</span>:<span class=\"string\">\"easeOutExpo\"</span>,<span class=\"attr\">update</span>:renderParticule&#125;).add(&#123;<span class=\"attr\">targets</span>:a,<span class=\"attr\">radius</span>:anime.random(<span class=\"number\">80</span>,<span class=\"number\">160</span>),<span class=\"attr\">lineWidth</span>:<span class=\"number\">0</span>,<span class=\"attr\">alpha</span>:&#123;<span class=\"attr\">value</span>:<span class=\"number\">0</span>,<span class=\"attr\">easing</span>:<span class=\"string\">\"linear\"</span>,<span class=\"attr\">duration</span>:anime.random(<span class=\"number\">600</span>,<span class=\"number\">800</span>)&#125;,<span class=\"attr\">duration</span>:anime.random(<span class=\"number\">1200</span>,<span class=\"number\">1800</span>),<span class=\"attr\">easing</span>:<span class=\"string\">\"easeOutExpo\"</span>,<span class=\"attr\">update</span>:renderParticule,<span class=\"attr\">offset</span>:<span class=\"number\">0</span>&#125;)&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">debounce</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">var</span> a;<span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"keyword\">var</span> n=<span class=\"keyword\">this</span>,i=<span class=\"built_in\">arguments</span>;clearTimeout(a),a=setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;e.apply(n,i)&#125;,t)&#125;&#125;<span class=\"keyword\">var</span> canvasEl=<span class=\"built_in\">document</span>.querySelector(<span class=\"string\">\".fireworks\"</span>);<span class=\"keyword\">if</span>(canvasEl)&#123;<span class=\"keyword\">var</span> ctx=canvasEl.getContext(<span class=\"string\">\"2d\"</span>),numberOfParticules=<span class=\"number\">30</span>,pointerX=<span class=\"number\">0</span>,pointerY=<span class=\"number\">0</span>,tap=<span class=\"string\">\"mousedown\"</span>,colors=[<span class=\"string\">\"#FF1461\"</span>,<span class=\"string\">\"#18FF92\"</span>,<span class=\"string\">\"#5A87FF\"</span>,<span class=\"string\">\"#FBF38C\"</span>],setCanvasSize=debounce(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;canvasEl.width=<span class=\"number\">2</span>*<span class=\"built_in\">window</span>.innerWidth,canvasEl.height=<span class=\"number\">2</span>*<span class=\"built_in\">window</span>.innerHeight,canvasEl.style.width=<span class=\"built_in\">window</span>.innerWidth+<span class=\"string\">\"px\"</span>,canvasEl.style.height=<span class=\"built_in\">window</span>.innerHeight+<span class=\"string\">\"px\"</span>,canvasEl.getContext(<span class=\"string\">\"2d\"</span>).scale(<span class=\"number\">2</span>,<span class=\"number\">2</span>)&#125;,<span class=\"number\">500</span>),render=anime(&#123;<span class=\"attr\">duration</span>:<span class=\"number\">1</span>/<span class=\"number\">0</span>,<span class=\"attr\">update</span>:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;ctx.clearRect(<span class=\"number\">0</span>,<span class=\"number\">0</span>,canvasEl.width,canvasEl.height)&#125;&#125;);<span class=\"built_in\">document</span>.addEventListener(tap,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"string\">\"sidebar\"</span>!==e.target.id&amp;&amp;<span class=\"string\">\"toggle-sidebar\"</span>!==e.target.id&amp;&amp;<span class=\"string\">\"A\"</span>!==e.target.nodeName&amp;&amp;<span class=\"string\">\"IMG\"</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!<span class=\"number\">1</span>),setCanvasSize(),<span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">\"resize\"</span>,setCanvasSize,!<span class=\"number\">1</span>)&#125;<span class=\"string\">\"use strict\"</span>;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">updateCoords</span>(<span class=\"params\">e</span>)</span>&#123;pointerX=(e.clientX||e.touches[<span class=\"number\">0</span>].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[<span class=\"number\">0</span>].clientY-canvasEl.getBoundingClientRect().top&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setParticuleDirection</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">var</span> t=anime.random(<span class=\"number\">0</span>,<span class=\"number\">360</span>)*<span class=\"built_in\">Math</span>.PI/<span class=\"number\">180</span>,a=anime.random(<span class=\"number\">50</span>,<span class=\"number\">180</span>),n=[<span class=\"number\">-1</span>,<span class=\"number\">1</span>][anime.random(<span class=\"number\">0</span>,<span class=\"number\">1</span>)]*a;<span class=\"keyword\">return</span>&#123;<span class=\"attr\">x</span>:e.x+n*<span class=\"built_in\">Math</span>.cos(t),<span class=\"attr\">y</span>:e.y+n*<span class=\"built_in\">Math</span>.sin(t)&#125;&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createParticule</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">var</span> a=&#123;&#125;;<span class=\"keyword\">return</span> a.x=e,a.y=t,a.color=colors[anime.random(<span class=\"number\">0</span>,colors.length<span class=\"number\">-1</span>)],a.radius=anime.random(<span class=\"number\">16</span>,<span class=\"number\">32</span>),a.endPos=setParticuleDirection(a),a.draw=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class=\"number\">0</span>,<span class=\"number\">2</span>*<span class=\"built_in\">Math</span>.PI,!<span class=\"number\">0</span>),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createCircle</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">var</span> a=&#123;&#125;;<span class=\"keyword\">return</span> a.x=e,a.y=t,a.color=<span class=\"string\">\"#F00\"</span>,a.radius=<span class=\"number\">0.1</span>,a.alpha=<span class=\"number\">0.5</span>,a.lineWidth=<span class=\"number\">6</span>,a.draw=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class=\"number\">0</span>,<span class=\"number\">2</span>*<span class=\"built_in\">Math</span>.PI,!<span class=\"number\">0</span>),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=<span class=\"number\">1</span>&#125;,a&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">renderParticule</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t=<span class=\"number\">0</span>;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">animateParticules</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> a=createCircle(e,t),n=[],i=<span class=\"number\">0</span>;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;<span class=\"attr\">targets</span>:n,<span class=\"attr\">x</span>:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">return</span> e.endPos.x&#125;,<span class=\"attr\">y</span>:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">return</span> e.endPos.y&#125;,<span class=\"attr\">radius</span>:<span class=\"number\">0.1</span>,<span class=\"attr\">duration</span>:anime.random(<span class=\"number\">1200</span>,<span class=\"number\">1800</span>),<span class=\"attr\">easing</span>:<span class=\"string\">\"easeOutExpo\"</span>,<span class=\"attr\">update</span>:renderParticule&#125;).add(&#123;<span class=\"attr\">targets</span>:a,<span class=\"attr\">radius</span>:anime.random(<span class=\"number\">80</span>,<span class=\"number\">160</span>),<span class=\"attr\">lineWidth</span>:<span class=\"number\">0</span>,<span class=\"attr\">alpha</span>:&#123;<span class=\"attr\">value</span>:<span class=\"number\">0</span>,<span class=\"attr\">easing</span>:<span class=\"string\">\"linear\"</span>,<span class=\"attr\">duration</span>:anime.random(<span class=\"number\">600</span>,<span class=\"number\">800</span>)&#125;,<span class=\"attr\">duration</span>:anime.random(<span class=\"number\">1200</span>,<span class=\"number\">1800</span>),<span class=\"attr\">easing</span>:<span class=\"string\">\"easeOutExpo\"</span>,<span class=\"attr\">update</span>:renderParticule,<span class=\"attr\">offset</span>:<span class=\"number\">0</span>&#125;)&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">debounce</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">var</span> a;<span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"keyword\">var</span> n=<span class=\"keyword\">this</span>,i=<span class=\"built_in\">arguments</span>;clearTimeout(a),a=setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;e.apply(n,i)&#125;,t)&#125;&#125;<span class=\"keyword\">var</span> canvasEl=<span class=\"built_in\">document</span>.querySelector(<span class=\"string\">\".fireworks\"</span>);<span class=\"keyword\">if</span>(canvasEl)&#123;<span class=\"keyword\">var</span> ctx=canvasEl.getContext(<span class=\"string\">\"2d\"</span>),numberOfParticules=<span class=\"number\">30</span>,pointerX=<span class=\"number\">0</span>,pointerY=<span class=\"number\">0</span>,tap=<span class=\"string\">\"mousedown\"</span>,colors=[<span class=\"string\">\"#FF1461\"</span>,<span class=\"string\">\"#18FF92\"</span>,<span class=\"string\">\"#5A87FF\"</span>,<span class=\"string\">\"#FBF38C\"</span>],setCanvasSize=debounce(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;canvasEl.width=<span class=\"number\">2</span>*<span class=\"built_in\">window</span>.innerWidth,canvasEl.height=<span class=\"number\">2</span>*<span class=\"built_in\">window</span>.innerHeight,canvasEl.style.width=<span class=\"built_in\">window</span>.innerWidth+<span class=\"string\">\"px\"</span>,canvasEl.style.height=<span class=\"built_in\">window</span>.innerHeight+<span class=\"string\">\"px\"</span>,canvasEl.getContext(<span class=\"string\">\"2d\"</span>).scale(<span class=\"number\">2</span>,<span class=\"number\">2</span>)&#125;,<span class=\"number\">500</span>),render=anime(&#123;<span class=\"attr\">duration</span>:<span class=\"number\">1</span>/<span class=\"number\">0</span>,<span class=\"attr\">update</span>:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;ctx.clearRect(<span class=\"number\">0</span>,<span class=\"number\">0</span>,canvasEl.width,canvasEl.height)&#125;&#125;);<span class=\"built_in\">document</span>.addEventListener(tap,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"string\">\"sidebar\"</span>!==e.target.id&amp;&amp;<span class=\"string\">\"toggle-sidebar\"</span>!==e.target.id&amp;&amp;<span class=\"string\">\"A\"</span>!==e.target.nodeName&amp;&amp;<span class=\"string\">\"IMG\"</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!<span class=\"number\">1</span>),setCanvasSize(),<span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">\"resize\"</span>,setCanvasSize,!<span class=\"number\">1</span>)&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>打开<code>themes/next/layout/_layout.swig</code>,在<code>&lt;/body&gt;</code>上面写下如下代码：<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% <span class=\"keyword\">if</span> theme.fireworks %&#125;</span><br><span class=\"line\">   &lt;canvas <span class=\"class\"><span class=\"keyword\">class</span>=\"<span class=\"title\">fireworks</span>\" <span class=\"title\">style</span>=\"<span class=\"title\">position</span>:</span> fixed;left: <span class=\"number\">0</span>;top: <span class=\"number\">0</span>;z-index: <span class=\"number\">1</span>; pointer-events: none;<span class=\"string\">\" &gt;&lt;/canvas&gt; </span></span><br><span class=\"line\"><span class=\"string\">   &lt;script type=\"</span>text/javascript<span class=\"string\">\" src=\"</span><span class=\"comment\">//cdn.bootcss.com/animejs/2.2.0/anime.min.js\"&gt;&lt;/script&gt; </span></span><br><span class=\"line\">   &lt;script type=<span class=\"string\">\"text/javascript\"</span> src=<span class=\"string\">\"/js/src/fireworks.js\"</span>&gt;&lt;/script&gt;</span><br><span class=\"line\">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></p>\n<p>打开主题配置文件，在里面最后写下：<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Fireworks</span><br><span class=\"line\">fireworks: <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure></p>\n<p>完!</p>\n<h3 id=\"自定义鼠标样式\"><a href=\"#自定义鼠标样式\" class=\"headerlink\" title=\"自定义鼠标样式\"></a>自定义鼠标样式</h3><p>打开<code>themes/next/source/css/_custom/custom.styl</code>,在里面写下如下代码:<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 鼠标样式</span></span><br><span class=\"line\">  * &#123;</span><br><span class=\"line\">      cursor: url(<span class=\"string\">\"http://om8u46rmb.bkt.clouddn.com/sword2.ico\"</span>),<span class=\"keyword\">auto</span>!important</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  :active &#123;</span><br><span class=\"line\">      cursor: url(<span class=\"string\">\"http://om8u46rmb.bkt.clouddn.com/sword1.ico\"</span>),<span class=\"keyword\">auto</span>!important</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure></p>\n<p>其中<code>url</code>里面必须是<code>ico</code>图片,ico图片可以上传到网上（如七牛云图床），然后获取外链，复制到url里就行了。</p>\n<hr>\n<h2 id=\"博文设置\"><a href=\"#博文设置\" class=\"headerlink\" title=\"博文设置\"></a>博文设置</h2><h3 id=\"博文置顶\"><a href=\"#博文置顶\" class=\"headerlink\" title=\"博文置顶\"></a>博文置顶</h3><p>修改<code>hero-generator-index</code>插件，把文件<code>node_modules/hexo-generator-index/lib/generator.js</code>内的代码替换为：<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">'use strict';</span><br><span class=\"line\">var pagination = require('hexo-pagination');</span><br><span class=\"line\"><span class=\"keyword\">module</span>.exports = function(locals)&#123;</span><br><span class=\"line\">  var config = <span class=\"keyword\">this</span>.config;</span><br><span class=\"line\">  var posts = locals.posts;</span><br><span class=\"line\">    posts.data = posts.data.sort(function(a, b) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(a.top &amp;&amp; b.top) &#123; <span class=\"comment\">// 两篇文章top都有定义</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(a.top == b.top) <span class=\"keyword\">return</span> b.date - a.date; <span class=\"comment\">// 若top值一样则按照文章日期降序排</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.top - a.top; <span class=\"comment\">// 否则按照top值降序排</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(a.top &amp;&amp; !b.top) &#123; <span class=\"comment\">// 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.date - a.date; <span class=\"comment\">// 都没定义按照文章日期降序排</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  var paginationDir = config.pagination_dir || 'page';</span><br><span class=\"line\">  return pagination('', posts, &#123;</span><br><span class=\"line\">    perPage: config.index_generator.per_page,</span><br><span class=\"line\">    layout: ['index', 'archive'],</span><br><span class=\"line\">    format: paginationDir + '/%d/',</span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">      __index: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<p>在文章中添加<code>top</code>值，数值越大文章越靠前:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: 解决Charles乱码问题</span><br><span class=\"line\">date: 2017-05-22 22:45:48</span><br><span class=\"line\">tags: 技巧</span><br><span class=\"line\">categories: 技巧</span><br><span class=\"line\">copyright: true</span><br><span class=\"line\">top: 100</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"博文压缩\"><a href=\"#博文压缩\" class=\"headerlink\" title=\"博文压缩\"></a>博文压缩</h3><p>在<code>Markdown</code>文件里要显示到主页的摘要后一行加上：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--more--&gt;</span><br></pre></td></tr></table></figure></p>\n<p>如本文：<br><img src=\"http://p31gihke0.bkt.clouddn.com/博文压缩.png\" alt=\"博文压缩.png\"></p>\n<h3 id=\"文章加密访问\"><a href=\"#文章加密访问\" class=\"headerlink\" title=\"文章加密访问\"></a>文章加密访问</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/文章加密访问.gif\" alt=\"文章加密访问.gif\"></p>\n</li>\n<li><p>实现方法<br>打开<code>themes-&gt;next-&gt;layout-&gt;_partials-&gt;head.swig</code>文件,在以下位置插入这样一段代码：<br><img src=\"http://p31gihke0.bkt.clouddn.com/文章加密访问2.png\" alt=\"文章加密访问2.png\"></p>\n</li>\n</ol>\n<p>代码清单：<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    (function()&#123;</span><br><span class=\"line\">        if('&#123;&#123; page.password &#125;&#125;')&#123;</span><br><span class=\"line\">            if (prompt('请输入文章密码') !== '&#123;&#123; page.password &#125;&#125;')&#123;</span><br><span class=\"line\">                alert('密码错误！');</span><br><span class=\"line\">                history.back();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)();</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>\n<p>然后在文章上写成类似格式：<br><img src=\"http://p31gihke0.bkt.clouddn.com/文章加密访问3.png\" alt=\"文章加密访问3.png\"></p>\n<h3 id=\"字数统计功能\"><a href=\"#字数统计功能\" class=\"headerlink\" title=\"字数统计功能\"></a>字数统计功能</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/字数统计功能.png\" alt=\"字数统计功能.png\"></p>\n</li>\n<li><p>实现方法<br>在根目录下右键<code>git bash</code>安装<code>hexo-wordcount</code>：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>然后在主题的配置文件中，配置如下：<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Post wordcount display settings</span><br><span class=\"line\"># Dependencies: https:<span class=\"comment\">//github.com/willin/hexo-wordcount</span></span><br><span class=\"line\">post_wordcount:</span><br><span class=\"line\">  item_text: <span class=\"literal\">true</span></span><br><span class=\"line\">  wordcount: <span class=\"literal\">true</span></span><br><span class=\"line\">  min2read: <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"主页文章添加阴影效果\"><a href=\"#主页文章添加阴影效果\" class=\"headerlink\" title=\"主页文章添加阴影效果\"></a>主页文章添加阴影效果</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/主页文章添加阴影效果.png\" alt=\"主页文章添加阴影效果.png\"></p>\n</li>\n<li><p>实现方法<br>打开<code>\\themes\\next\\source\\css\\_custom\\custom.styl</code>,向里面加入：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 主页文章添加阴影效果</span><br><span class=\"line\"> <span class=\"selector-class\">.post</span> &#123;</span><br><span class=\"line\">   <span class=\"attribute\">margin-top</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">   <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">   <span class=\"attribute\">padding</span>: <span class=\"number\">25px</span>;</span><br><span class=\"line\">   <span class=\"attribute\">-webkit-box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">5px</span> <span class=\"built_in\">rgba</span>(202, 203, 203, .5);</span><br><span class=\"line\">   <span class=\"attribute\">-moz-box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">5px</span> <span class=\"built_in\">rgba</span>(202, 203, 204, .5);</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"修改文章内链接文本样式\"><a href=\"#修改文章内链接文本样式\" class=\"headerlink\" title=\"修改文章内链接文本样式\"></a>修改文章内链接文本样式</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/修改文章内链接文本样式.gif\" alt=\"修改文章内链接文本样式.gif\"></p>\n</li>\n<li><p>实现方法<br>修改文件<code>themes\\next\\source\\css\\_common\\components\\post\\post.styl</code>，在末尾添加如下css样式：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 文章内链接文本样式</span><br><span class=\"line\"><span class=\"selector-class\">.post-body</span> <span class=\"selector-tag\">p</span> <span class=\"selector-tag\">a</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#0593d3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>: none;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#0593d3</span>;</span><br><span class=\"line\">  &amp;:hover &#123;</span><br><span class=\"line\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#fc6423</span>;</span><br><span class=\"line\">    <span class=\"selector-tag\">border-bottom</span>: <span class=\"selector-tag\">none</span>;</span><br><span class=\"line\">    <span class=\"selector-tag\">border-bottom</span>: 1<span class=\"selector-tag\">px</span> <span class=\"selector-tag\">solid</span> <span class=\"selector-id\">#fc6423</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>其中选择<code>.post-body</code>是为了不影响标题，选择<code>p</code>是为了不影响首页“阅读全文”的显示样式,颜色可以自己定义。</p>\n<h3 id=\"在文章底部增加版权信息\"><a href=\"#在文章底部增加版权信息\" class=\"headerlink\" title=\"在文章底部增加版权信息\"></a>在文章底部增加版权信息</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/在文章底部增加版权信息.png\" alt=\"在文章底部增加版权信息.png\"></p>\n</li>\n<li><p>实现方法<br>在目录<code>next/layout/_macro/</code>下添加<code>my-copyright.swig</code>：</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% <span class=\"keyword\">if</span> page.copyright %&#125;</span><br><span class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span>=\"<span class=\"title\">my_post_copyright</span>\"&gt;</span></span><br><span class=\"line\"><span class=\"class\">  &lt;script src=\"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js\"&gt;&lt;/script&gt;</span></span><br><span class=\"line\"><span class=\"class\">  </span></span><br><span class=\"line\"><span class=\"class\">  &lt;!-- JS库 sweetalert 可修改路径 --&gt;</span></span><br><span class=\"line\"><span class=\"class\">  &lt;script src=\"https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js\"&gt;&lt;/script&gt;</span></span><br><span class=\"line\"><span class=\"class\">  &lt;script src=\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"&gt;&lt;/script&gt;</span></span><br><span class=\"line\">  &lt;p&gt;&lt;span&gt;本文标题:&lt;/span&gt;&lt;a href=\"&#123;&#123; url_for(page.path) &#125;&#125;\"&gt;&#123;&#123; page.title &#125;&#125;&lt;/a&gt;&lt;/p&gt;</span><br><span class=\"line\">  &lt;p&gt;&lt;span&gt;文章作者:&lt;/span&gt;&lt;a href=\"/\" title=\"访问 &#123;&#123; theme.author &#125;&#125; 的个人博客\"&gt;&#123;&#123; theme.author &#125;&#125;&lt;/a&gt;&lt;/p&gt;</span><br><span class=\"line\">  &lt;p&gt;&lt;span&gt;发布时间:&lt;/span&gt;&#123;&#123; page.date.format(\"YYYY年MM月DD日 - HH:MM\") &#125;&#125;&lt;/p&gt;</span><br><span class=\"line\">  &lt;p&gt;&lt;span&gt;最后更新:&lt;/span&gt;&#123;&#123; page.updated.format(\"YYYY年MM月DD日 - HH:MM\") &#125;&#125;&lt;/p&gt;</span><br><span class=\"line\">  &lt;p&gt;&lt;span&gt;原始链接:&lt;/span&gt;&lt;a href=\"&#123;&#123; url_for(page.path) &#125;&#125;\" title=\"&#123;&#123; page.title &#125;&#125;\"&gt;&#123;&#123; page.permalink &#125;&#125;&lt;/a&gt;</span><br><span class=\"line\">    &lt;span <span class=\"class\"><span class=\"keyword\">class</span>=\"<span class=\"title\">copy</span>-<span class=\"title\">path</span>\"  <span class=\"title\">title</span>=\"点击复制文章链接\"&gt;&lt;i class=\"fa fa-clipboard\" data-clipboard-text=\"&#123;&#123; page.permalink &#125;&#125;\"  aria-label=\"复制成功！\"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"class\">  &lt;/p&gt;</span></span><br><span class=\"line\">  &lt;p&gt;&lt;span&gt;许可协议:&lt;/span&gt;&lt;i class=\"fa fa-creative-commons\"&gt;&lt;/i&gt; &lt;a rel=\"license\" href=\"https://creativecommons.org/licenses/by-nc-nd/4.0/\" target=\"_blank\" title=\"Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)\"&gt;署名-非商业性使用-禁止演绎 4.0 国际&lt;/a&gt; 转载请保留原文链接及作者。&lt;/p&gt;  </span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\">&lt;script&gt; </span><br><span class=\"line\">    var clipboard = new Clipboard('.fa-clipboard');</span><br><span class=\"line\">    $(<span class=\"string\">\".fa-clipboard\"</span>).click(function()&#123;</span><br><span class=\"line\">      clipboard.on('success', function()&#123;</span><br><span class=\"line\">        swal(&#123;   </span><br><span class=\"line\">          title: <span class=\"string\">\"\"</span>,   </span><br><span class=\"line\">          text: '复制成功',</span><br><span class=\"line\">          icon: <span class=\"string\">\"success\"</span>, </span><br><span class=\"line\">          showConfirmButton: <span class=\"literal\">true</span></span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    &#125;);  </span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>在目录<code>next/source/css/_common/components/post/</code>下添加<code>my-post-copyright.styl</code>：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">85%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">max-width</span>: <span class=\"number\">45em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">2.8em</span> auto <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0.5em</span> <span class=\"number\">1.0em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#d3d3d3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">0.93rem</span>;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">1.6em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">word-break</span>: break-all;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(255,255,255,0.4);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">p</span>&#123;<span class=\"attribute\">margin</span>:<span class=\"number\">0</span>;&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">span</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">5.2em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#b5b5b5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bold;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.raw</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">5em</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">a</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#808080</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>:<span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">a</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#a3d2a3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-decoration</span>: underline;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.fa-clipboard</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#000</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.post-url</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: normal;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.copy-path</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  +mobile()&#123;display:none;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.copy-path</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#808080</span>;</span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>修改<code>next/layout/_macro/post.swig</code>，在代码<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div&gt;</span><br><span class=\"line\">      &#123;% <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> is_index %&#125;</span><br><span class=\"line\">        &#123;% include 'wechat-subscriber.swig' %&#125;</span><br><span class=\"line\">      &#123;% endif %&#125;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>\n<p>之前添加增加如下代码：<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div&gt;</span><br><span class=\"line\">      &#123;% <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> is_index %&#125;</span><br><span class=\"line\">        &#123;% include 'my-copyright.swig' %&#125;</span><br><span class=\"line\">      &#123;% endif %&#125;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>\n<p>修改<code>next/source/css/_common/components/post/post.styl</code>文件，在最后一行增加代码：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"keyword\">import</span> <span class=\"string\">\"my-post-copyright\"</span></span><br></pre></td></tr></table></figure></p>\n<p>保存重新生成即可。</p>\n<blockquote>\n<p>小技巧：如果你觉得每次都要输入<code>copyright: true</code>很麻烦的话,那么在<code>/scaffolds/post.md</code>文件中添加：<br><img src=\"http://p31gihke0.bkt.clouddn.com/在文章底部增加版权信息2.png\" alt=\"在文章底部增加版权信息2.png\"><br>这样每次hexo new “你的内容”之后，生成的md文件会自动把copyright:加到里面去(注意：如果解析出来之后，你的原始链接有问题：如：<a href=\"http://yoursite.com/前端小项目：使用canvas绘画哆啦A梦.html,那么在根目录下_config.yml中写成类似这样：）\" target=\"_blank\" rel=\"noopener\">http://yoursite.com/前端小项目：使用canvas绘画哆啦A梦.html,那么在根目录下_config.yml中写成类似这样：）</a><br><img src=\"http://p31gihke0.bkt.clouddn.com/在文章底部增加版权信息3.png\" alt=\"在文章底部增加版权信息3.png\"></p>\n</blockquote>\n<h3 id=\"修改文章底部的那个带-号的标签\"><a href=\"#修改文章底部的那个带-号的标签\" class=\"headerlink\" title=\"修改文章底部的那个带#号的标签\"></a>修改文章底部的那个带#号的标签</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/修改文章底部的那个带#号的标签.png\" alt=\"修改文章底部的那个带#号的标签.png\"></p>\n</li>\n<li><p>实现方法<br>修改模板<code>/themes/next/layout/_macro/post.swig</code>，搜索<code>rel=&quot;tag&quot;&gt;#</code>，将<code>#</code>换成<code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code></p>\n</li>\n</ol>\n<hr>\n<h2 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h2><h3 id=\"修改字体大小\"><a href=\"#修改字体大小\" class=\"headerlink\" title=\"修改字体大小\"></a>修改字体大小</h3><p>打开<code>\\themes\\next\\source\\css\\ _variables\\base.styl</code>文件，将<code>$font-size-base</code>改成<code>16px</code>，如下所示：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$font-size-base            =16px</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"添加评论-Valine\"><a href=\"#添加评论-Valine\" class=\"headerlink\" title=\"添加评论-Valine\"></a>添加评论-Valine</h3><p>在<a href=\"https://leancloud.cn/\" target=\"_blank\" rel=\"noopener\">leancloud 官网</a>注册账号并访问控制台随便创建一个应用，进入里面记下在<code>设置-应用KEY</code>下找到<code>appid</code>和<code>appkey</code>复制到下图位置，记得<code>enable: true</code>:<br><img src=\"http://p31gihke0.bkt.clouddn.com/添加评论-Valine.png\" alt=\"添加评论-Valine.png\"></p>\n<h3 id=\"修改打赏字体不闪动\"><a href=\"#修改打赏字体不闪动\" class=\"headerlink\" title=\"修改打赏字体不闪动\"></a>修改打赏字体不闪动</h3><p>修改文件<code>next/source/css/_common/components/post/post-reward.styl</code>，然后注释其中的函数<code>wechat:hover</code>和<code>alipay:hover</code>，如下：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 注释文字闪动函数</span></span><br><span class=\"line\"><span class=\"comment\"> #wechat:hover p&#123;</span></span><br><span class=\"line\"><span class=\"comment\">    animation: roll 0.1s infinite linear;</span></span><br><span class=\"line\"><span class=\"comment\">    -webkit-animation: roll 0.1s infinite linear;</span></span><br><span class=\"line\"><span class=\"comment\">    -moz-animation: roll 0.1s infinite linear;</span></span><br><span class=\"line\"><span class=\"comment\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> #alipay:hover p&#123;</span></span><br><span class=\"line\"><span class=\"comment\">   animation: roll 0.1s infinite linear;</span></span><br><span class=\"line\"><span class=\"comment\">    -webkit-animation: roll 0.1s infinite linear;</span></span><br><span class=\"line\"><span class=\"comment\">    -moz-animation: roll 0.1s infinite linear;</span></span><br><span class=\"line\"><span class=\"comment\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"侧边栏推荐阅读\"><a href=\"#侧边栏推荐阅读\" class=\"headerlink\" title=\"侧边栏推荐阅读\"></a>侧边栏推荐阅读</h3><p>打开主题配置文件修改成这样就行了(links里面写你想要的链接):<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Blogrolls</span><br><span class=\"line\">links_title: 推荐阅读</span><br><span class=\"line\">#links_layout: block</span><br><span class=\"line\">links_layout: <span class=\"keyword\">inline</span></span><br><span class=\"line\">links:</span><br><span class=\"line\">  优设: http:<span class=\"comment\">//www.uisdc.com/</span></span><br><span class=\"line\">  张鑫旭: http:<span class=\"comment\">//www.zhangxinxu.com/</span></span><br><span class=\"line\">  Web前端导航: http:<span class=\"comment\">//www.alloyteam.com/nav/</span></span><br><span class=\"line\">  前端书籍资料: http:<span class=\"comment\">//www.36zhen.com/t?id=3448</span></span><br><span class=\"line\">  百度前端技术学院: http:<span class=\"comment\">//ife.baidu.com/</span></span><br><span class=\"line\">  google前端开发基础: http:<span class=\"comment\">//wf.uisdc.com/cn/</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"致谢\"><a href=\"#致谢\" class=\"headerlink\" title=\"致谢\"></a>致谢</h2><p>有一些博主非常无私，不断为Hexo 添加着各种功能，官方也在不断地整合这些资源，不断推出新功能，让我们这些前端小白们也能简单的美化自己的小屋，虽然折腾了很久，但确实感到成就满满，这里表达由衷的感谢！<br>在写这篇文章的时候我又发现了好多有趣的设置，如本文左下角的微信订阅、一键回顶部、分享功能等等，还有好多好多功能，待我日后慢慢道来！</p>\n<blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><ul>\n<li><a href=\"http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html\" target=\"_blank\" rel=\"noopener\">Moorez:hexo的next主题个性化教程:打造炫酷网站</a></li>\n<li><a href=\"https://hexo.io/zh-cn/docs/index.html\" target=\"_blank\" rel=\"noopener\">Hexo 官方文档</a></li>\n<li><a href=\"http://theme-next.iissnan.com/getting-started.html\" target=\"_blank\" rel=\"noopener\">Next 官方文档</a></li>\n</ul>\n</blockquote>\n<p>未完待续…………</p>\n","site":{"data":{}},"excerpt":"<center><i>NexT 拥有丰富而简单的主题配置，结合第三方服务，可以打造出属于自己的博客,实现个性化定制。掌握F12的用法之后，每个窗口的任意地方都可以任你修改，开来体验这些功能吧！</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/激扬青春.jpg\" alt=\"激扬青春.jpg\"><br>","more":"<br>Next 的官方文档介绍了为站点添加诸多功能的基本方式，这些方式大多通过修改主题配置文件 <code>_config.yml</code> 来完成。在这篇文章中，假定读者已经成功使用 GitHub Pages + Hexo + Next 来配置站点，请确保您已经读过Next 官方的配置文档，那是一份很好的教程，如果对自己网站的配置一知半解，花上半个小时去把它读懂并付诸实践不失为明智的选择。</p>\n<blockquote>\n<p>你可以访问 <a href=\"http://theme-next.iissnan.com\" target=\"_blank\" rel=\"noopener\">Next 的使用文档</a> 了解如何为自己的网站添加各种功能<br><!--more--></p>\n</blockquote>\n<hr>\n<h2 id=\"开篇点题\"><a href=\"#开篇点题\" class=\"headerlink\" title=\"开篇点题\"></a>开篇点题</h2><p>在修饰站点过程中，身为一个处女座Boy 的本博主本着优雅、实用、便利修改的原则来查找一些资料，结果发现许多的建站者的建议看起来厉害无比，各种代码齐天飞，实践起来却太过麻烦，也不便于以后的修改，非常不人性化！！！</p>\n<p>于是，我花了一下午+一晚上的时间对照着 <a href=\"http://theme-next.iissnan.com\" target=\"_blank\" rel=\"noopener\">Next官方文档</a> 将站点和主题下的配置文件 <code>_config.yml</code> 基本上看了一遍，结果发现，其实很多问题在配置文件中修改几个参数即可，完全不必大动刀戈自己挥手写代码，当然，有些功能确实是还没集成到官方文件中的，许多博主给出的解决方案也十分贴心友好。在这里本人将 <code>官方配置里没讲到的和已经过时需要修改</code> 的功能做一个总结，算是对官方文档的一个补充，也给自己做个备忘，主要涉及以下功能：</p>\n<ul>\n<li>[ ] <strong>网站设置</strong><ul>\n<li>[ ] 加载条</li>\n<li>[ ] 网站底部访问量</li>\n<li>[ ] 网站底部字数统计</li>\n<li>[ ] 隐藏网页底部powered By Hexo / 强力驱动</li>\n<li>[ ] 在右上角或者左上角实现fork me on github</li>\n</ul>\n</li>\n<li>[ ] <strong>互动设置</strong><ul>\n<li>[ ] 点击爆炸效果</li>\n<li>[ ] 点击出桃心效果</li>\n<li>[ ] 自定义鼠标样式</li>\n</ul>\n</li>\n<li>[ ] <strong>博文设置</strong><ul>\n<li>[ ] 博文置顶</li>\n<li>[ ] 博文压缩</li>\n<li>[ ] 文章加密访问</li>\n<li>[ ] 字数统计功能</li>\n<li>[ ] 主页文章添加阴影效果</li>\n<li>[ ] 修改文章内链接文本样式</li>\n<li>[ ] 在文章底部增加版权信息</li>\n<li>[ ] 修改文章底部的那个带#号的标签</li>\n</ul>\n</li>\n<li>[ ] <strong>其他</strong><ul>\n<li>[ ] 修改字体大小</li>\n<li>[ ] 添加评论-Valine</li>\n<li>[ ] 修改打赏字体不闪动</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"网站设置\"><a href=\"#网站设置\" class=\"headerlink\" title=\"网站设置\"></a>网站设置</h2><h3 id=\"加载条\"><a href=\"#加载条\" class=\"headerlink\" title=\"加载条\"></a>加载条</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/加载条.gif\" alt=\"加载条.gif\"></p>\n</li>\n<li><p>实现方法<br>修改主题配置文件 <code>_config.yml</code>将 <code>pace: false</code>改为 <code>pace: true</code>就行了，还可以换不同样式的加载条，如下图：<br><img src=\"http://p31gihke0.bkt.clouddn.com/加载条2.png\" alt=\"加载条2.png\"></p>\n</li>\n</ol>\n<h3 id=\"网站底部访问量\"><a href=\"#网站底部访问量\" class=\"headerlink\" title=\"网站底部访问量\"></a>网站底部访问量</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/网站底部访问量.png\" alt=\"网站底部访问量.png\"></p>\n</li>\n<li><p>实现方法<br>打开<code>\\themes\\next\\layout\\_partials\\footer.swig</code>文件,在<code>copyright</code>前加上画红线这句话：<br><img src=\"http://p31gihke0.bkt.clouddn.com/网站底部访问量2.png\" alt=\"网站底部访问量2.png\"></p>\n</li>\n</ol>\n<p>代码清单：<br><figure class=\"highlight c\"><figcaption><span>文件位置：~/themes/next/layout/_partials/footer.swig</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script async src=<span class=\"string\">\"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>\n<p>然后再合适的位置添加显示统计的代码:<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;span id=<span class=\"string\">\"busuanzi_container_site_uv\"</span>&gt;</span><br><span class=\"line\">  本站访客数:&lt;span id=<span class=\"string\">\"busuanzi_value_site_uv\"</span>&gt;&lt;/span&gt;</span><br><span class=\"line\">&lt;/span&gt;</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>在这里有两中不同计算方式的统计代码：</p>\n<ol>\n<li><p>pv的方式，单个用户连续点击n篇文章，记录n次访问量</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;span id=<span class=\"string\">\"busuanzi_container_site_pv\"</span>&gt;</span><br><span class=\"line\">    本站访客数&lt;span id=<span class=\"string\">\"busuanzi_value_site_pv\"</span>&gt;&lt;/span&gt;</span><br><span class=\"line\">&lt;/span&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>uv的方式，单个用户连续点击n篇文章，只记录1次访客数</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;span id=<span class=\"string\">\"busuanzi_container_site_uv\"</span>&gt;</span><br><span class=\"line\">    本站总访问量&lt;span id=busuanzi_value_site_uv<span class=\"string\">\"&gt;&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"string\"> &lt;/span&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</blockquote>\n<h3 id=\"网站底部字数统计\"><a href=\"#网站底部字数统计\" class=\"headerlink\" title=\"网站底部字数统计\"></a>网站底部字数统计</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/网站底部访问量.png\" alt=\"网站底部访问量.png\"></p>\n</li>\n<li><p>实现方法<br>在博客根目录下，右键<code>git bash</code>运行如下代码:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>然后在<code>/themes/next/layout/_partials/footer.swig</code>文件尾部加上：<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span>=\"<span class=\"title\">theme</span>-<span class=\"title\">info</span>\"&gt;</span></span><br><span class=\"line\"><span class=\"class\">  &lt;div class=\"powered-by\"&gt;&lt;/div&gt;</span></span><br><span class=\"line\">  &lt;span class=\"post-count\"&gt;博客全站共&#123;&#123; totalcount(site) &#125;&#125;字&lt;/span&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"隐藏网页底部powered-By-Hexo-强力驱动\"><a href=\"#隐藏网页底部powered-By-Hexo-强力驱动\" class=\"headerlink\" title=\"隐藏网页底部powered By Hexo / 强力驱动\"></a>隐藏网页底部powered By Hexo / 强力驱动</h3><p>打开主题配置文件,将改为<code>powered: true</code>改为<code>powered: false</code>即可。</p>\n<h3 id=\"在右上角或者左上角实现fork-me-on-github\"><a href=\"#在右上角或者左上角实现fork-me-on-github\" class=\"headerlink\" title=\"在右上角或者左上角实现fork me on github\"></a>在右上角或者左上角实现fork me on github</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/fork me on github.png\" alt=\"fork me on github.png\"><br><img src=\"http://p31gihke0.bkt.clouddn.com/fork me on github2.png\" alt=\"fork me on github2.png\"></p>\n</li>\n<li><p>实现方法<br>在<a href=\"https://github.com/blog/273-github-ribbons\" target=\"_blank\" rel=\"noopener\">GitHub Ribbons</a>或<a href=\"http://tholman.com/github-corners/\" target=\"_blank\" rel=\"noopener\">GitHub Corners</a>挑选自己喜欢的样式，并复制代码。<br>例如，复制以下代码：<br><img src=\"http://p31gihke0.bkt.clouddn.com/fork me on github3.png\" alt=\"fork me on github3.png\"></p>\n</li>\n</ol>\n<p>然后粘贴刚才复制的代码到<code>themes/next/layout/_layout.swig</code>文件中(放在<code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code>的下面)，并把href改为你的github地址<br><img src=\"http://p31gihke0.bkt.clouddn.com/fork me on github4.png\" alt=\"fork me on github4.png\"></p>\n<hr>\n<h2 id=\"互动设置\"><a href=\"#互动设置\" class=\"headerlink\" title=\"互动设置\"></a>互动设置</h2><h3 id=\"点击出桃心效果\"><a href=\"#点击出桃心效果\" class=\"headerlink\" title=\"点击出桃心效果\"></a>点击出桃心效果</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/点击出桃心效果.gif\" alt=\"点击出桃心效果.gif\"></p>\n</li>\n<li><p>实现方法<br>进入<a href=\"http://7u2ss1.com1.z0.glb.clouddn.com/love.js\" target=\"_blank\" rel=\"noopener\">这个网址</a>，然后将里面的代码copy一下，在路径<code>/themes/next/source/js/src</code>里新建<code>love.js</code>文件并将代码复制进去，然后打开<code>\\themes\\next\\layout\\_layout.swig</code>文件,在末尾（在前面引用会出现找不到的bug）添加以下代码：</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- 页面点击小红心 --&gt;</span><br><span class=\"line\">&lt;script type=<span class=\"string\">\"text/javascript\"</span> src=<span class=\"string\">\"/js/src/love.js\"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"点击爆炸效果\"><a href=\"#点击爆炸效果\" class=\"headerlink\" title=\"点击爆炸效果\"></a>点击爆炸效果</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/点击爆炸效果.png\" alt=\"点击爆炸效果.png\"></p>\n</li>\n<li><p>实现方法<br>跟那个红心是差不多的，首先在<code>themes/next/source/js/src</code>里面建一个叫<code>fireworks.js</code>的文件，代码如下：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">\"use strict\"</span>;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">updateCoords</span>(<span class=\"params\">e</span>)</span>&#123;pointerX=(e.clientX||e.touches[<span class=\"number\">0</span>].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[<span class=\"number\">0</span>].clientY-canvasEl.getBoundingClientRect().top&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setParticuleDirection</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">var</span> t=anime.random(<span class=\"number\">0</span>,<span class=\"number\">360</span>)*<span class=\"built_in\">Math</span>.PI/<span class=\"number\">180</span>,a=anime.random(<span class=\"number\">50</span>,<span class=\"number\">180</span>),n=[<span class=\"number\">-1</span>,<span class=\"number\">1</span>][anime.random(<span class=\"number\">0</span>,<span class=\"number\">1</span>)]*a;<span class=\"keyword\">return</span>&#123;<span class=\"attr\">x</span>:e.x+n*<span class=\"built_in\">Math</span>.cos(t),<span class=\"attr\">y</span>:e.y+n*<span class=\"built_in\">Math</span>.sin(t)&#125;&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createParticule</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">var</span> a=&#123;&#125;;<span class=\"keyword\">return</span> a.x=e,a.y=t,a.color=colors[anime.random(<span class=\"number\">0</span>,colors.length<span class=\"number\">-1</span>)],a.radius=anime.random(<span class=\"number\">16</span>,<span class=\"number\">32</span>),a.endPos=setParticuleDirection(a),a.draw=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class=\"number\">0</span>,<span class=\"number\">2</span>*<span class=\"built_in\">Math</span>.PI,!<span class=\"number\">0</span>),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createCircle</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">var</span> a=&#123;&#125;;<span class=\"keyword\">return</span> a.x=e,a.y=t,a.color=<span class=\"string\">\"#F00\"</span>,a.radius=<span class=\"number\">0.1</span>,a.alpha=<span class=\"number\">0.5</span>,a.lineWidth=<span class=\"number\">6</span>,a.draw=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class=\"number\">0</span>,<span class=\"number\">2</span>*<span class=\"built_in\">Math</span>.PI,!<span class=\"number\">0</span>),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=<span class=\"number\">1</span>&#125;,a&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">renderParticule</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t=<span class=\"number\">0</span>;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">animateParticules</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> a=createCircle(e,t),n=[],i=<span class=\"number\">0</span>;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;<span class=\"attr\">targets</span>:n,<span class=\"attr\">x</span>:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">return</span> e.endPos.x&#125;,<span class=\"attr\">y</span>:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">return</span> e.endPos.y&#125;,<span class=\"attr\">radius</span>:<span class=\"number\">0.1</span>,<span class=\"attr\">duration</span>:anime.random(<span class=\"number\">1200</span>,<span class=\"number\">1800</span>),<span class=\"attr\">easing</span>:<span class=\"string\">\"easeOutExpo\"</span>,<span class=\"attr\">update</span>:renderParticule&#125;).add(&#123;<span class=\"attr\">targets</span>:a,<span class=\"attr\">radius</span>:anime.random(<span class=\"number\">80</span>,<span class=\"number\">160</span>),<span class=\"attr\">lineWidth</span>:<span class=\"number\">0</span>,<span class=\"attr\">alpha</span>:&#123;<span class=\"attr\">value</span>:<span class=\"number\">0</span>,<span class=\"attr\">easing</span>:<span class=\"string\">\"linear\"</span>,<span class=\"attr\">duration</span>:anime.random(<span class=\"number\">600</span>,<span class=\"number\">800</span>)&#125;,<span class=\"attr\">duration</span>:anime.random(<span class=\"number\">1200</span>,<span class=\"number\">1800</span>),<span class=\"attr\">easing</span>:<span class=\"string\">\"easeOutExpo\"</span>,<span class=\"attr\">update</span>:renderParticule,<span class=\"attr\">offset</span>:<span class=\"number\">0</span>&#125;)&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">debounce</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">var</span> a;<span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"keyword\">var</span> n=<span class=\"keyword\">this</span>,i=<span class=\"built_in\">arguments</span>;clearTimeout(a),a=setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;e.apply(n,i)&#125;,t)&#125;&#125;<span class=\"keyword\">var</span> canvasEl=<span class=\"built_in\">document</span>.querySelector(<span class=\"string\">\".fireworks\"</span>);<span class=\"keyword\">if</span>(canvasEl)&#123;<span class=\"keyword\">var</span> ctx=canvasEl.getContext(<span class=\"string\">\"2d\"</span>),numberOfParticules=<span class=\"number\">30</span>,pointerX=<span class=\"number\">0</span>,pointerY=<span class=\"number\">0</span>,tap=<span class=\"string\">\"mousedown\"</span>,colors=[<span class=\"string\">\"#FF1461\"</span>,<span class=\"string\">\"#18FF92\"</span>,<span class=\"string\">\"#5A87FF\"</span>,<span class=\"string\">\"#FBF38C\"</span>],setCanvasSize=debounce(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;canvasEl.width=<span class=\"number\">2</span>*<span class=\"built_in\">window</span>.innerWidth,canvasEl.height=<span class=\"number\">2</span>*<span class=\"built_in\">window</span>.innerHeight,canvasEl.style.width=<span class=\"built_in\">window</span>.innerWidth+<span class=\"string\">\"px\"</span>,canvasEl.style.height=<span class=\"built_in\">window</span>.innerHeight+<span class=\"string\">\"px\"</span>,canvasEl.getContext(<span class=\"string\">\"2d\"</span>).scale(<span class=\"number\">2</span>,<span class=\"number\">2</span>)&#125;,<span class=\"number\">500</span>),render=anime(&#123;<span class=\"attr\">duration</span>:<span class=\"number\">1</span>/<span class=\"number\">0</span>,<span class=\"attr\">update</span>:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;ctx.clearRect(<span class=\"number\">0</span>,<span class=\"number\">0</span>,canvasEl.width,canvasEl.height)&#125;&#125;);<span class=\"built_in\">document</span>.addEventListener(tap,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"string\">\"sidebar\"</span>!==e.target.id&amp;&amp;<span class=\"string\">\"toggle-sidebar\"</span>!==e.target.id&amp;&amp;<span class=\"string\">\"A\"</span>!==e.target.nodeName&amp;&amp;<span class=\"string\">\"IMG\"</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!<span class=\"number\">1</span>),setCanvasSize(),<span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">\"resize\"</span>,setCanvasSize,!<span class=\"number\">1</span>)&#125;<span class=\"string\">\"use strict\"</span>;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">updateCoords</span>(<span class=\"params\">e</span>)</span>&#123;pointerX=(e.clientX||e.touches[<span class=\"number\">0</span>].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[<span class=\"number\">0</span>].clientY-canvasEl.getBoundingClientRect().top&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setParticuleDirection</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">var</span> t=anime.random(<span class=\"number\">0</span>,<span class=\"number\">360</span>)*<span class=\"built_in\">Math</span>.PI/<span class=\"number\">180</span>,a=anime.random(<span class=\"number\">50</span>,<span class=\"number\">180</span>),n=[<span class=\"number\">-1</span>,<span class=\"number\">1</span>][anime.random(<span class=\"number\">0</span>,<span class=\"number\">1</span>)]*a;<span class=\"keyword\">return</span>&#123;<span class=\"attr\">x</span>:e.x+n*<span class=\"built_in\">Math</span>.cos(t),<span class=\"attr\">y</span>:e.y+n*<span class=\"built_in\">Math</span>.sin(t)&#125;&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createParticule</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">var</span> a=&#123;&#125;;<span class=\"keyword\">return</span> a.x=e,a.y=t,a.color=colors[anime.random(<span class=\"number\">0</span>,colors.length<span class=\"number\">-1</span>)],a.radius=anime.random(<span class=\"number\">16</span>,<span class=\"number\">32</span>),a.endPos=setParticuleDirection(a),a.draw=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class=\"number\">0</span>,<span class=\"number\">2</span>*<span class=\"built_in\">Math</span>.PI,!<span class=\"number\">0</span>),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createCircle</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">var</span> a=&#123;&#125;;<span class=\"keyword\">return</span> a.x=e,a.y=t,a.color=<span class=\"string\">\"#F00\"</span>,a.radius=<span class=\"number\">0.1</span>,a.alpha=<span class=\"number\">0.5</span>,a.lineWidth=<span class=\"number\">6</span>,a.draw=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class=\"number\">0</span>,<span class=\"number\">2</span>*<span class=\"built_in\">Math</span>.PI,!<span class=\"number\">0</span>),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=<span class=\"number\">1</span>&#125;,a&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">renderParticule</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t=<span class=\"number\">0</span>;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">animateParticules</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> a=createCircle(e,t),n=[],i=<span class=\"number\">0</span>;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;<span class=\"attr\">targets</span>:n,<span class=\"attr\">x</span>:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">return</span> e.endPos.x&#125;,<span class=\"attr\">y</span>:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"keyword\">return</span> e.endPos.y&#125;,<span class=\"attr\">radius</span>:<span class=\"number\">0.1</span>,<span class=\"attr\">duration</span>:anime.random(<span class=\"number\">1200</span>,<span class=\"number\">1800</span>),<span class=\"attr\">easing</span>:<span class=\"string\">\"easeOutExpo\"</span>,<span class=\"attr\">update</span>:renderParticule&#125;).add(&#123;<span class=\"attr\">targets</span>:a,<span class=\"attr\">radius</span>:anime.random(<span class=\"number\">80</span>,<span class=\"number\">160</span>),<span class=\"attr\">lineWidth</span>:<span class=\"number\">0</span>,<span class=\"attr\">alpha</span>:&#123;<span class=\"attr\">value</span>:<span class=\"number\">0</span>,<span class=\"attr\">easing</span>:<span class=\"string\">\"linear\"</span>,<span class=\"attr\">duration</span>:anime.random(<span class=\"number\">600</span>,<span class=\"number\">800</span>)&#125;,<span class=\"attr\">duration</span>:anime.random(<span class=\"number\">1200</span>,<span class=\"number\">1800</span>),<span class=\"attr\">easing</span>:<span class=\"string\">\"easeOutExpo\"</span>,<span class=\"attr\">update</span>:renderParticule,<span class=\"attr\">offset</span>:<span class=\"number\">0</span>&#125;)&#125;<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">debounce</span>(<span class=\"params\">e,t</span>)</span>&#123;<span class=\"keyword\">var</span> a;<span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"keyword\">var</span> n=<span class=\"keyword\">this</span>,i=<span class=\"built_in\">arguments</span>;clearTimeout(a),a=setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;e.apply(n,i)&#125;,t)&#125;&#125;<span class=\"keyword\">var</span> canvasEl=<span class=\"built_in\">document</span>.querySelector(<span class=\"string\">\".fireworks\"</span>);<span class=\"keyword\">if</span>(canvasEl)&#123;<span class=\"keyword\">var</span> ctx=canvasEl.getContext(<span class=\"string\">\"2d\"</span>),numberOfParticules=<span class=\"number\">30</span>,pointerX=<span class=\"number\">0</span>,pointerY=<span class=\"number\">0</span>,tap=<span class=\"string\">\"mousedown\"</span>,colors=[<span class=\"string\">\"#FF1461\"</span>,<span class=\"string\">\"#18FF92\"</span>,<span class=\"string\">\"#5A87FF\"</span>,<span class=\"string\">\"#FBF38C\"</span>],setCanvasSize=debounce(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;canvasEl.width=<span class=\"number\">2</span>*<span class=\"built_in\">window</span>.innerWidth,canvasEl.height=<span class=\"number\">2</span>*<span class=\"built_in\">window</span>.innerHeight,canvasEl.style.width=<span class=\"built_in\">window</span>.innerWidth+<span class=\"string\">\"px\"</span>,canvasEl.style.height=<span class=\"built_in\">window</span>.innerHeight+<span class=\"string\">\"px\"</span>,canvasEl.getContext(<span class=\"string\">\"2d\"</span>).scale(<span class=\"number\">2</span>,<span class=\"number\">2</span>)&#125;,<span class=\"number\">500</span>),render=anime(&#123;<span class=\"attr\">duration</span>:<span class=\"number\">1</span>/<span class=\"number\">0</span>,<span class=\"attr\">update</span>:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;ctx.clearRect(<span class=\"number\">0</span>,<span class=\"number\">0</span>,canvasEl.width,canvasEl.height)&#125;&#125;);<span class=\"built_in\">document</span>.addEventListener(tap,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;<span class=\"string\">\"sidebar\"</span>!==e.target.id&amp;&amp;<span class=\"string\">\"toggle-sidebar\"</span>!==e.target.id&amp;&amp;<span class=\"string\">\"A\"</span>!==e.target.nodeName&amp;&amp;<span class=\"string\">\"IMG\"</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!<span class=\"number\">1</span>),setCanvasSize(),<span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">\"resize\"</span>,setCanvasSize,!<span class=\"number\">1</span>)&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>打开<code>themes/next/layout/_layout.swig</code>,在<code>&lt;/body&gt;</code>上面写下如下代码：<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% <span class=\"keyword\">if</span> theme.fireworks %&#125;</span><br><span class=\"line\">   &lt;canvas <span class=\"class\"><span class=\"keyword\">class</span>=\"<span class=\"title\">fireworks</span>\" <span class=\"title\">style</span>=\"<span class=\"title\">position</span>:</span> fixed;left: <span class=\"number\">0</span>;top: <span class=\"number\">0</span>;z-index: <span class=\"number\">1</span>; pointer-events: none;<span class=\"string\">\" &gt;&lt;/canvas&gt; </span></span><br><span class=\"line\"><span class=\"string\">   &lt;script type=\"</span>text/javascript<span class=\"string\">\" src=\"</span><span class=\"comment\">//cdn.bootcss.com/animejs/2.2.0/anime.min.js\"&gt;&lt;/script&gt; </span></span><br><span class=\"line\">   &lt;script type=<span class=\"string\">\"text/javascript\"</span> src=<span class=\"string\">\"/js/src/fireworks.js\"</span>&gt;&lt;/script&gt;</span><br><span class=\"line\">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></p>\n<p>打开主题配置文件，在里面最后写下：<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Fireworks</span><br><span class=\"line\">fireworks: <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure></p>\n<p>完!</p>\n<h3 id=\"自定义鼠标样式\"><a href=\"#自定义鼠标样式\" class=\"headerlink\" title=\"自定义鼠标样式\"></a>自定义鼠标样式</h3><p>打开<code>themes/next/source/css/_custom/custom.styl</code>,在里面写下如下代码:<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 鼠标样式</span></span><br><span class=\"line\">  * &#123;</span><br><span class=\"line\">      cursor: url(<span class=\"string\">\"http://om8u46rmb.bkt.clouddn.com/sword2.ico\"</span>),<span class=\"keyword\">auto</span>!important</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  :active &#123;</span><br><span class=\"line\">      cursor: url(<span class=\"string\">\"http://om8u46rmb.bkt.clouddn.com/sword1.ico\"</span>),<span class=\"keyword\">auto</span>!important</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure></p>\n<p>其中<code>url</code>里面必须是<code>ico</code>图片,ico图片可以上传到网上（如七牛云图床），然后获取外链，复制到url里就行了。</p>\n<hr>\n<h2 id=\"博文设置\"><a href=\"#博文设置\" class=\"headerlink\" title=\"博文设置\"></a>博文设置</h2><h3 id=\"博文置顶\"><a href=\"#博文置顶\" class=\"headerlink\" title=\"博文置顶\"></a>博文置顶</h3><p>修改<code>hero-generator-index</code>插件，把文件<code>node_modules/hexo-generator-index/lib/generator.js</code>内的代码替换为：<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">'use strict';</span><br><span class=\"line\">var pagination = require('hexo-pagination');</span><br><span class=\"line\"><span class=\"keyword\">module</span>.exports = function(locals)&#123;</span><br><span class=\"line\">  var config = <span class=\"keyword\">this</span>.config;</span><br><span class=\"line\">  var posts = locals.posts;</span><br><span class=\"line\">    posts.data = posts.data.sort(function(a, b) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(a.top &amp;&amp; b.top) &#123; <span class=\"comment\">// 两篇文章top都有定义</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(a.top == b.top) <span class=\"keyword\">return</span> b.date - a.date; <span class=\"comment\">// 若top值一样则按照文章日期降序排</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.top - a.top; <span class=\"comment\">// 否则按照top值降序排</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(a.top &amp;&amp; !b.top) &#123; <span class=\"comment\">// 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.date - a.date; <span class=\"comment\">// 都没定义按照文章日期降序排</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  var paginationDir = config.pagination_dir || 'page';</span><br><span class=\"line\">  return pagination('', posts, &#123;</span><br><span class=\"line\">    perPage: config.index_generator.per_page,</span><br><span class=\"line\">    layout: ['index', 'archive'],</span><br><span class=\"line\">    format: paginationDir + '/%d/',</span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">      __index: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<p>在文章中添加<code>top</code>值，数值越大文章越靠前:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: 解决Charles乱码问题</span><br><span class=\"line\">date: 2017-05-22 22:45:48</span><br><span class=\"line\">tags: 技巧</span><br><span class=\"line\">categories: 技巧</span><br><span class=\"line\">copyright: true</span><br><span class=\"line\">top: 100</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"博文压缩\"><a href=\"#博文压缩\" class=\"headerlink\" title=\"博文压缩\"></a>博文压缩</h3><p>在<code>Markdown</code>文件里要显示到主页的摘要后一行加上：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--more--&gt;</span><br></pre></td></tr></table></figure></p>\n<p>如本文：<br><img src=\"http://p31gihke0.bkt.clouddn.com/博文压缩.png\" alt=\"博文压缩.png\"></p>\n<h3 id=\"文章加密访问\"><a href=\"#文章加密访问\" class=\"headerlink\" title=\"文章加密访问\"></a>文章加密访问</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/文章加密访问.gif\" alt=\"文章加密访问.gif\"></p>\n</li>\n<li><p>实现方法<br>打开<code>themes-&gt;next-&gt;layout-&gt;_partials-&gt;head.swig</code>文件,在以下位置插入这样一段代码：<br><img src=\"http://p31gihke0.bkt.clouddn.com/文章加密访问2.png\" alt=\"文章加密访问2.png\"></p>\n</li>\n</ol>\n<p>代码清单：<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    (function()&#123;</span><br><span class=\"line\">        if('&#123;&#123; page.password &#125;&#125;')&#123;</span><br><span class=\"line\">            if (prompt('请输入文章密码') !== '&#123;&#123; page.password &#125;&#125;')&#123;</span><br><span class=\"line\">                alert('密码错误！');</span><br><span class=\"line\">                history.back();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)();</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>\n<p>然后在文章上写成类似格式：<br><img src=\"http://p31gihke0.bkt.clouddn.com/文章加密访问3.png\" alt=\"文章加密访问3.png\"></p>\n<h3 id=\"字数统计功能\"><a href=\"#字数统计功能\" class=\"headerlink\" title=\"字数统计功能\"></a>字数统计功能</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/字数统计功能.png\" alt=\"字数统计功能.png\"></p>\n</li>\n<li><p>实现方法<br>在根目录下右键<code>git bash</code>安装<code>hexo-wordcount</code>：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>然后在主题的配置文件中，配置如下：<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Post wordcount display settings</span><br><span class=\"line\"># Dependencies: https:<span class=\"comment\">//github.com/willin/hexo-wordcount</span></span><br><span class=\"line\">post_wordcount:</span><br><span class=\"line\">  item_text: <span class=\"literal\">true</span></span><br><span class=\"line\">  wordcount: <span class=\"literal\">true</span></span><br><span class=\"line\">  min2read: <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"主页文章添加阴影效果\"><a href=\"#主页文章添加阴影效果\" class=\"headerlink\" title=\"主页文章添加阴影效果\"></a>主页文章添加阴影效果</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/主页文章添加阴影效果.png\" alt=\"主页文章添加阴影效果.png\"></p>\n</li>\n<li><p>实现方法<br>打开<code>\\themes\\next\\source\\css\\_custom\\custom.styl</code>,向里面加入：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 主页文章添加阴影效果</span><br><span class=\"line\"> <span class=\"selector-class\">.post</span> &#123;</span><br><span class=\"line\">   <span class=\"attribute\">margin-top</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">   <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">   <span class=\"attribute\">padding</span>: <span class=\"number\">25px</span>;</span><br><span class=\"line\">   <span class=\"attribute\">-webkit-box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">5px</span> <span class=\"built_in\">rgba</span>(202, 203, 203, .5);</span><br><span class=\"line\">   <span class=\"attribute\">-moz-box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">5px</span> <span class=\"built_in\">rgba</span>(202, 203, 204, .5);</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"修改文章内链接文本样式\"><a href=\"#修改文章内链接文本样式\" class=\"headerlink\" title=\"修改文章内链接文本样式\"></a>修改文章内链接文本样式</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/修改文章内链接文本样式.gif\" alt=\"修改文章内链接文本样式.gif\"></p>\n</li>\n<li><p>实现方法<br>修改文件<code>themes\\next\\source\\css\\_common\\components\\post\\post.styl</code>，在末尾添加如下css样式：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 文章内链接文本样式</span><br><span class=\"line\"><span class=\"selector-class\">.post-body</span> <span class=\"selector-tag\">p</span> <span class=\"selector-tag\">a</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#0593d3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>: none;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#0593d3</span>;</span><br><span class=\"line\">  &amp;:hover &#123;</span><br><span class=\"line\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#fc6423</span>;</span><br><span class=\"line\">    <span class=\"selector-tag\">border-bottom</span>: <span class=\"selector-tag\">none</span>;</span><br><span class=\"line\">    <span class=\"selector-tag\">border-bottom</span>: 1<span class=\"selector-tag\">px</span> <span class=\"selector-tag\">solid</span> <span class=\"selector-id\">#fc6423</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>其中选择<code>.post-body</code>是为了不影响标题，选择<code>p</code>是为了不影响首页“阅读全文”的显示样式,颜色可以自己定义。</p>\n<h3 id=\"在文章底部增加版权信息\"><a href=\"#在文章底部增加版权信息\" class=\"headerlink\" title=\"在文章底部增加版权信息\"></a>在文章底部增加版权信息</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/在文章底部增加版权信息.png\" alt=\"在文章底部增加版权信息.png\"></p>\n</li>\n<li><p>实现方法<br>在目录<code>next/layout/_macro/</code>下添加<code>my-copyright.swig</code>：</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% <span class=\"keyword\">if</span> page.copyright %&#125;</span><br><span class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span>=\"<span class=\"title\">my_post_copyright</span>\"&gt;</span></span><br><span class=\"line\"><span class=\"class\">  &lt;script src=\"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js\"&gt;&lt;/script&gt;</span></span><br><span class=\"line\"><span class=\"class\">  </span></span><br><span class=\"line\"><span class=\"class\">  &lt;!-- JS库 sweetalert 可修改路径 --&gt;</span></span><br><span class=\"line\"><span class=\"class\">  &lt;script src=\"https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js\"&gt;&lt;/script&gt;</span></span><br><span class=\"line\"><span class=\"class\">  &lt;script src=\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"&gt;&lt;/script&gt;</span></span><br><span class=\"line\">  &lt;p&gt;&lt;span&gt;本文标题:&lt;/span&gt;&lt;a href=\"&#123;&#123; url_for(page.path) &#125;&#125;\"&gt;&#123;&#123; page.title &#125;&#125;&lt;/a&gt;&lt;/p&gt;</span><br><span class=\"line\">  &lt;p&gt;&lt;span&gt;文章作者:&lt;/span&gt;&lt;a href=\"/\" title=\"访问 &#123;&#123; theme.author &#125;&#125; 的个人博客\"&gt;&#123;&#123; theme.author &#125;&#125;&lt;/a&gt;&lt;/p&gt;</span><br><span class=\"line\">  &lt;p&gt;&lt;span&gt;发布时间:&lt;/span&gt;&#123;&#123; page.date.format(\"YYYY年MM月DD日 - HH:MM\") &#125;&#125;&lt;/p&gt;</span><br><span class=\"line\">  &lt;p&gt;&lt;span&gt;最后更新:&lt;/span&gt;&#123;&#123; page.updated.format(\"YYYY年MM月DD日 - HH:MM\") &#125;&#125;&lt;/p&gt;</span><br><span class=\"line\">  &lt;p&gt;&lt;span&gt;原始链接:&lt;/span&gt;&lt;a href=\"&#123;&#123; url_for(page.path) &#125;&#125;\" title=\"&#123;&#123; page.title &#125;&#125;\"&gt;&#123;&#123; page.permalink &#125;&#125;&lt;/a&gt;</span><br><span class=\"line\">    &lt;span <span class=\"class\"><span class=\"keyword\">class</span>=\"<span class=\"title\">copy</span>-<span class=\"title\">path</span>\"  <span class=\"title\">title</span>=\"点击复制文章链接\"&gt;&lt;i class=\"fa fa-clipboard\" data-clipboard-text=\"&#123;&#123; page.permalink &#125;&#125;\"  aria-label=\"复制成功！\"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"class\">  &lt;/p&gt;</span></span><br><span class=\"line\">  &lt;p&gt;&lt;span&gt;许可协议:&lt;/span&gt;&lt;i class=\"fa fa-creative-commons\"&gt;&lt;/i&gt; &lt;a rel=\"license\" href=\"https://creativecommons.org/licenses/by-nc-nd/4.0/\" target=\"_blank\" title=\"Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)\"&gt;署名-非商业性使用-禁止演绎 4.0 国际&lt;/a&gt; 转载请保留原文链接及作者。&lt;/p&gt;  </span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\">&lt;script&gt; </span><br><span class=\"line\">    var clipboard = new Clipboard('.fa-clipboard');</span><br><span class=\"line\">    $(<span class=\"string\">\".fa-clipboard\"</span>).click(function()&#123;</span><br><span class=\"line\">      clipboard.on('success', function()&#123;</span><br><span class=\"line\">        swal(&#123;   </span><br><span class=\"line\">          title: <span class=\"string\">\"\"</span>,   </span><br><span class=\"line\">          text: '复制成功',</span><br><span class=\"line\">          icon: <span class=\"string\">\"success\"</span>, </span><br><span class=\"line\">          showConfirmButton: <span class=\"literal\">true</span></span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    &#125;);  </span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>在目录<code>next/source/css/_common/components/post/</code>下添加<code>my-post-copyright.styl</code>：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">85%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">max-width</span>: <span class=\"number\">45em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">2.8em</span> auto <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0.5em</span> <span class=\"number\">1.0em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#d3d3d3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">0.93rem</span>;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">1.6em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">word-break</span>: break-all;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(255,255,255,0.4);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">p</span>&#123;<span class=\"attribute\">margin</span>:<span class=\"number\">0</span>;&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">span</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">5.2em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#b5b5b5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bold;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.raw</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">5em</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">a</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#808080</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>:<span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">a</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#a3d2a3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-decoration</span>: underline;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.fa-clipboard</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#000</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.post-url</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: normal;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.copy-path</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  +mobile()&#123;display:none;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.copy-path</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#808080</span>;</span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>修改<code>next/layout/_macro/post.swig</code>，在代码<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div&gt;</span><br><span class=\"line\">      &#123;% <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> is_index %&#125;</span><br><span class=\"line\">        &#123;% include 'wechat-subscriber.swig' %&#125;</span><br><span class=\"line\">      &#123;% endif %&#125;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>\n<p>之前添加增加如下代码：<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div&gt;</span><br><span class=\"line\">      &#123;% <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> is_index %&#125;</span><br><span class=\"line\">        &#123;% include 'my-copyright.swig' %&#125;</span><br><span class=\"line\">      &#123;% endif %&#125;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>\n<p>修改<code>next/source/css/_common/components/post/post.styl</code>文件，在最后一行增加代码：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"keyword\">import</span> <span class=\"string\">\"my-post-copyright\"</span></span><br></pre></td></tr></table></figure></p>\n<p>保存重新生成即可。</p>\n<blockquote>\n<p>小技巧：如果你觉得每次都要输入<code>copyright: true</code>很麻烦的话,那么在<code>/scaffolds/post.md</code>文件中添加：<br><img src=\"http://p31gihke0.bkt.clouddn.com/在文章底部增加版权信息2.png\" alt=\"在文章底部增加版权信息2.png\"><br>这样每次hexo new “你的内容”之后，生成的md文件会自动把copyright:加到里面去(注意：如果解析出来之后，你的原始链接有问题：如：<a href=\"http://yoursite.com/前端小项目：使用canvas绘画哆啦A梦.html,那么在根目录下_config.yml中写成类似这样：）\" target=\"_blank\" rel=\"noopener\">http://yoursite.com/前端小项目：使用canvas绘画哆啦A梦.html,那么在根目录下_config.yml中写成类似这样：）</a><br><img src=\"http://p31gihke0.bkt.clouddn.com/在文章底部增加版权信息3.png\" alt=\"在文章底部增加版权信息3.png\"></p>\n</blockquote>\n<h3 id=\"修改文章底部的那个带-号的标签\"><a href=\"#修改文章底部的那个带-号的标签\" class=\"headerlink\" title=\"修改文章底部的那个带#号的标签\"></a>修改文章底部的那个带#号的标签</h3><ol>\n<li><p>实现效果图<br><img src=\"http://p31gihke0.bkt.clouddn.com/修改文章底部的那个带#号的标签.png\" alt=\"修改文章底部的那个带#号的标签.png\"></p>\n</li>\n<li><p>实现方法<br>修改模板<code>/themes/next/layout/_macro/post.swig</code>，搜索<code>rel=&quot;tag&quot;&gt;#</code>，将<code>#</code>换成<code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code></p>\n</li>\n</ol>\n<hr>\n<h2 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h2><h3 id=\"修改字体大小\"><a href=\"#修改字体大小\" class=\"headerlink\" title=\"修改字体大小\"></a>修改字体大小</h3><p>打开<code>\\themes\\next\\source\\css\\ _variables\\base.styl</code>文件，将<code>$font-size-base</code>改成<code>16px</code>，如下所示：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$font-size-base            =16px</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"添加评论-Valine\"><a href=\"#添加评论-Valine\" class=\"headerlink\" title=\"添加评论-Valine\"></a>添加评论-Valine</h3><p>在<a href=\"https://leancloud.cn/\" target=\"_blank\" rel=\"noopener\">leancloud 官网</a>注册账号并访问控制台随便创建一个应用，进入里面记下在<code>设置-应用KEY</code>下找到<code>appid</code>和<code>appkey</code>复制到下图位置，记得<code>enable: true</code>:<br><img src=\"http://p31gihke0.bkt.clouddn.com/添加评论-Valine.png\" alt=\"添加评论-Valine.png\"></p>\n<h3 id=\"修改打赏字体不闪动\"><a href=\"#修改打赏字体不闪动\" class=\"headerlink\" title=\"修改打赏字体不闪动\"></a>修改打赏字体不闪动</h3><p>修改文件<code>next/source/css/_common/components/post/post-reward.styl</code>，然后注释其中的函数<code>wechat:hover</code>和<code>alipay:hover</code>，如下：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 注释文字闪动函数</span></span><br><span class=\"line\"><span class=\"comment\"> #wechat:hover p&#123;</span></span><br><span class=\"line\"><span class=\"comment\">    animation: roll 0.1s infinite linear;</span></span><br><span class=\"line\"><span class=\"comment\">    -webkit-animation: roll 0.1s infinite linear;</span></span><br><span class=\"line\"><span class=\"comment\">    -moz-animation: roll 0.1s infinite linear;</span></span><br><span class=\"line\"><span class=\"comment\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> #alipay:hover p&#123;</span></span><br><span class=\"line\"><span class=\"comment\">   animation: roll 0.1s infinite linear;</span></span><br><span class=\"line\"><span class=\"comment\">    -webkit-animation: roll 0.1s infinite linear;</span></span><br><span class=\"line\"><span class=\"comment\">    -moz-animation: roll 0.1s infinite linear;</span></span><br><span class=\"line\"><span class=\"comment\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"侧边栏推荐阅读\"><a href=\"#侧边栏推荐阅读\" class=\"headerlink\" title=\"侧边栏推荐阅读\"></a>侧边栏推荐阅读</h3><p>打开主题配置文件修改成这样就行了(links里面写你想要的链接):<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Blogrolls</span><br><span class=\"line\">links_title: 推荐阅读</span><br><span class=\"line\">#links_layout: block</span><br><span class=\"line\">links_layout: <span class=\"keyword\">inline</span></span><br><span class=\"line\">links:</span><br><span class=\"line\">  优设: http:<span class=\"comment\">//www.uisdc.com/</span></span><br><span class=\"line\">  张鑫旭: http:<span class=\"comment\">//www.zhangxinxu.com/</span></span><br><span class=\"line\">  Web前端导航: http:<span class=\"comment\">//www.alloyteam.com/nav/</span></span><br><span class=\"line\">  前端书籍资料: http:<span class=\"comment\">//www.36zhen.com/t?id=3448</span></span><br><span class=\"line\">  百度前端技术学院: http:<span class=\"comment\">//ife.baidu.com/</span></span><br><span class=\"line\">  google前端开发基础: http:<span class=\"comment\">//wf.uisdc.com/cn/</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"致谢\"><a href=\"#致谢\" class=\"headerlink\" title=\"致谢\"></a>致谢</h2><p>有一些博主非常无私，不断为Hexo 添加着各种功能，官方也在不断地整合这些资源，不断推出新功能，让我们这些前端小白们也能简单的美化自己的小屋，虽然折腾了很久，但确实感到成就满满，这里表达由衷的感谢！<br>在写这篇文章的时候我又发现了好多有趣的设置，如本文左下角的微信订阅、一键回顶部、分享功能等等，还有好多好多功能，待我日后慢慢道来！</p>\n<blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><ul>\n<li><a href=\"http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html\" target=\"_blank\" rel=\"noopener\">Moorez:hexo的next主题个性化教程:打造炫酷网站</a></li>\n<li><a href=\"https://hexo.io/zh-cn/docs/index.html\" target=\"_blank\" rel=\"noopener\">Hexo 官方文档</a></li>\n<li><a href=\"http://theme-next.iissnan.com/getting-started.html\" target=\"_blank\" rel=\"noopener\">Next 官方文档</a></li>\n</ul>\n</blockquote>\n<p>未完待续…………</p>"},{"title":"博客文章写作样式","date":"2018-01-26T16:51:29.000Z","copyright":true,"mathjax":true,"_content":"\n<center><i>学习了新知识，疏于记录便会淡忘，要用到时方悔当初；<br>纸本与现有平台有其局限性，对于技术文档的展示有颇多限制，个人博客不失为一个好的选择——源于记录，善于书页。</i></center>\n\n<br>![书页.jpg](http://p31gihke0.bkt.clouddn.com/书页.jpg)\n<!--more-->\n\n<!--网易云音乐链接-->\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=320 src=\"//music.163.com/outchain/player?type=0&id=2058497430&auto=0&height=430\"></iframe>\n\n\n## 使用文章模板\n### 创建新文章\n```bash\n$ hexo new [layout] <title>\n```\n有关创建新文章的命令以及默认文件名等说明在[官方文档](https://hexo.io/docs/writing.html)里说的已经很清楚了，在此不再赘述。\n\n### 文章模板文件\n#### Front-matter\n关于文件最上方的参数，参见 Hexo 官方文档的 [Front-matter](https://hexo.io/docs/front-matter.html) 和 [页面变量](https://hexo.io/zh-cn/docs/variables.html#%E9%A1%B5%E9%9D%A2%E5%8F%98%E9%87%8F)，以下是本人常用的 ：\n```\n/* ！！！！！！！！！！\n** 每一项的 : 后面均有一个空格\n** 且 : 为英文符号\n** ！！！！！！！！！！\n*/\n\ntitle:\n/* 文章标题，可以为中文 */\n\ndate:\n/* 建立日期，如果自己手动添加，请按固定格式\n** 就算不写，页面每篇文章顶部的发表于……也能显示\n** 只要在主题配置文件中，配置了 created_at 就行\n** 那为什么还要自己加上？\n** 自定义文章发布的时间\n*/\n\nupdated:\n/* 更新日期，其它与上面的建立日期类似\n** 不过在页面每篇文章顶部，是更新于……\n** 在主题配置文件中，是 updated_at\n*/\n\ncategories:\n/* 分类，支持多级，比如：\n- technology\n- computer\n- computer-aided-art\n则为technology/computer/computer-aided-art\n（不适用于 layout: page）\n*/\n\ntags:\n/* 标签\n** 多个可以这样写[标签1,标签2,标签3]\n** （不适用于 layout: page）\n*/\n\ndescription:\n/* 文章的描述，在每篇文章标题下方显示\n** 并且作为网页的 description 元数据\n** 如果不写，则自动取 <!-- more -->\n** 之前的文字作为网页的 description 元数据\n*/\n\nkeywords:\n/* 关键字，并且作为网页的 keywords 元数据\n** 如果不写，则自动取 tags 里的项\n** 作为网页的 keywords 元数据\n*/\n\ncomments:\n/* 是否开启评论\n** 默认值是 true\n** 要关闭写 false\n*/\n\nlayout:\n/* 页面布局，默认值是 post，默认值可以在\n** 站点配置文件中修改 default_layout\n** 另：404 页面可能用到，将其值改为 false\n*/\n\nsticky:\n/* 文章置顶\n** 此项只有参考教程配置好，否则请勿添加！\n*/\n\npassword:\n/* 文章密码，此项只有参考教程：\n** http://shenzekun.cn/hexo的next主题个性化配置教程.html\n** 第 24 节，配置好，否则请勿添加！\n** 发现还是有 bug 的，就是右键在新标签中打开\n** 然后无论是否输入密码，都能看到内容\n*/\n```\n\n#### 我的模板文件\n```md 文件位置：~/blog/scaffolds/post.md\n---\ntitle: {{ title }}\ndate: {{ date }}\ncategories: \ntags: \ncopyright: \npassword: \n---\n\n<center>**</center>\n\n<br>![](http://p31gihke0.bkt.clouddn.com/)\n<!--more-->\n## \n\n------\n\n## \n\n------\n\n##\n\n------\n\n## 致谢\n\n\n> ### 参考文章\n> * []()\n```\n\n1. `<!--more-->`以上属于文章的摘要（封面），会在主页显示出来，可以看到本人文章的封面一般是一段居中倾斜文字配上一张图。\n2. 文章内标题请从二级标题（##）开始！\n<div class=\"note warning no-icon\"><p>Ps：此处虽然给了模板，但其实博客的写作很随性的，你可以自主搭配样式，怎么舒服怎么来，下面就来介绍一下该怎样写一篇博文以及如何增添样式来使文章逻辑分明，便于阅读与理解。（宝宝们放心，看懂了后写起来比Word省心多了）</p></div>\n\n------\n\n## 使用 Markdown\nMarkdown 是一种方便记忆、书写的纯文本标记语言，用户可以使用这些标记符号以最小的输入代价生成极富表现力的文档：它使用简单的符号标记不同的标题，分割不同的段落，**粗体** 或者 *斜体* 某些文字，我们可以使用它：\n\n> * 整理知识，学习笔记\n> * 发布日记，杂文，所见所想\n> * 撰写发布技术文稿（代码支持）\n> * 撰写发布学术论文（LaTeX 公式支持）\n\n它的优点在于：\n\n> * 专注你的文字内容而不是排版样式\n> * 可读，直观。适合所有人的写作语言\n> * 轻松的导出 HTML、PDF 和本身的 .md 文件\n> * 纯文本内容，兼容所有的文本编辑器与字处理软件\n\n### GFM 简明语法\n网络上关于Markdown的语法说明有很多，大家可以去网上随便找一篇读一读了解个大概。在不同平台上也衍生出了多样化的独具特色的Markdown语法，它们大同小异但也确实各有不同，下面的这篇文章简单介绍了Hexo下使用的MarkDown——Github的GFM的基本语法与标准：\n\n[HEXO下的Markdown语法(GFM)写博客](http://suo.im/2Ch7H3)\n\n### Markdown 高级语法\n能用Markdown 做的事情还有很多，列表、代码块、图表这些都不是问题：\n\n* 制作一份待办事宜 [Todo 列表]\n\n- [ ] 支持以 PDF 格式导出文稿\n- [ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率\n- [x] 新增 Todo 列表功能\n- [x] 修复 LaTex 公式渲染问题\n- [x] 新增 LaTex 公式编号功能\n\n* 高亮一段代码\n```python Python 源码展示\n@requires_authorization\nclass SomeClass:\n    pass\n\nif __name__ == '__main__':\n    # A comment\n    print 'hello world'\n```\n\n* 绘制表格\n\n| 项目        | 价格   |  数量  |\n| --------   | -----:  | :----:  |\n| 计算机     | \\$1600 |   5     |\n| 手机        |   \\$12   |   12   |\n| 管线        |    \\$1    |  234  |\n<div class=\"note info\"><p>更多更详细的Markdown语法使用教程见：\n[Cmd Markdown 语法手册](http://suo.im/3Q8rcF)</p></div>\n\n### 与其他语言相兼容\n在 Markdown 书写的过程中，不仅可以使用简明的 Markdown 语法，还可以通过使用 LaTex 语法来书写数学公式，使用HTML 语法来调整布局与颜色等。但是本人在实践中发现，GFM 对 HTML 语法的兼容性非常好，因为最终它就是转为 html 格式发布的，但是对于 LaTex 语法的书写发布渲染有时会出现一些奇怪的问题，建议如果写学术文章还是选择更加合适的 Markdown 平台，毕竟 GFM 在此只是用来写博客的。\n\n#### LaTex 语法\n在`Markdown`语体下使用`LaTex`语法一般来将目的很单纯，就是美化数学公式的书写，主要有两种用法。\n\n* 行内公式书写\n```c LaTex 源码展示-行内公式\n$E=mc^2$\n```\n质能守恒方程可以用一个很简洁的方程式 $E=mc^2$ 来表达。\n\n* 行间公式书写：\n```c LaTex 源码展示-行间公式\n$$\\sum_{i=1}^n a_i=0$$\n\n$$f(x_1,x_x,\\ldots,x_n) = x_1^2 + x_2^2 + \\cdots + x_n^2 $$\n```\n\n$$\\sum_{i=1}^n a_i=0$$\n\n$$f(x_1,x_x,\\ldots,x_n) = x_1^2 + x_2^2 + \\cdots + x_n^2 $$\n<div class=\"note success\"><p>什么？不熟悉 LaTex 语法，不用害怕，试试这个<br>[在线LaTex公式编辑器](http://www.codecogs.com/latex/eqneditor.php)</p></div>\n\n#### HTML 与 CSS 语法\n熟悉语法的同志们可以尽情发挥，如果你不熟悉也没关系，记住以下这几种常用的也够用了。\n\n* 分隔线和空行\n```html\n/* 分隔线 */\n<hr />\n/* 注意事项 6：在XHTML 中，<hr> 必须被正确地关闭，比如 <hr /> */\n/* 空行 */\n<br />\n/* 注意事项同上 */\n```\n\n* 居中和对齐方式\n```html\n/* 居中 */\n<center>内容</center>\n/* 右对齐 */\n<div style=\"text-align:right\">内容</div>\n```\n\n* 字体大小和颜色\n```html\n<font color=\"#xxxxxx\" size=\"number\">内容</font>\n/* 详细请查看 http://www.w3school.com.cn/tags/tag_font.asp */\n```\n\n<center><font color=\"red\" size=\"number\">例：我是居中的小红</font></center>\n\n------\n\n## 插入音乐和视频\n### 音乐\n可以直接用 HTML 的标签，写法如下：\n```html 嵌入歌曲标签\n<audio src=\"https://什么什么什么.mp3\" style=\"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;\" controls=\"controls\" loop=\"loop\" preload=\"meta\">Your browser does not support the audio tag.</audio>\n```\n\n如果想直接用已有平台上的歌，事情也很好办，可以将歌曲外链嵌入页面，以云村为例：\n打开[网易云音乐](https://music.163.com/)找到自己喜欢的音乐或个点，点击生成外链：\n![网易云音乐](http://p31gihke0.bkt.clouddn.com/网易云音乐.png)\n然后根据自己的需要，加在`blog/theme/next/layout/_layout.swig`中或`blog/theme/next/layout/_macro/sidebar.swig`中，当然也可以直接放在文章中，比如用以下外链生成的效果见本文顶部。\n```html 代码清单-云村歌单外链\n<!--网易云音乐链接-->\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=320 src=\"//music.163.com/outchain/player?type=0&id=2058497430&auto=0&height=430\"></iframe>\n```\n\n如果你还想要加上歌词就需要安装一个插件`Aplayer`，在[这篇文章](http://suo.im/2sHCA0)里有详细说明。由于我没有这种需求就不再赘述了。\n\n\n\n### 视频\n一样的，可以直接用 HTML 的标签，写法如下：\n```html\n<video poster=\"https://封面图.jpg\" src=\"https://什么什么什么.mp4\" style=\"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;\" controls=\"controls\" loop=\"loop\" preload=\"meta\">Your browser does not support the video tag.</video>\n```\n\n当然还可以用插件完成更多的功能，上面那篇文章里也有介绍，想更进一步的可以去看看。\n\n------\n\n## 使用写作样式\n适当的使用下面的写作样式可以使文章的可读性增强，但读者不要为了追求华丽而使用过多的样式，那样反而会适得其反，博主认为使用样式应该本着`少即是多、重点突出、一图胜千言`的思想去使用，致力于增加文章的可读性。毕竟，`着重于内容的写作，让思想更好得展现`是我们最初的也是最终的愿望。这和我们用 Markdown 写文章是一样的道理，用 Markdown 而不是直接写 HTML 代码，就是为了将更多时间花在文字上。\n\n### 主题自带样式\n#### FontAwesome\n自己配置过主题的博主们对[FontAwesome](http://fontawesome.io/icons/)这个网站应该都不会陌生，此网站类似于一个图标库，我们可以通过直接在文章中使用 html 和 css 代码来调用网站上的图标，下面给出一些简单的使用例子：\n\n```html 调用图表示例代码\n<i class=\"fa fa-apple\"></i>   来个小苹果\n<i class=\"fa fa-apple fa-2x\"></i>   变大的苹果\n<i class=\"fa fa-apple fa-spin fa-2x fa-fw\"></i>   会转的苹果\n```\n<i class=\"fa fa-apple\"></i>   来个小苹果\n<i class=\"fa fa-apple fa-2x\"></i>   变大的苹果\n<i class=\"fa fa-apple fa-spin fa-2x fa-fw\"></i>   会转的苹果\n<div class=\"note info\"><p>更多有趣调用请查看官网的[使用示例](http://fontawesome.io/examples/)</p></div>\n\n#### 代码块高亮\n````\n​```language title url link-text\n你的代码\n​```\n````\n* language：代码语言的名称，用来设置代码块颜色高亮，非必须；\n* title：顶部左边的说明，非必须；\n* url：顶部右边的超链接地址，非必须；\n* link-text：超链接的名称，非必须。\n\n这 4 项应该是根据空格来分隔，如果你想写后面两个，但不想写前面两个，那么就必须加[]了，要这样写：`[] [] [url] [link text]`。\n\n代码块高亮的模式可以在`主题配置文件`中设置：\n```js 文件位置：~/blog/themes/next/_config.yml\n# Code Highlight theme\n# Available value:\n#    normal | night | night eighties | night blue | night bright\n# https://github.com/chriskempson/tomorrow-theme\nhighlight_theme: normal\n```\n要颜色正确高亮，可以在`站点配置文件`中设置自动高亮：\n```diff 文件位置：~/blog/_config.yml\nhighlight:\n  enable: true\n  line_number: true\n# 代码自动高亮\n-  auto_detect: false\n+  auto_detect: true\n```\n红色`-`和绿色`+`的样式也是一种语言，叫diff，所以你只需在 [language] 写`diff`，然后在相应代码前面加上`-`和`+`就行了。不过默认的`-`是绿色，`+`是红色，与 Github 上相反，你可以自己更改，此处本人使用了博主[reuixiy](https://reuixiy.github.io/)的设置：\n```c 文件位置：~/blog/themes/next/source/css/_custom/custom.styl\n// 文章```代码块diff样式\npre .addition {\n    background: #e6ffed;\n}\npre .deletion {\n    background: #ffeef0;\n}\n\n// 文章```代码块顶部样式\n.highlight figcaption {\n    margin: 0em;\n    padding: 0.5em;\n    background: #eee;\n    border-bottom: 1px solid #e9e9e9;\n}\n.highlight figcaption a {\n    color: rgb(80, 115, 184);\n}\n```\n.\n<div class=\"note info\"><p>关于代码块高亮的高级个性化，可以看 zhuzhuxia 的博文:\n[HEXO下的语法高亮拓展修改](http://suo.im/qRryw)</p></div>\n\n\n#### 标签的使用\n「[标签](http://theme-next.iissnan.com/tag-plugins.html)」(Tag Plugin) 是 Hexo 提供的一种快速生成特定内容的方式。 例如，在标准 Markdown 语法中，Hexo 无法指定图片的大小。这种情景即可使用标签来解决。 Hexo 内置来许多标签来帮助写作者可以更快的书写， [完整的标签列表](https://hexo.io/docs/tag-plugins.html) 可以参考 Hexo 官网。 另外，Hexo 也开放来接口给主题，使主题有可能提供给写作者更简便的写作方法。  \n```html 示例1 -文本居中标签使用\n<!-- HTML方式: 直接在 Markdown 文件中编写 HTML 来调用 -->\n<!-- 其中 class=\"blockquote-center\" 是必须的 -->\n<blockquote class=\"blockquote-center\">blah blah blah</blockquote>\n\n<!-- 标签 方式，要求版本在0.4.5或以上 -->\n{% centerquote %}blah blah blah{% endcenterquote %}\n\n<!-- 标签别名 -->\n{% cq %} blah blah blah {% endcq %}\n```\n{% cq %}Every interaction is both precious and an opportunity to delight.{% endcq %}\n\n```html 示例2 -书中名言引用标签\n{% blockquote David Levithan, Wide Awake %}\nDo not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.\n{% endblockquote %}\n```\n效果示例：\n{% blockquote David Levithan, Wide Awake %}\nDo not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.\n{% endblockquote %}\n\n\n#### note 标签\n要使用此标签首先要在`主题配置文件`中修改以下配置：\n```js 文件位置：~/blog/themes/next/_config.yml\n# Note tag (bs-callout).\nnote:\n  # 风格\n  style: flat\n  # 要不要图标\n  icons: true\n  # 圆角矩形\n  border_radius: 3\n  light_bg_offset: 0\n```\n下面展示 note 标签的使用，这些标签本文在上文已多次使用：\n```html\n<div class=\"note info\"><p>info</p></div>\n```\n<div class=\"note info\"><p>info</p></div>\n\n```html\n<div class=\"note info no-icon\"><p>关于 note 标签的更多形式可以查看[这个页面](https://github.com/iissnan/hexo-theme-next/pull/1697)，介绍多多，自行选用</p></div>\n```\n<div class=\"note info no-icon\"><p>关于 note 标签的更多形式可以查看[这个页面](https://github.com/iissnan/hexo-theme-next/pull/1697)，介绍多多，自行选用</p></div>\n\n\n#### label 标签\n首先在`主题配置文件`中修改配置如下：\n```diff 文件位置：~/blog/themes/next/_config.yml\n# Label tag.\n- label: false\n+ label: true\n```\n效果如下（@ 前面的是`label`的名字，后面的是要显示的文字）：\n{% label default@default %}\n```\n{% label default@default %}\n```\n{% label primary@primary %}\n```\n{% label primary@primary %}\n```\n{% label success@success %}\n```\n{% label success@success %}\n```\n{% label info@info %}\n```\n{% label info@info %}\n```\n{% label warning@warning %}\n```\n{% label warning@warning %}\n```\n{% label danger@danger %}\n```\n{% label danger@danger %}\n```\n<br>\n<div class=\"note warning\"><p>目前此标签有个 bug，如果把它加在一段文字的段首，则会有点问题，详见 [issue](https://github.com/iissnan/hexo-theme-next/issues/2022) 页面。</p></div>\n\n\n#### tabs 标签\n老规矩，先改`主题配置文件`：\n```js 文件位置：~/blog/themes/next/_config.yml\n# Tabs tag.\ntabs:\n  enable: true\n  transition:\n    tabs: true\n    labels: true\n  border_radius: 0\n```\n先来个小示例：\n```html tans 标签示例\n{% tabs First unique name %}\n<!-- tab 我是孙行者-->\n**我是真的！**\n<!-- endtab -->\n<!-- tab 吾乃者行孙-->\n**我才是真的！**\n<!-- endtab -->\n<!-- tab 行者孙是也-->\n**我真的是真的！**\n<!-- endtab -->\n{% endtabs %}\n```\n{% tabs First unique name %}\n<!-- tab 我是孙行者-->\n**我是真的！**\n<!-- endtab -->\n<!-- tab 吾乃者行孙-->\n**我才是真的！**\n<!-- endtab -->\n<!-- tab 行者孙是也-->\n**我真的是真的！**\n<!-- endtab -->\n{% endtabs %}\n<div class=\"note info\"><p>这个选项卡其实妙用无穷，下面这篇文章对此有诸多说明，推荐一看：\n[Hexo Theme Next Test](https://almostover.ru/2016-01/hexo-theme-next-test/)</p></div>\n\n\n#### 按钮\n```html 按钮示例源码\n{% btn https://www.baidu.com, 点击下载百度, download fa-lg fa-fw %}\n```\n效果：{% btn https://www.baidu.com, 点击下载百度, download fa-lg fa-fw %}\n\n关于按钮的更多使用也可以前往上面说到的[这篇文章](https://almostover.ru/2016-01/hexo-theme-next-test/)里去查看。\n\n### 自定义样式\n如果你曾经像我一样跟随那些大佬博主们折腾过自己的博客主题，那么你一定明白所谓自定义样式，就是将 CSS 代码加到`custom.styl`中，如果你和我一样对这方面一窍不通可以在[这里](http://www.divcss5.com/rumen/r3.shtml)了解了解 CSS 中id和class的知识。\n\n由于这方面我并不太了解就不多说什么了，推荐大家去看一个很少女心的博主{% label primary@千灵夙赋 %}的这篇文章：[外部样式表汇总](https://qianling.pw/style/#TOC%E6%95%B0%E5%AD%97%E5%9D%97)\n\n\n\n## 致谢\n刚建博客的前两天，看了好多博主的博客，感叹各位博主的创造力与审美，同时也偷偷模仿了几位博主的博客样式，虽说学的有些不伦不类，不过大概也不会有大的改动了，毕竟建博客的初衷是为了记录，版式的设计为的是营造舒心方便的创作环境。\n\n接下来就要认真考虑写什么、怎么写的问题，于是就有了本篇博文的诞生，由于以前有使用 Rmarkdown 的经历，所以学起来倒也省了许多气力，目前来看上面的写作样式已经足以让我尽情展现了，在此特别感谢无私整合资源的各位博主们，接下来的日子里就是真正输出内容的时候了，会涉及R和Python的学习心得以及自己做的数据报告，还会有Kaggle的大神代码解析或其他的一些有的没的，要不要考虑加个书单页和观影页嗯？\n总之，明天又是美好的一天，加油！\n\n> ### 参考文章\n> * [外部样式表汇总](https://qianling.pw/style/#TOC%E6%95%B0%E5%AD%97%E5%9D%97)\n> * [Hexo Theme Next Test](https://almostover.ru/2016-01/hexo-theme-next-test/)\n> * [Markdown - 简单的世界](http://suo.im/1sH1k7)\n> * [Cmd Markdown 语法手册](http://suo.im/3Q8rcF)\n> * [HEXO下的语法高亮拓展修改](http://suo.im/qRryw)\n> * [CSS中的class与id区别及用法](http://www.divcss5.com/rumen/r3.shtml)\n> * [HEXO下的Markdown语法(GFM)写博客](http://suo.im/2Ch7H3)\n> * [打造个性超赞博客Hexo+NexT+GithubPages的超深度优化](http://suo.im/2sHCA0)","source":"_posts/2018-01-27-博客文章写作样式.md","raw":"---\ntitle: 博客文章写作样式\ndate: 2018-01-27 00:51:29\ncategories: 排版\ntags: \n    - Markdown\n    - Hexo\ncopyright: true\nmathjax: true\n---\n\n<center><i>学习了新知识，疏于记录便会淡忘，要用到时方悔当初；<br>纸本与现有平台有其局限性，对于技术文档的展示有颇多限制，个人博客不失为一个好的选择——源于记录，善于书页。</i></center>\n\n<br>![书页.jpg](http://p31gihke0.bkt.clouddn.com/书页.jpg)\n<!--more-->\n\n<!--网易云音乐链接-->\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=320 src=\"//music.163.com/outchain/player?type=0&id=2058497430&auto=0&height=430\"></iframe>\n\n\n## 使用文章模板\n### 创建新文章\n```bash\n$ hexo new [layout] <title>\n```\n有关创建新文章的命令以及默认文件名等说明在[官方文档](https://hexo.io/docs/writing.html)里说的已经很清楚了，在此不再赘述。\n\n### 文章模板文件\n#### Front-matter\n关于文件最上方的参数，参见 Hexo 官方文档的 [Front-matter](https://hexo.io/docs/front-matter.html) 和 [页面变量](https://hexo.io/zh-cn/docs/variables.html#%E9%A1%B5%E9%9D%A2%E5%8F%98%E9%87%8F)，以下是本人常用的 ：\n```\n/* ！！！！！！！！！！\n** 每一项的 : 后面均有一个空格\n** 且 : 为英文符号\n** ！！！！！！！！！！\n*/\n\ntitle:\n/* 文章标题，可以为中文 */\n\ndate:\n/* 建立日期，如果自己手动添加，请按固定格式\n** 就算不写，页面每篇文章顶部的发表于……也能显示\n** 只要在主题配置文件中，配置了 created_at 就行\n** 那为什么还要自己加上？\n** 自定义文章发布的时间\n*/\n\nupdated:\n/* 更新日期，其它与上面的建立日期类似\n** 不过在页面每篇文章顶部，是更新于……\n** 在主题配置文件中，是 updated_at\n*/\n\ncategories:\n/* 分类，支持多级，比如：\n- technology\n- computer\n- computer-aided-art\n则为technology/computer/computer-aided-art\n（不适用于 layout: page）\n*/\n\ntags:\n/* 标签\n** 多个可以这样写[标签1,标签2,标签3]\n** （不适用于 layout: page）\n*/\n\ndescription:\n/* 文章的描述，在每篇文章标题下方显示\n** 并且作为网页的 description 元数据\n** 如果不写，则自动取 <!-- more -->\n** 之前的文字作为网页的 description 元数据\n*/\n\nkeywords:\n/* 关键字，并且作为网页的 keywords 元数据\n** 如果不写，则自动取 tags 里的项\n** 作为网页的 keywords 元数据\n*/\n\ncomments:\n/* 是否开启评论\n** 默认值是 true\n** 要关闭写 false\n*/\n\nlayout:\n/* 页面布局，默认值是 post，默认值可以在\n** 站点配置文件中修改 default_layout\n** 另：404 页面可能用到，将其值改为 false\n*/\n\nsticky:\n/* 文章置顶\n** 此项只有参考教程配置好，否则请勿添加！\n*/\n\npassword:\n/* 文章密码，此项只有参考教程：\n** http://shenzekun.cn/hexo的next主题个性化配置教程.html\n** 第 24 节，配置好，否则请勿添加！\n** 发现还是有 bug 的，就是右键在新标签中打开\n** 然后无论是否输入密码，都能看到内容\n*/\n```\n\n#### 我的模板文件\n```md 文件位置：~/blog/scaffolds/post.md\n---\ntitle: {{ title }}\ndate: {{ date }}\ncategories: \ntags: \ncopyright: \npassword: \n---\n\n<center>**</center>\n\n<br>![](http://p31gihke0.bkt.clouddn.com/)\n<!--more-->\n## \n\n------\n\n## \n\n------\n\n##\n\n------\n\n## 致谢\n\n\n> ### 参考文章\n> * []()\n```\n\n1. `<!--more-->`以上属于文章的摘要（封面），会在主页显示出来，可以看到本人文章的封面一般是一段居中倾斜文字配上一张图。\n2. 文章内标题请从二级标题（##）开始！\n<div class=\"note warning no-icon\"><p>Ps：此处虽然给了模板，但其实博客的写作很随性的，你可以自主搭配样式，怎么舒服怎么来，下面就来介绍一下该怎样写一篇博文以及如何增添样式来使文章逻辑分明，便于阅读与理解。（宝宝们放心，看懂了后写起来比Word省心多了）</p></div>\n\n------\n\n## 使用 Markdown\nMarkdown 是一种方便记忆、书写的纯文本标记语言，用户可以使用这些标记符号以最小的输入代价生成极富表现力的文档：它使用简单的符号标记不同的标题，分割不同的段落，**粗体** 或者 *斜体* 某些文字，我们可以使用它：\n\n> * 整理知识，学习笔记\n> * 发布日记，杂文，所见所想\n> * 撰写发布技术文稿（代码支持）\n> * 撰写发布学术论文（LaTeX 公式支持）\n\n它的优点在于：\n\n> * 专注你的文字内容而不是排版样式\n> * 可读，直观。适合所有人的写作语言\n> * 轻松的导出 HTML、PDF 和本身的 .md 文件\n> * 纯文本内容，兼容所有的文本编辑器与字处理软件\n\n### GFM 简明语法\n网络上关于Markdown的语法说明有很多，大家可以去网上随便找一篇读一读了解个大概。在不同平台上也衍生出了多样化的独具特色的Markdown语法，它们大同小异但也确实各有不同，下面的这篇文章简单介绍了Hexo下使用的MarkDown——Github的GFM的基本语法与标准：\n\n[HEXO下的Markdown语法(GFM)写博客](http://suo.im/2Ch7H3)\n\n### Markdown 高级语法\n能用Markdown 做的事情还有很多，列表、代码块、图表这些都不是问题：\n\n* 制作一份待办事宜 [Todo 列表]\n\n- [ ] 支持以 PDF 格式导出文稿\n- [ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率\n- [x] 新增 Todo 列表功能\n- [x] 修复 LaTex 公式渲染问题\n- [x] 新增 LaTex 公式编号功能\n\n* 高亮一段代码\n```python Python 源码展示\n@requires_authorization\nclass SomeClass:\n    pass\n\nif __name__ == '__main__':\n    # A comment\n    print 'hello world'\n```\n\n* 绘制表格\n\n| 项目        | 价格   |  数量  |\n| --------   | -----:  | :----:  |\n| 计算机     | \\$1600 |   5     |\n| 手机        |   \\$12   |   12   |\n| 管线        |    \\$1    |  234  |\n<div class=\"note info\"><p>更多更详细的Markdown语法使用教程见：\n[Cmd Markdown 语法手册](http://suo.im/3Q8rcF)</p></div>\n\n### 与其他语言相兼容\n在 Markdown 书写的过程中，不仅可以使用简明的 Markdown 语法，还可以通过使用 LaTex 语法来书写数学公式，使用HTML 语法来调整布局与颜色等。但是本人在实践中发现，GFM 对 HTML 语法的兼容性非常好，因为最终它就是转为 html 格式发布的，但是对于 LaTex 语法的书写发布渲染有时会出现一些奇怪的问题，建议如果写学术文章还是选择更加合适的 Markdown 平台，毕竟 GFM 在此只是用来写博客的。\n\n#### LaTex 语法\n在`Markdown`语体下使用`LaTex`语法一般来将目的很单纯，就是美化数学公式的书写，主要有两种用法。\n\n* 行内公式书写\n```c LaTex 源码展示-行内公式\n$E=mc^2$\n```\n质能守恒方程可以用一个很简洁的方程式 $E=mc^2$ 来表达。\n\n* 行间公式书写：\n```c LaTex 源码展示-行间公式\n$$\\sum_{i=1}^n a_i=0$$\n\n$$f(x_1,x_x,\\ldots,x_n) = x_1^2 + x_2^2 + \\cdots + x_n^2 $$\n```\n\n$$\\sum_{i=1}^n a_i=0$$\n\n$$f(x_1,x_x,\\ldots,x_n) = x_1^2 + x_2^2 + \\cdots + x_n^2 $$\n<div class=\"note success\"><p>什么？不熟悉 LaTex 语法，不用害怕，试试这个<br>[在线LaTex公式编辑器](http://www.codecogs.com/latex/eqneditor.php)</p></div>\n\n#### HTML 与 CSS 语法\n熟悉语法的同志们可以尽情发挥，如果你不熟悉也没关系，记住以下这几种常用的也够用了。\n\n* 分隔线和空行\n```html\n/* 分隔线 */\n<hr />\n/* 注意事项 6：在XHTML 中，<hr> 必须被正确地关闭，比如 <hr /> */\n/* 空行 */\n<br />\n/* 注意事项同上 */\n```\n\n* 居中和对齐方式\n```html\n/* 居中 */\n<center>内容</center>\n/* 右对齐 */\n<div style=\"text-align:right\">内容</div>\n```\n\n* 字体大小和颜色\n```html\n<font color=\"#xxxxxx\" size=\"number\">内容</font>\n/* 详细请查看 http://www.w3school.com.cn/tags/tag_font.asp */\n```\n\n<center><font color=\"red\" size=\"number\">例：我是居中的小红</font></center>\n\n------\n\n## 插入音乐和视频\n### 音乐\n可以直接用 HTML 的标签，写法如下：\n```html 嵌入歌曲标签\n<audio src=\"https://什么什么什么.mp3\" style=\"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;\" controls=\"controls\" loop=\"loop\" preload=\"meta\">Your browser does not support the audio tag.</audio>\n```\n\n如果想直接用已有平台上的歌，事情也很好办，可以将歌曲外链嵌入页面，以云村为例：\n打开[网易云音乐](https://music.163.com/)找到自己喜欢的音乐或个点，点击生成外链：\n![网易云音乐](http://p31gihke0.bkt.clouddn.com/网易云音乐.png)\n然后根据自己的需要，加在`blog/theme/next/layout/_layout.swig`中或`blog/theme/next/layout/_macro/sidebar.swig`中，当然也可以直接放在文章中，比如用以下外链生成的效果见本文顶部。\n```html 代码清单-云村歌单外链\n<!--网易云音乐链接-->\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=320 src=\"//music.163.com/outchain/player?type=0&id=2058497430&auto=0&height=430\"></iframe>\n```\n\n如果你还想要加上歌词就需要安装一个插件`Aplayer`，在[这篇文章](http://suo.im/2sHCA0)里有详细说明。由于我没有这种需求就不再赘述了。\n\n\n\n### 视频\n一样的，可以直接用 HTML 的标签，写法如下：\n```html\n<video poster=\"https://封面图.jpg\" src=\"https://什么什么什么.mp4\" style=\"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;\" controls=\"controls\" loop=\"loop\" preload=\"meta\">Your browser does not support the video tag.</video>\n```\n\n当然还可以用插件完成更多的功能，上面那篇文章里也有介绍，想更进一步的可以去看看。\n\n------\n\n## 使用写作样式\n适当的使用下面的写作样式可以使文章的可读性增强，但读者不要为了追求华丽而使用过多的样式，那样反而会适得其反，博主认为使用样式应该本着`少即是多、重点突出、一图胜千言`的思想去使用，致力于增加文章的可读性。毕竟，`着重于内容的写作，让思想更好得展现`是我们最初的也是最终的愿望。这和我们用 Markdown 写文章是一样的道理，用 Markdown 而不是直接写 HTML 代码，就是为了将更多时间花在文字上。\n\n### 主题自带样式\n#### FontAwesome\n自己配置过主题的博主们对[FontAwesome](http://fontawesome.io/icons/)这个网站应该都不会陌生，此网站类似于一个图标库，我们可以通过直接在文章中使用 html 和 css 代码来调用网站上的图标，下面给出一些简单的使用例子：\n\n```html 调用图表示例代码\n<i class=\"fa fa-apple\"></i>   来个小苹果\n<i class=\"fa fa-apple fa-2x\"></i>   变大的苹果\n<i class=\"fa fa-apple fa-spin fa-2x fa-fw\"></i>   会转的苹果\n```\n<i class=\"fa fa-apple\"></i>   来个小苹果\n<i class=\"fa fa-apple fa-2x\"></i>   变大的苹果\n<i class=\"fa fa-apple fa-spin fa-2x fa-fw\"></i>   会转的苹果\n<div class=\"note info\"><p>更多有趣调用请查看官网的[使用示例](http://fontawesome.io/examples/)</p></div>\n\n#### 代码块高亮\n````\n​```language title url link-text\n你的代码\n​```\n````\n* language：代码语言的名称，用来设置代码块颜色高亮，非必须；\n* title：顶部左边的说明，非必须；\n* url：顶部右边的超链接地址，非必须；\n* link-text：超链接的名称，非必须。\n\n这 4 项应该是根据空格来分隔，如果你想写后面两个，但不想写前面两个，那么就必须加[]了，要这样写：`[] [] [url] [link text]`。\n\n代码块高亮的模式可以在`主题配置文件`中设置：\n```js 文件位置：~/blog/themes/next/_config.yml\n# Code Highlight theme\n# Available value:\n#    normal | night | night eighties | night blue | night bright\n# https://github.com/chriskempson/tomorrow-theme\nhighlight_theme: normal\n```\n要颜色正确高亮，可以在`站点配置文件`中设置自动高亮：\n```diff 文件位置：~/blog/_config.yml\nhighlight:\n  enable: true\n  line_number: true\n# 代码自动高亮\n-  auto_detect: false\n+  auto_detect: true\n```\n红色`-`和绿色`+`的样式也是一种语言，叫diff，所以你只需在 [language] 写`diff`，然后在相应代码前面加上`-`和`+`就行了。不过默认的`-`是绿色，`+`是红色，与 Github 上相反，你可以自己更改，此处本人使用了博主[reuixiy](https://reuixiy.github.io/)的设置：\n```c 文件位置：~/blog/themes/next/source/css/_custom/custom.styl\n// 文章```代码块diff样式\npre .addition {\n    background: #e6ffed;\n}\npre .deletion {\n    background: #ffeef0;\n}\n\n// 文章```代码块顶部样式\n.highlight figcaption {\n    margin: 0em;\n    padding: 0.5em;\n    background: #eee;\n    border-bottom: 1px solid #e9e9e9;\n}\n.highlight figcaption a {\n    color: rgb(80, 115, 184);\n}\n```\n.\n<div class=\"note info\"><p>关于代码块高亮的高级个性化，可以看 zhuzhuxia 的博文:\n[HEXO下的语法高亮拓展修改](http://suo.im/qRryw)</p></div>\n\n\n#### 标签的使用\n「[标签](http://theme-next.iissnan.com/tag-plugins.html)」(Tag Plugin) 是 Hexo 提供的一种快速生成特定内容的方式。 例如，在标准 Markdown 语法中，Hexo 无法指定图片的大小。这种情景即可使用标签来解决。 Hexo 内置来许多标签来帮助写作者可以更快的书写， [完整的标签列表](https://hexo.io/docs/tag-plugins.html) 可以参考 Hexo 官网。 另外，Hexo 也开放来接口给主题，使主题有可能提供给写作者更简便的写作方法。  \n```html 示例1 -文本居中标签使用\n<!-- HTML方式: 直接在 Markdown 文件中编写 HTML 来调用 -->\n<!-- 其中 class=\"blockquote-center\" 是必须的 -->\n<blockquote class=\"blockquote-center\">blah blah blah</blockquote>\n\n<!-- 标签 方式，要求版本在0.4.5或以上 -->\n{% centerquote %}blah blah blah{% endcenterquote %}\n\n<!-- 标签别名 -->\n{% cq %} blah blah blah {% endcq %}\n```\n{% cq %}Every interaction is both precious and an opportunity to delight.{% endcq %}\n\n```html 示例2 -书中名言引用标签\n{% blockquote David Levithan, Wide Awake %}\nDo not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.\n{% endblockquote %}\n```\n效果示例：\n{% blockquote David Levithan, Wide Awake %}\nDo not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.\n{% endblockquote %}\n\n\n#### note 标签\n要使用此标签首先要在`主题配置文件`中修改以下配置：\n```js 文件位置：~/blog/themes/next/_config.yml\n# Note tag (bs-callout).\nnote:\n  # 风格\n  style: flat\n  # 要不要图标\n  icons: true\n  # 圆角矩形\n  border_radius: 3\n  light_bg_offset: 0\n```\n下面展示 note 标签的使用，这些标签本文在上文已多次使用：\n```html\n<div class=\"note info\"><p>info</p></div>\n```\n<div class=\"note info\"><p>info</p></div>\n\n```html\n<div class=\"note info no-icon\"><p>关于 note 标签的更多形式可以查看[这个页面](https://github.com/iissnan/hexo-theme-next/pull/1697)，介绍多多，自行选用</p></div>\n```\n<div class=\"note info no-icon\"><p>关于 note 标签的更多形式可以查看[这个页面](https://github.com/iissnan/hexo-theme-next/pull/1697)，介绍多多，自行选用</p></div>\n\n\n#### label 标签\n首先在`主题配置文件`中修改配置如下：\n```diff 文件位置：~/blog/themes/next/_config.yml\n# Label tag.\n- label: false\n+ label: true\n```\n效果如下（@ 前面的是`label`的名字，后面的是要显示的文字）：\n{% label default@default %}\n```\n{% label default@default %}\n```\n{% label primary@primary %}\n```\n{% label primary@primary %}\n```\n{% label success@success %}\n```\n{% label success@success %}\n```\n{% label info@info %}\n```\n{% label info@info %}\n```\n{% label warning@warning %}\n```\n{% label warning@warning %}\n```\n{% label danger@danger %}\n```\n{% label danger@danger %}\n```\n<br>\n<div class=\"note warning\"><p>目前此标签有个 bug，如果把它加在一段文字的段首，则会有点问题，详见 [issue](https://github.com/iissnan/hexo-theme-next/issues/2022) 页面。</p></div>\n\n\n#### tabs 标签\n老规矩，先改`主题配置文件`：\n```js 文件位置：~/blog/themes/next/_config.yml\n# Tabs tag.\ntabs:\n  enable: true\n  transition:\n    tabs: true\n    labels: true\n  border_radius: 0\n```\n先来个小示例：\n```html tans 标签示例\n{% tabs First unique name %}\n<!-- tab 我是孙行者-->\n**我是真的！**\n<!-- endtab -->\n<!-- tab 吾乃者行孙-->\n**我才是真的！**\n<!-- endtab -->\n<!-- tab 行者孙是也-->\n**我真的是真的！**\n<!-- endtab -->\n{% endtabs %}\n```\n{% tabs First unique name %}\n<!-- tab 我是孙行者-->\n**我是真的！**\n<!-- endtab -->\n<!-- tab 吾乃者行孙-->\n**我才是真的！**\n<!-- endtab -->\n<!-- tab 行者孙是也-->\n**我真的是真的！**\n<!-- endtab -->\n{% endtabs %}\n<div class=\"note info\"><p>这个选项卡其实妙用无穷，下面这篇文章对此有诸多说明，推荐一看：\n[Hexo Theme Next Test](https://almostover.ru/2016-01/hexo-theme-next-test/)</p></div>\n\n\n#### 按钮\n```html 按钮示例源码\n{% btn https://www.baidu.com, 点击下载百度, download fa-lg fa-fw %}\n```\n效果：{% btn https://www.baidu.com, 点击下载百度, download fa-lg fa-fw %}\n\n关于按钮的更多使用也可以前往上面说到的[这篇文章](https://almostover.ru/2016-01/hexo-theme-next-test/)里去查看。\n\n### 自定义样式\n如果你曾经像我一样跟随那些大佬博主们折腾过自己的博客主题，那么你一定明白所谓自定义样式，就是将 CSS 代码加到`custom.styl`中，如果你和我一样对这方面一窍不通可以在[这里](http://www.divcss5.com/rumen/r3.shtml)了解了解 CSS 中id和class的知识。\n\n由于这方面我并不太了解就不多说什么了，推荐大家去看一个很少女心的博主{% label primary@千灵夙赋 %}的这篇文章：[外部样式表汇总](https://qianling.pw/style/#TOC%E6%95%B0%E5%AD%97%E5%9D%97)\n\n\n\n## 致谢\n刚建博客的前两天，看了好多博主的博客，感叹各位博主的创造力与审美，同时也偷偷模仿了几位博主的博客样式，虽说学的有些不伦不类，不过大概也不会有大的改动了，毕竟建博客的初衷是为了记录，版式的设计为的是营造舒心方便的创作环境。\n\n接下来就要认真考虑写什么、怎么写的问题，于是就有了本篇博文的诞生，由于以前有使用 Rmarkdown 的经历，所以学起来倒也省了许多气力，目前来看上面的写作样式已经足以让我尽情展现了，在此特别感谢无私整合资源的各位博主们，接下来的日子里就是真正输出内容的时候了，会涉及R和Python的学习心得以及自己做的数据报告，还会有Kaggle的大神代码解析或其他的一些有的没的，要不要考虑加个书单页和观影页嗯？\n总之，明天又是美好的一天，加油！\n\n> ### 参考文章\n> * [外部样式表汇总](https://qianling.pw/style/#TOC%E6%95%B0%E5%AD%97%E5%9D%97)\n> * [Hexo Theme Next Test](https://almostover.ru/2016-01/hexo-theme-next-test/)\n> * [Markdown - 简单的世界](http://suo.im/1sH1k7)\n> * [Cmd Markdown 语法手册](http://suo.im/3Q8rcF)\n> * [HEXO下的语法高亮拓展修改](http://suo.im/qRryw)\n> * [CSS中的class与id区别及用法](http://www.divcss5.com/rumen/r3.shtml)\n> * [HEXO下的Markdown语法(GFM)写博客](http://suo.im/2Ch7H3)\n> * [打造个性超赞博客Hexo+NexT+GithubPages的超深度优化](http://suo.im/2sHCA0)","slug":"2018-01-27-博客文章写作样式","published":1,"updated":"2018-05-23T10:32:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60iz0006jsuvvrszaeq7","content":"<center><i>学习了新知识，疏于记录便会淡忘，要用到时方悔当初；<br>纸本与现有平台有其局限性，对于技术文档的展示有颇多限制，个人博客不失为一个好的选择——源于记录，善于书页。</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/书页.jpg\" alt=\"书页.jpg\"><br><a id=\"more\"></a></p>\n<!--网易云音乐链接-->\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"320\" src=\"//music.163.com/outchain/player?type=0&id=2058497430&auto=0&height=430\"></iframe>\n\n\n<h2 id=\"使用文章模板\"><a href=\"#使用文章模板\" class=\"headerlink\" title=\"使用文章模板\"></a>使用文章模板</h2><h3 id=\"创建新文章\"><a href=\"#创建新文章\" class=\"headerlink\" title=\"创建新文章\"></a>创建新文章</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure>\n<p>有关创建新文章的命令以及默认文件名等说明在<a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">官方文档</a>里说的已经很清楚了，在此不再赘述。</p>\n<h3 id=\"文章模板文件\"><a href=\"#文章模板文件\" class=\"headerlink\" title=\"文章模板文件\"></a>文章模板文件</h3><h4 id=\"Front-matter\"><a href=\"#Front-matter\" class=\"headerlink\" title=\"Front-matter\"></a>Front-matter</h4><p>关于文件最上方的参数，参见 Hexo 官方文档的 <a href=\"https://hexo.io/docs/front-matter.html\" target=\"_blank\" rel=\"noopener\">Front-matter</a> 和 <a href=\"https://hexo.io/zh-cn/docs/variables.html#%E9%A1%B5%E9%9D%A2%E5%8F%98%E9%87%8F\" target=\"_blank\" rel=\"noopener\">页面变量</a>，以下是本人常用的 ：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/* ！！！！！！！！！！</span><br><span class=\"line\">** 每一项的 : 后面均有一个空格</span><br><span class=\"line\">** 且 : 为英文符号</span><br><span class=\"line\">** ！！！！！！！！！！</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">title:</span><br><span class=\"line\">/* 文章标题，可以为中文 */</span><br><span class=\"line\"></span><br><span class=\"line\">date:</span><br><span class=\"line\">/* 建立日期，如果自己手动添加，请按固定格式</span><br><span class=\"line\">** 就算不写，页面每篇文章顶部的发表于……也能显示</span><br><span class=\"line\">** 只要在主题配置文件中，配置了 created_at 就行</span><br><span class=\"line\">** 那为什么还要自己加上？</span><br><span class=\"line\">** 自定义文章发布的时间</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">updated:</span><br><span class=\"line\">/* 更新日期，其它与上面的建立日期类似</span><br><span class=\"line\">** 不过在页面每篇文章顶部，是更新于……</span><br><span class=\"line\">** 在主题配置文件中，是 updated_at</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">categories:</span><br><span class=\"line\">/* 分类，支持多级，比如：</span><br><span class=\"line\">- technology</span><br><span class=\"line\">- computer</span><br><span class=\"line\">- computer-aided-art</span><br><span class=\"line\">则为technology/computer/computer-aided-art</span><br><span class=\"line\">（不适用于 layout: page）</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">tags:</span><br><span class=\"line\">/* 标签</span><br><span class=\"line\">** 多个可以这样写[标签1,标签2,标签3]</span><br><span class=\"line\">** （不适用于 layout: page）</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">description:</span><br><span class=\"line\">/* 文章的描述，在每篇文章标题下方显示</span><br><span class=\"line\">** 并且作为网页的 description 元数据</span><br><span class=\"line\">** 如果不写，则自动取 &lt;!-- more --&gt;</span><br><span class=\"line\">** 之前的文字作为网页的 description 元数据</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">keywords:</span><br><span class=\"line\">/* 关键字，并且作为网页的 keywords 元数据</span><br><span class=\"line\">** 如果不写，则自动取 tags 里的项</span><br><span class=\"line\">** 作为网页的 keywords 元数据</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">comments:</span><br><span class=\"line\">/* 是否开启评论</span><br><span class=\"line\">** 默认值是 true</span><br><span class=\"line\">** 要关闭写 false</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">layout:</span><br><span class=\"line\">/* 页面布局，默认值是 post，默认值可以在</span><br><span class=\"line\">** 站点配置文件中修改 default_layout</span><br><span class=\"line\">** 另：404 页面可能用到，将其值改为 false</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">sticky:</span><br><span class=\"line\">/* 文章置顶</span><br><span class=\"line\">** 此项只有参考教程配置好，否则请勿添加！</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">password:</span><br><span class=\"line\">/* 文章密码，此项只有参考教程：</span><br><span class=\"line\">** http://shenzekun.cn/hexo的next主题个性化配置教程.html</span><br><span class=\"line\">** 第 24 节，配置好，否则请勿添加！</span><br><span class=\"line\">** 发现还是有 bug 的，就是右键在新标签中打开</span><br><span class=\"line\">** 然后无论是否输入密码，都能看到内容</span><br><span class=\"line\">*/</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"我的模板文件\"><a href=\"#我的模板文件\" class=\"headerlink\" title=\"我的模板文件\"></a>我的模板文件</h4><figure class=\"highlight md\"><figcaption><span>文件位置：~/blog/scaffolds/post.md</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: &#123;&#123; title &#125;&#125;</span><br><span class=\"line\">date: &#123;&#123; date &#125;&#125;</span><br><span class=\"line\">categories: </span><br><span class=\"line\">tags: </span><br><span class=\"line\">copyright: </span><br><span class=\"line\">password: </span><br><span class=\"line\">---</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;center&gt;**&lt;/center&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;br&gt;![](http://p31gihke0.bkt.clouddn.com/)</span><br><span class=\"line\">&lt;!--more--&gt;</span><br><span class=\"line\"><span class=\"section\">## </span></span><br><span class=\"line\"></span><br><span class=\"line\">------</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">## </span></span><br><span class=\"line\"></span><br><span class=\"line\">------</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">##</span></span><br><span class=\"line\"></span><br><span class=\"line\">------</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">## 致谢</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"quote\">&gt; ### 参考文章</span></span><br><span class=\"line\"><span class=\"quote\">&gt; * []()</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>&lt;!--more--&gt;</code>以上属于文章的摘要（封面），会在主页显示出来，可以看到本人文章的封面一般是一段居中倾斜文字配上一张图。</li>\n<li>文章内标题请从二级标题（##）开始！<div class=\"note warning no-icon\"><p>Ps：此处虽然给了模板，但其实博客的写作很随性的，你可以自主搭配样式，怎么舒服怎么来，下面就来介绍一下该怎样写一篇博文以及如何增添样式来使文章逻辑分明，便于阅读与理解。（宝宝们放心，看懂了后写起来比Word省心多了）</p></div>\n\n</li>\n</ol>\n<hr>\n<h2 id=\"使用-Markdown\"><a href=\"#使用-Markdown\" class=\"headerlink\" title=\"使用 Markdown\"></a>使用 Markdown</h2><p>Markdown 是一种方便记忆、书写的纯文本标记语言，用户可以使用这些标记符号以最小的输入代价生成极富表现力的文档：它使用简单的符号标记不同的标题，分割不同的段落，<strong>粗体</strong> 或者 <em>斜体</em> 某些文字，我们可以使用它：</p>\n<blockquote>\n<ul>\n<li>整理知识，学习笔记</li>\n<li>发布日记，杂文，所见所想</li>\n<li>撰写发布技术文稿（代码支持）</li>\n<li>撰写发布学术论文（LaTeX 公式支持）</li>\n</ul>\n</blockquote>\n<p>它的优点在于：</p>\n<blockquote>\n<ul>\n<li>专注你的文字内容而不是排版样式</li>\n<li>可读，直观。适合所有人的写作语言</li>\n<li>轻松的导出 HTML、PDF 和本身的 .md 文件</li>\n<li>纯文本内容，兼容所有的文本编辑器与字处理软件</li>\n</ul>\n</blockquote>\n<h3 id=\"GFM-简明语法\"><a href=\"#GFM-简明语法\" class=\"headerlink\" title=\"GFM 简明语法\"></a>GFM 简明语法</h3><p>网络上关于Markdown的语法说明有很多，大家可以去网上随便找一篇读一读了解个大概。在不同平台上也衍生出了多样化的独具特色的Markdown语法，它们大同小异但也确实各有不同，下面的这篇文章简单介绍了Hexo下使用的MarkDown——Github的GFM的基本语法与标准：</p>\n<p><a href=\"http://suo.im/2Ch7H3\" target=\"_blank\" rel=\"noopener\">HEXO下的Markdown语法(GFM)写博客</a></p>\n<h3 id=\"Markdown-高级语法\"><a href=\"#Markdown-高级语法\" class=\"headerlink\" title=\"Markdown 高级语法\"></a>Markdown 高级语法</h3><p>能用Markdown 做的事情还有很多，列表、代码块、图表这些都不是问题：</p>\n<ul>\n<li>制作一份待办事宜 [Todo 列表]</li>\n</ul>\n<ul>\n<li>[ ] 支持以 PDF 格式导出文稿</li>\n<li>[ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率</li>\n<li>[x] 新增 Todo 列表功能</li>\n<li>[x] 修复 LaTex 公式渲染问题</li>\n<li>[x] 新增 LaTex 公式编号功能</li>\n</ul>\n<ul>\n<li><p>高亮一段代码</p>\n<figure class=\"highlight python\"><figcaption><span>Python 源码展示</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@requires_authorization</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SomeClass</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    <span class=\"comment\"># A comment</span></span><br><span class=\"line\">    <span class=\"keyword\">print</span> <span class=\"string\">'hello world'</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>绘制表格</p>\n</li>\n</ul>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>项目</th>\n<th style=\"text-align:right\">价格</th>\n<th style=\"text-align:center\">数量</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>计算机</td>\n<td style=\"text-align:right\">\\$1600</td>\n<td style=\"text-align:center\">5</td>\n</tr>\n<tr>\n<td>手机</td>\n<td style=\"text-align:right\">\\$12</td>\n<td style=\"text-align:center\">12</td>\n</tr>\n<tr>\n<td>管线</td>\n<td style=\"text-align:right\">\\$1</td>\n<td style=\"text-align:center\">234</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"note info\"><p>更多更详细的Markdown语法使用教程见：\n[Cmd Markdown 语法手册](http://suo.im/3Q8rcF)</p></div>\n\n<h3 id=\"与其他语言相兼容\"><a href=\"#与其他语言相兼容\" class=\"headerlink\" title=\"与其他语言相兼容\"></a>与其他语言相兼容</h3><p>在 Markdown 书写的过程中，不仅可以使用简明的 Markdown 语法，还可以通过使用 LaTex 语法来书写数学公式，使用HTML 语法来调整布局与颜色等。但是本人在实践中发现，GFM 对 HTML 语法的兼容性非常好，因为最终它就是转为 html 格式发布的，但是对于 LaTex 语法的书写发布渲染有时会出现一些奇怪的问题，建议如果写学术文章还是选择更加合适的 Markdown 平台，毕竟 GFM 在此只是用来写博客的。</p>\n<h4 id=\"LaTex-语法\"><a href=\"#LaTex-语法\" class=\"headerlink\" title=\"LaTex 语法\"></a>LaTex 语法</h4><p>在<code>Markdown</code>语体下使用<code>LaTex</code>语法一般来将目的很单纯，就是美化数学公式的书写，主要有两种用法。</p>\n<ul>\n<li>行内公式书写<figure class=\"highlight c\"><figcaption><span>LaTex 源码展示-行内公式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$E=mc^<span class=\"number\">2</span>$</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>质能守恒方程可以用一个很简洁的方程式 $E=mc^2$ 来表达。</p>\n<ul>\n<li>行间公式书写：<figure class=\"highlight c\"><figcaption><span>LaTex 源码展示-行间公式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$$\\sum_&#123;i=<span class=\"number\">1</span>&#125;^n a_i=<span class=\"number\">0</span>$$</span><br><span class=\"line\"></span><br><span class=\"line\">$$f(x_1,x_x,\\ldots,x_n) = x_1^<span class=\"number\">2</span> + x_2^<span class=\"number\">2</span> + \\cdots + x_n^<span class=\"number\">2</span> $$</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"math/tex; mode=display\">\\sum_{i=1}^n a_i=0</script><script type=\"math/tex; mode=display\">f(x_1,x_x,\\ldots,x_n) = x_1^2 + x_2^2 + \\cdots + x_n^2</script><div class=\"note success\"><p>什么？不熟悉 LaTex 语法，不用害怕，试试这个<br>[在线LaTex公式编辑器](http://www.codecogs.com/latex/eqneditor.php)</p></div>\n\n<h4 id=\"HTML-与-CSS-语法\"><a href=\"#HTML-与-CSS-语法\" class=\"headerlink\" title=\"HTML 与 CSS 语法\"></a>HTML 与 CSS 语法</h4><p>熟悉语法的同志们可以尽情发挥，如果你不熟悉也没关系，记住以下这几种常用的也够用了。</p>\n<ul>\n<li><p>分隔线和空行</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/* 分隔线 */</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">hr</span> /&gt;</span></span><br><span class=\"line\">/* 注意事项 6：在XHTML 中，<span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span> 必须被正确地关闭，比如 <span class=\"tag\">&lt;<span class=\"name\">hr</span> /&gt;</span> */</span><br><span class=\"line\">/* 空行 */</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\">/* 注意事项同上 */</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>居中和对齐方式</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/* 居中 */</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span>内容<span class=\"tag\">&lt;/<span class=\"name\">center</span>&gt;</span></span><br><span class=\"line\">/* 右对齐 */</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"text-align:right\"</span>&gt;</span>内容<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>字体大小和颜色</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">\"#xxxxxx\"</span> <span class=\"attr\">size</span>=<span class=\"string\">\"number\"</span>&gt;</span>内容<span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\">/* 详细请查看 http://www.w3school.com.cn/tags/tag_font.asp */</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<center><font color=\"red\" size=\"number\">例：我是居中的小红</font></center>\n\n<hr>\n<h2 id=\"插入音乐和视频\"><a href=\"#插入音乐和视频\" class=\"headerlink\" title=\"插入音乐和视频\"></a>插入音乐和视频</h2><h3 id=\"音乐\"><a href=\"#音乐\" class=\"headerlink\" title=\"音乐\"></a>音乐</h3><p>可以直接用 HTML 的标签，写法如下：<br><figure class=\"highlight html\"><figcaption><span>嵌入歌曲标签</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">audio</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://什么什么什么.mp3\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;\"</span> <span class=\"attr\">controls</span>=<span class=\"string\">\"controls\"</span> <span class=\"attr\">loop</span>=<span class=\"string\">\"loop\"</span> <span class=\"attr\">preload</span>=<span class=\"string\">\"meta\"</span>&gt;</span>Your browser does not support the audio tag.<span class=\"tag\">&lt;/<span class=\"name\">audio</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>如果想直接用已有平台上的歌，事情也很好办，可以将歌曲外链嵌入页面，以云村为例：<br>打开<a href=\"https://music.163.com/\" target=\"_blank\" rel=\"noopener\">网易云音乐</a>找到自己喜欢的音乐或个点，点击生成外链：<br><img src=\"http://p31gihke0.bkt.clouddn.com/网易云音乐.png\" alt=\"网易云音乐\"><br>然后根据自己的需要，加在<code>blog/theme/next/layout/_layout.swig</code>中或<code>blog/theme/next/layout/_macro/sidebar.swig</code>中，当然也可以直接放在文章中，比如用以下外链生成的效果见本文顶部。<br><figure class=\"highlight html\"><figcaption><span>代码清单-云村歌单外链</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--网易云音乐链接--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">iframe</span> <span class=\"attr\">frameborder</span>=<span class=\"string\">\"no\"</span> <span class=\"attr\">border</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">marginwidth</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">marginheight</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">width</span>=<span class=\"string\">330</span> <span class=\"attr\">height</span>=<span class=\"string\">320</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//music.163.com/outchain/player?type=0&amp;id=2058497430&amp;auto=0&amp;height=430\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>如果你还想要加上歌词就需要安装一个插件<code>Aplayer</code>，在<a href=\"http://suo.im/2sHCA0\" target=\"_blank\" rel=\"noopener\">这篇文章</a>里有详细说明。由于我没有这种需求就不再赘述了。</p>\n<h3 id=\"视频\"><a href=\"#视频\" class=\"headerlink\" title=\"视频\"></a>视频</h3><p>一样的，可以直接用 HTML 的标签，写法如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">video</span> <span class=\"attr\">poster</span>=<span class=\"string\">\"https://封面图.jpg\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://什么什么什么.mp4\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;\"</span> <span class=\"attr\">controls</span>=<span class=\"string\">\"controls\"</span> <span class=\"attr\">loop</span>=<span class=\"string\">\"loop\"</span> <span class=\"attr\">preload</span>=<span class=\"string\">\"meta\"</span>&gt;</span>Your browser does not support the video tag.<span class=\"tag\">&lt;/<span class=\"name\">video</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>当然还可以用插件完成更多的功能，上面那篇文章里也有介绍，想更进一步的可以去看看。</p>\n<hr>\n<h2 id=\"使用写作样式\"><a href=\"#使用写作样式\" class=\"headerlink\" title=\"使用写作样式\"></a>使用写作样式</h2><p>适当的使用下面的写作样式可以使文章的可读性增强，但读者不要为了追求华丽而使用过多的样式，那样反而会适得其反，博主认为使用样式应该本着<code>少即是多、重点突出、一图胜千言</code>的思想去使用，致力于增加文章的可读性。毕竟，<code>着重于内容的写作，让思想更好得展现</code>是我们最初的也是最终的愿望。这和我们用 Markdown 写文章是一样的道理，用 Markdown 而不是直接写 HTML 代码，就是为了将更多时间花在文字上。</p>\n<h3 id=\"主题自带样式\"><a href=\"#主题自带样式\" class=\"headerlink\" title=\"主题自带样式\"></a>主题自带样式</h3><h4 id=\"FontAwesome\"><a href=\"#FontAwesome\" class=\"headerlink\" title=\"FontAwesome\"></a>FontAwesome</h4><p>自己配置过主题的博主们对<a href=\"http://fontawesome.io/icons/\" target=\"_blank\" rel=\"noopener\">FontAwesome</a>这个网站应该都不会陌生，此网站类似于一个图标库，我们可以通过直接在文章中使用 html 和 css 代码来调用网站上的图标，下面给出一些简单的使用例子：</p>\n<figure class=\"highlight html\"><figcaption><span>调用图表示例代码</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-apple\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span>   来个小苹果</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-apple fa-2x\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span>   变大的苹果</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-apple fa-spin fa-2x fa-fw\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span>   会转的苹果</span><br></pre></td></tr></table></figure>\n<p><i class=\"fa fa-apple\">&lt;/i&gt;   来个小苹果<br><i class=\"fa fa-apple fa-2x\"></i>   变大的苹果<br><i class=\"fa fa-apple fa-spin fa-2x fa-fw\"></i>   会转的苹果</i></p>\n<div class=\"note info\"><p>更多有趣调用请查看官网的[使用示例](http://fontawesome.io/examples/)</p></div>\n\n<h4 id=\"代码块高亮\"><a href=\"#代码块高亮\" class=\"headerlink\" title=\"代码块高亮\"></a>代码块高亮</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">​```language title url link-text</span><br><span class=\"line\">你的代码</span><br><span class=\"line\">​```</span><br></pre></td></tr></table></figure>\n<ul>\n<li>language：代码语言的名称，用来设置代码块颜色高亮，非必须；</li>\n<li>title：顶部左边的说明，非必须；</li>\n<li>url：顶部右边的超链接地址，非必须；</li>\n<li>link-text：超链接的名称，非必须。</li>\n</ul>\n<p>这 4 项应该是根据空格来分隔，如果你想写后面两个，但不想写前面两个，那么就必须加[]了，要这样写：<code>[] [] [url] [link text]</code>。</p>\n<p>代码块高亮的模式可以在<code>主题配置文件</code>中设置：<br><figure class=\"highlight js\"><figcaption><span>文件位置：~/blog/themes/next/_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Code Highlight theme</span><br><span class=\"line\"># Available value:</span><br><span class=\"line\">#    normal | night | night eighties | night blue | night bright</span><br><span class=\"line\"># https://github.com/chriskempson/tomorrow-theme</span><br><span class=\"line\">highlight_theme: normal</span><br></pre></td></tr></table></figure></p>\n<p>要颜色正确高亮，可以在<code>站点配置文件</code>中设置自动高亮：<br><figure class=\"highlight diff\"><figcaption><span>文件位置：~/blog/_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">highlight:</span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  line_number: true</span><br><span class=\"line\"># 代码自动高亮</span><br><span class=\"line\"><span class=\"deletion\">-  auto_detect: false</span></span><br><span class=\"line\"><span class=\"addition\">+  auto_detect: true</span></span><br></pre></td></tr></table></figure></p>\n<p>红色<code>-</code>和绿色<code>+</code>的样式也是一种语言，叫diff，所以你只需在 [language] 写<code>diff</code>，然后在相应代码前面加上<code>-</code>和<code>+</code>就行了。不过默认的<code>-</code>是绿色，<code>+</code>是红色，与 Github 上相反，你可以自己更改，此处本人使用了博主<a href=\"https://reuixiy.github.io/\" target=\"_blank\" rel=\"noopener\">reuixiy</a>的设置：<br><figure class=\"highlight c\"><figcaption><span>文件位置：~/blog/themes/next/source/css/_custom/custom.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 文章```代码块diff样式</span></span><br><span class=\"line\">pre .addition &#123;</span><br><span class=\"line\">    background: #e6ffed;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">pre .deletion &#123;</span><br><span class=\"line\">    background: #ffeef0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 文章```代码块顶部样式</span></span><br><span class=\"line\">.highlight figcaption &#123;</span><br><span class=\"line\">    margin: <span class=\"number\">0</span>em;</span><br><span class=\"line\">    padding: <span class=\"number\">0.5</span>em;</span><br><span class=\"line\">    background: <span class=\"meta\">#eee;</span></span><br><span class=\"line\">    border-bottom: <span class=\"number\">1</span>px solid #e9e9e9;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.highlight figcaption a &#123;</span><br><span class=\"line\">    color: rgb(<span class=\"number\">80</span>, <span class=\"number\">115</span>, <span class=\"number\">184</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>.</p>\n<div class=\"note info\"><p>关于代码块高亮的高级个性化，可以看 zhuzhuxia 的博文:\n[HEXO下的语法高亮拓展修改](http://suo.im/qRryw)</p></div>\n\n\n<h4 id=\"标签的使用\"><a href=\"#标签的使用\" class=\"headerlink\" title=\"标签的使用\"></a>标签的使用</h4><p>「<a href=\"http://theme-next.iissnan.com/tag-plugins.html\" target=\"_blank\" rel=\"noopener\">标签</a>」(Tag Plugin) 是 Hexo 提供的一种快速生成特定内容的方式。 例如，在标准 Markdown 语法中，Hexo 无法指定图片的大小。这种情景即可使用标签来解决。 Hexo 内置来许多标签来帮助写作者可以更快的书写， <a href=\"https://hexo.io/docs/tag-plugins.html\" target=\"_blank\" rel=\"noopener\">完整的标签列表</a> 可以参考 Hexo 官网。 另外，Hexo 也开放来接口给主题，使主题有可能提供给写作者更简便的写作方法。<br><figure class=\"highlight html\"><figcaption><span>示例1 -文本居中标签使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- HTML方式: 直接在 Markdown 文件中编写 HTML 来调用 --&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 其中 class=\"blockquote-center\" 是必须的 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">blockquote</span> <span class=\"attr\">class</span>=<span class=\"string\">\"blockquote-center\"</span>&gt;</span>blah blah blah<span class=\"tag\">&lt;/<span class=\"name\">blockquote</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 标签 方式，要求版本在0.4.5或以上 --&gt;</span></span><br><span class=\"line\">&#123;% centerquote %&#125;blah blah blah&#123;% endcenterquote %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 标签别名 --&gt;</span></span><br><span class=\"line\">&#123;% cq %&#125; blah blah blah &#123;% endcq %&#125;</span><br></pre></td></tr></table></figure></p>\n<blockquote class=\"blockquote-center\"><p>Every interaction is both precious and an opportunity to delight.</p>\n</blockquote>\n<figure class=\"highlight html\"><figcaption><span>示例2 -书中名言引用标签</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% blockquote David Levithan, Wide Awake %&#125;</span><br><span class=\"line\">Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</span><br><span class=\"line\">&#123;% endblockquote %&#125;</span><br></pre></td></tr></table></figure>\n<p>效果示例：<br><blockquote><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</p>\n<footer><strong>David Levithan</strong><cite>Wide Awake</cite></footer></blockquote></p>\n<h4 id=\"note-标签\"><a href=\"#note-标签\" class=\"headerlink\" title=\"note 标签\"></a>note 标签</h4><p>要使用此标签首先要在<code>主题配置文件</code>中修改以下配置：<br><figure class=\"highlight js\"><figcaption><span>文件位置：~/blog/themes/next/_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Note tag (bs-callout).</span><br><span class=\"line\">note:</span><br><span class=\"line\">  # 风格</span><br><span class=\"line\">  style: flat</span><br><span class=\"line\">  # 要不要图标</span><br><span class=\"line\">  icons: <span class=\"literal\">true</span></span><br><span class=\"line\">  # 圆角矩形</span><br><span class=\"line\">  border_radius: <span class=\"number\">3</span></span><br><span class=\"line\">  light_bg_offset: <span class=\"number\">0</span></span><br></pre></td></tr></table></figure></p>\n<p>下面展示 note 标签的使用，这些标签本文在上文已多次使用：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note info\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>info<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<div class=\"note info\"><p>info</p></div>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note info no-icon\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>关于 note 标签的更多形式可以查看[这个页面](https://github.com/iissnan/hexo-theme-next/pull/1697)，介绍多多，自行选用<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<div class=\"note info no-icon\"><p>关于 note 标签的更多形式可以查看[这个页面](https://github.com/iissnan/hexo-theme-next/pull/1697)，介绍多多，自行选用</p></div>\n\n\n<h4 id=\"label-标签\"><a href=\"#label-标签\" class=\"headerlink\" title=\"label 标签\"></a>label 标签</h4><p>首先在<code>主题配置文件</code>中修改配置如下：<br><figure class=\"highlight diff\"><figcaption><span>文件位置：~/blog/themes/next/_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Label tag.</span><br><span class=\"line\"><span class=\"deletion\">- label: false</span></span><br><span class=\"line\"><span class=\"addition\">+ label: true</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下（@ 前面的是<code>label</code>的名字，后面的是要显示的文字）：<br><span class=\"label default\">default</span><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label default@default %&#125;</span><br></pre></td></tr></table></figure></p>\n<span class=\"label primary\">primary</span>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label primary@primary %&#125;</span><br></pre></td></tr></table></figure>\n<span class=\"label success\">success</span>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label success@success %&#125;</span><br></pre></td></tr></table></figure>\n<span class=\"label info\">info</span>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label info@info %&#125;</span><br></pre></td></tr></table></figure>\n<span class=\"label warning\">warning</span>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label warning@warning %&#125;</span><br></pre></td></tr></table></figure>\n<span class=\"label danger\">danger</span>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label danger@danger %&#125;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<div class=\"note warning\"><p>目前此标签有个 bug，如果把它加在一段文字的段首，则会有点问题，详见 [issue](https://github.com/iissnan/hexo-theme-next/issues/2022) 页面。</p></div>\n\n\n<h4 id=\"tabs-标签\"><a href=\"#tabs-标签\" class=\"headerlink\" title=\"tabs 标签\"></a>tabs 标签</h4><p>老规矩，先改<code>主题配置文件</code>：<br><figure class=\"highlight js\"><figcaption><span>文件位置：~/blog/themes/next/_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Tabs tag.</span><br><span class=\"line\">tabs:</span><br><span class=\"line\">  enable: <span class=\"literal\">true</span></span><br><span class=\"line\">  transition:</span><br><span class=\"line\">    tabs: <span class=\"literal\">true</span></span><br><span class=\"line\">    labels: <span class=\"literal\">true</span></span><br><span class=\"line\">  border_radius: <span class=\"number\">0</span></span><br></pre></td></tr></table></figure></p>\n<p>先来个小示例：<br><figure class=\"highlight html\"><figcaption><span>tans 标签示例</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% tabs First unique name %&#125;</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- tab 我是孙行者--&gt;</span></span><br><span class=\"line\">**我是真的！**</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- endtab --&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- tab 吾乃者行孙--&gt;</span></span><br><span class=\"line\">**我才是真的！**</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- endtab --&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- tab 行者孙是也--&gt;</span></span><br><span class=\"line\">**我真的是真的！**</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- endtab --&gt;</span></span><br><span class=\"line\">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure></p>\n<div class=\"tabs\" id=\"first-unique-name\"><ul class=\"nav-tabs\"><li class=\"tab active\"><a href=\"#first-unique-name-1\">我是孙行者</a></li><li class=\"tab\"><a href=\"#first-unique-name-2\">吾乃者行孙</a></li><li class=\"tab\"><a href=\"#first-unique-name-3\">行者孙是也</a></li></ul><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"first-unique-name-1\"><p><strong>我是真的！</strong></p>\n</div><div class=\"tab-pane\" id=\"first-unique-name-2\"><p><strong>我才是真的！</strong></p>\n</div><div class=\"tab-pane\" id=\"first-unique-name-3\"><p><strong>我真的是真的！</strong></p>\n</div></div></div>\n<div class=\"note info\"><p>这个选项卡其实妙用无穷，下面这篇文章对此有诸多说明，推荐一看：\n[Hexo Theme Next Test](https://almostover.ru/2016-01/hexo-theme-next-test/)</p></div>\n\n\n<h4 id=\"按钮\"><a href=\"#按钮\" class=\"headerlink\" title=\"按钮\"></a>按钮</h4><figure class=\"highlight html\"><figcaption><span>按钮示例源码</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% btn https://www.baidu.com, 点击下载百度, download fa-lg fa-fw %&#125;</span><br></pre></td></tr></table></figure>\n<p>效果：<a class=\"btn\" href=\"https://www.baidu.com\" target=\"_blank\" rel=\"noopener\"><i class=\"fa fa-download fa-lg fa-fw\"></i>点击下载百度</a></p>\n<p>关于按钮的更多使用也可以前往上面说到的<a href=\"https://almostover.ru/2016-01/hexo-theme-next-test/\" target=\"_blank\" rel=\"noopener\">这篇文章</a>里去查看。</p>\n<h3 id=\"自定义样式\"><a href=\"#自定义样式\" class=\"headerlink\" title=\"自定义样式\"></a>自定义样式</h3><p>如果你曾经像我一样跟随那些大佬博主们折腾过自己的博客主题，那么你一定明白所谓自定义样式，就是将 CSS 代码加到<code>custom.styl</code>中，如果你和我一样对这方面一窍不通可以在<a href=\"http://www.divcss5.com/rumen/r3.shtml\" target=\"_blank\" rel=\"noopener\">这里</a>了解了解 CSS 中id和class的知识。</p>\n<p>由于这方面我并不太了解就不多说什么了，推荐大家去看一个很少女心的博主<span class=\"label primary\">千灵夙赋</span>的这篇文章：<a href=\"https://qianling.pw/style/#TOC%E6%95%B0%E5%AD%97%E5%9D%97\" target=\"_blank\" rel=\"noopener\">外部样式表汇总</a></p>\n<h2 id=\"致谢\"><a href=\"#致谢\" class=\"headerlink\" title=\"致谢\"></a>致谢</h2><p>刚建博客的前两天，看了好多博主的博客，感叹各位博主的创造力与审美，同时也偷偷模仿了几位博主的博客样式，虽说学的有些不伦不类，不过大概也不会有大的改动了，毕竟建博客的初衷是为了记录，版式的设计为的是营造舒心方便的创作环境。</p>\n<p>接下来就要认真考虑写什么、怎么写的问题，于是就有了本篇博文的诞生，由于以前有使用 Rmarkdown 的经历，所以学起来倒也省了许多气力，目前来看上面的写作样式已经足以让我尽情展现了，在此特别感谢无私整合资源的各位博主们，接下来的日子里就是真正输出内容的时候了，会涉及R和Python的学习心得以及自己做的数据报告，还会有Kaggle的大神代码解析或其他的一些有的没的，要不要考虑加个书单页和观影页嗯？<br>总之，明天又是美好的一天，加油！</p>\n<blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><ul>\n<li><a href=\"https://qianling.pw/style/#TOC%E6%95%B0%E5%AD%97%E5%9D%97\" target=\"_blank\" rel=\"noopener\">外部样式表汇总</a></li>\n<li><a href=\"https://almostover.ru/2016-01/hexo-theme-next-test/\" target=\"_blank\" rel=\"noopener\">Hexo Theme Next Test</a></li>\n<li><a href=\"http://suo.im/1sH1k7\" target=\"_blank\" rel=\"noopener\">Markdown - 简单的世界</a></li>\n<li><a href=\"http://suo.im/3Q8rcF\" target=\"_blank\" rel=\"noopener\">Cmd Markdown 语法手册</a></li>\n<li><a href=\"http://suo.im/qRryw\" target=\"_blank\" rel=\"noopener\">HEXO下的语法高亮拓展修改</a></li>\n<li><a href=\"http://www.divcss5.com/rumen/r3.shtml\" target=\"_blank\" rel=\"noopener\">CSS中的class与id区别及用法</a></li>\n<li><a href=\"http://suo.im/2Ch7H3\" target=\"_blank\" rel=\"noopener\">HEXO下的Markdown语法(GFM)写博客</a></li>\n<li><a href=\"http://suo.im/2sHCA0\" target=\"_blank\" rel=\"noopener\">打造个性超赞博客Hexo+NexT+GithubPages的超深度优化</a></li>\n</ul>\n</blockquote>\n","site":{"data":{}},"excerpt":"<center><i>学习了新知识，疏于记录便会淡忘，要用到时方悔当初；<br>纸本与现有平台有其局限性，对于技术文档的展示有颇多限制，个人博客不失为一个好的选择——源于记录，善于书页。</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/书页.jpg\" alt=\"书页.jpg\"><br>","more":"</p>\n<!--网易云音乐链接-->\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"330\" height=\"320\" src=\"//music.163.com/outchain/player?type=0&id=2058497430&auto=0&height=430\"></iframe>\n\n\n<h2 id=\"使用文章模板\"><a href=\"#使用文章模板\" class=\"headerlink\" title=\"使用文章模板\"></a>使用文章模板</h2><h3 id=\"创建新文章\"><a href=\"#创建新文章\" class=\"headerlink\" title=\"创建新文章\"></a>创建新文章</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure>\n<p>有关创建新文章的命令以及默认文件名等说明在<a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">官方文档</a>里说的已经很清楚了，在此不再赘述。</p>\n<h3 id=\"文章模板文件\"><a href=\"#文章模板文件\" class=\"headerlink\" title=\"文章模板文件\"></a>文章模板文件</h3><h4 id=\"Front-matter\"><a href=\"#Front-matter\" class=\"headerlink\" title=\"Front-matter\"></a>Front-matter</h4><p>关于文件最上方的参数，参见 Hexo 官方文档的 <a href=\"https://hexo.io/docs/front-matter.html\" target=\"_blank\" rel=\"noopener\">Front-matter</a> 和 <a href=\"https://hexo.io/zh-cn/docs/variables.html#%E9%A1%B5%E9%9D%A2%E5%8F%98%E9%87%8F\" target=\"_blank\" rel=\"noopener\">页面变量</a>，以下是本人常用的 ：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/* ！！！！！！！！！！</span><br><span class=\"line\">** 每一项的 : 后面均有一个空格</span><br><span class=\"line\">** 且 : 为英文符号</span><br><span class=\"line\">** ！！！！！！！！！！</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">title:</span><br><span class=\"line\">/* 文章标题，可以为中文 */</span><br><span class=\"line\"></span><br><span class=\"line\">date:</span><br><span class=\"line\">/* 建立日期，如果自己手动添加，请按固定格式</span><br><span class=\"line\">** 就算不写，页面每篇文章顶部的发表于……也能显示</span><br><span class=\"line\">** 只要在主题配置文件中，配置了 created_at 就行</span><br><span class=\"line\">** 那为什么还要自己加上？</span><br><span class=\"line\">** 自定义文章发布的时间</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">updated:</span><br><span class=\"line\">/* 更新日期，其它与上面的建立日期类似</span><br><span class=\"line\">** 不过在页面每篇文章顶部，是更新于……</span><br><span class=\"line\">** 在主题配置文件中，是 updated_at</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">categories:</span><br><span class=\"line\">/* 分类，支持多级，比如：</span><br><span class=\"line\">- technology</span><br><span class=\"line\">- computer</span><br><span class=\"line\">- computer-aided-art</span><br><span class=\"line\">则为technology/computer/computer-aided-art</span><br><span class=\"line\">（不适用于 layout: page）</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">tags:</span><br><span class=\"line\">/* 标签</span><br><span class=\"line\">** 多个可以这样写[标签1,标签2,标签3]</span><br><span class=\"line\">** （不适用于 layout: page）</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">description:</span><br><span class=\"line\">/* 文章的描述，在每篇文章标题下方显示</span><br><span class=\"line\">** 并且作为网页的 description 元数据</span><br><span class=\"line\">** 如果不写，则自动取 &lt;!-- more --&gt;</span><br><span class=\"line\">** 之前的文字作为网页的 description 元数据</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">keywords:</span><br><span class=\"line\">/* 关键字，并且作为网页的 keywords 元数据</span><br><span class=\"line\">** 如果不写，则自动取 tags 里的项</span><br><span class=\"line\">** 作为网页的 keywords 元数据</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">comments:</span><br><span class=\"line\">/* 是否开启评论</span><br><span class=\"line\">** 默认值是 true</span><br><span class=\"line\">** 要关闭写 false</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">layout:</span><br><span class=\"line\">/* 页面布局，默认值是 post，默认值可以在</span><br><span class=\"line\">** 站点配置文件中修改 default_layout</span><br><span class=\"line\">** 另：404 页面可能用到，将其值改为 false</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">sticky:</span><br><span class=\"line\">/* 文章置顶</span><br><span class=\"line\">** 此项只有参考教程配置好，否则请勿添加！</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">password:</span><br><span class=\"line\">/* 文章密码，此项只有参考教程：</span><br><span class=\"line\">** http://shenzekun.cn/hexo的next主题个性化配置教程.html</span><br><span class=\"line\">** 第 24 节，配置好，否则请勿添加！</span><br><span class=\"line\">** 发现还是有 bug 的，就是右键在新标签中打开</span><br><span class=\"line\">** 然后无论是否输入密码，都能看到内容</span><br><span class=\"line\">*/</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"我的模板文件\"><a href=\"#我的模板文件\" class=\"headerlink\" title=\"我的模板文件\"></a>我的模板文件</h4><figure class=\"highlight md\"><figcaption><span>文件位置：~/blog/scaffolds/post.md</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: &#123;&#123; title &#125;&#125;</span><br><span class=\"line\">date: &#123;&#123; date &#125;&#125;</span><br><span class=\"line\">categories: </span><br><span class=\"line\">tags: </span><br><span class=\"line\">copyright: </span><br><span class=\"line\">password: </span><br><span class=\"line\">---</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;center&gt;**&lt;/center&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;br&gt;![](http://p31gihke0.bkt.clouddn.com/)</span><br><span class=\"line\">&lt;!--more--&gt;</span><br><span class=\"line\"><span class=\"section\">## </span></span><br><span class=\"line\"></span><br><span class=\"line\">------</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">## </span></span><br><span class=\"line\"></span><br><span class=\"line\">------</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">##</span></span><br><span class=\"line\"></span><br><span class=\"line\">------</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">## 致谢</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"quote\">&gt; ### 参考文章</span></span><br><span class=\"line\"><span class=\"quote\">&gt; * []()</span></span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>&lt;!--more--&gt;</code>以上属于文章的摘要（封面），会在主页显示出来，可以看到本人文章的封面一般是一段居中倾斜文字配上一张图。</li>\n<li>文章内标题请从二级标题（##）开始！<div class=\"note warning no-icon\"><p>Ps：此处虽然给了模板，但其实博客的写作很随性的，你可以自主搭配样式，怎么舒服怎么来，下面就来介绍一下该怎样写一篇博文以及如何增添样式来使文章逻辑分明，便于阅读与理解。（宝宝们放心，看懂了后写起来比Word省心多了）</p></div>\n\n</li>\n</ol>\n<hr>\n<h2 id=\"使用-Markdown\"><a href=\"#使用-Markdown\" class=\"headerlink\" title=\"使用 Markdown\"></a>使用 Markdown</h2><p>Markdown 是一种方便记忆、书写的纯文本标记语言，用户可以使用这些标记符号以最小的输入代价生成极富表现力的文档：它使用简单的符号标记不同的标题，分割不同的段落，<strong>粗体</strong> 或者 <em>斜体</em> 某些文字，我们可以使用它：</p>\n<blockquote>\n<ul>\n<li>整理知识，学习笔记</li>\n<li>发布日记，杂文，所见所想</li>\n<li>撰写发布技术文稿（代码支持）</li>\n<li>撰写发布学术论文（LaTeX 公式支持）</li>\n</ul>\n</blockquote>\n<p>它的优点在于：</p>\n<blockquote>\n<ul>\n<li>专注你的文字内容而不是排版样式</li>\n<li>可读，直观。适合所有人的写作语言</li>\n<li>轻松的导出 HTML、PDF 和本身的 .md 文件</li>\n<li>纯文本内容，兼容所有的文本编辑器与字处理软件</li>\n</ul>\n</blockquote>\n<h3 id=\"GFM-简明语法\"><a href=\"#GFM-简明语法\" class=\"headerlink\" title=\"GFM 简明语法\"></a>GFM 简明语法</h3><p>网络上关于Markdown的语法说明有很多，大家可以去网上随便找一篇读一读了解个大概。在不同平台上也衍生出了多样化的独具特色的Markdown语法，它们大同小异但也确实各有不同，下面的这篇文章简单介绍了Hexo下使用的MarkDown——Github的GFM的基本语法与标准：</p>\n<p><a href=\"http://suo.im/2Ch7H3\" target=\"_blank\" rel=\"noopener\">HEXO下的Markdown语法(GFM)写博客</a></p>\n<h3 id=\"Markdown-高级语法\"><a href=\"#Markdown-高级语法\" class=\"headerlink\" title=\"Markdown 高级语法\"></a>Markdown 高级语法</h3><p>能用Markdown 做的事情还有很多，列表、代码块、图表这些都不是问题：</p>\n<ul>\n<li>制作一份待办事宜 [Todo 列表]</li>\n</ul>\n<ul>\n<li>[ ] 支持以 PDF 格式导出文稿</li>\n<li>[ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率</li>\n<li>[x] 新增 Todo 列表功能</li>\n<li>[x] 修复 LaTex 公式渲染问题</li>\n<li>[x] 新增 LaTex 公式编号功能</li>\n</ul>\n<ul>\n<li><p>高亮一段代码</p>\n<figure class=\"highlight python\"><figcaption><span>Python 源码展示</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@requires_authorization</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SomeClass</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    <span class=\"comment\"># A comment</span></span><br><span class=\"line\">    <span class=\"keyword\">print</span> <span class=\"string\">'hello world'</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>绘制表格</p>\n</li>\n</ul>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>项目</th>\n<th style=\"text-align:right\">价格</th>\n<th style=\"text-align:center\">数量</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>计算机</td>\n<td style=\"text-align:right\">\\$1600</td>\n<td style=\"text-align:center\">5</td>\n</tr>\n<tr>\n<td>手机</td>\n<td style=\"text-align:right\">\\$12</td>\n<td style=\"text-align:center\">12</td>\n</tr>\n<tr>\n<td>管线</td>\n<td style=\"text-align:right\">\\$1</td>\n<td style=\"text-align:center\">234</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"note info\"><p>更多更详细的Markdown语法使用教程见：\n[Cmd Markdown 语法手册](http://suo.im/3Q8rcF)</p></div>\n\n<h3 id=\"与其他语言相兼容\"><a href=\"#与其他语言相兼容\" class=\"headerlink\" title=\"与其他语言相兼容\"></a>与其他语言相兼容</h3><p>在 Markdown 书写的过程中，不仅可以使用简明的 Markdown 语法，还可以通过使用 LaTex 语法来书写数学公式，使用HTML 语法来调整布局与颜色等。但是本人在实践中发现，GFM 对 HTML 语法的兼容性非常好，因为最终它就是转为 html 格式发布的，但是对于 LaTex 语法的书写发布渲染有时会出现一些奇怪的问题，建议如果写学术文章还是选择更加合适的 Markdown 平台，毕竟 GFM 在此只是用来写博客的。</p>\n<h4 id=\"LaTex-语法\"><a href=\"#LaTex-语法\" class=\"headerlink\" title=\"LaTex 语法\"></a>LaTex 语法</h4><p>在<code>Markdown</code>语体下使用<code>LaTex</code>语法一般来将目的很单纯，就是美化数学公式的书写，主要有两种用法。</p>\n<ul>\n<li>行内公式书写<figure class=\"highlight c\"><figcaption><span>LaTex 源码展示-行内公式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$E=mc^<span class=\"number\">2</span>$</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>质能守恒方程可以用一个很简洁的方程式 $E=mc^2$ 来表达。</p>\n<ul>\n<li>行间公式书写：<figure class=\"highlight c\"><figcaption><span>LaTex 源码展示-行间公式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$$\\sum_&#123;i=<span class=\"number\">1</span>&#125;^n a_i=<span class=\"number\">0</span>$$</span><br><span class=\"line\"></span><br><span class=\"line\">$$f(x_1,x_x,\\ldots,x_n) = x_1^<span class=\"number\">2</span> + x_2^<span class=\"number\">2</span> + \\cdots + x_n^<span class=\"number\">2</span> $$</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"math/tex; mode=display\">\\sum_{i=1}^n a_i=0</script><script type=\"math/tex; mode=display\">f(x_1,x_x,\\ldots,x_n) = x_1^2 + x_2^2 + \\cdots + x_n^2</script><div class=\"note success\"><p>什么？不熟悉 LaTex 语法，不用害怕，试试这个<br>[在线LaTex公式编辑器](http://www.codecogs.com/latex/eqneditor.php)</p></div>\n\n<h4 id=\"HTML-与-CSS-语法\"><a href=\"#HTML-与-CSS-语法\" class=\"headerlink\" title=\"HTML 与 CSS 语法\"></a>HTML 与 CSS 语法</h4><p>熟悉语法的同志们可以尽情发挥，如果你不熟悉也没关系，记住以下这几种常用的也够用了。</p>\n<ul>\n<li><p>分隔线和空行</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/* 分隔线 */</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">hr</span> /&gt;</span></span><br><span class=\"line\">/* 注意事项 6：在XHTML 中，<span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span> 必须被正确地关闭，比如 <span class=\"tag\">&lt;<span class=\"name\">hr</span> /&gt;</span> */</span><br><span class=\"line\">/* 空行 */</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\">/* 注意事项同上 */</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>居中和对齐方式</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/* 居中 */</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span>内容<span class=\"tag\">&lt;/<span class=\"name\">center</span>&gt;</span></span><br><span class=\"line\">/* 右对齐 */</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"text-align:right\"</span>&gt;</span>内容<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>字体大小和颜色</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">\"#xxxxxx\"</span> <span class=\"attr\">size</span>=<span class=\"string\">\"number\"</span>&gt;</span>内容<span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span><br><span class=\"line\">/* 详细请查看 http://www.w3school.com.cn/tags/tag_font.asp */</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<center><font color=\"red\" size=\"number\">例：我是居中的小红</font></center>\n\n<hr>\n<h2 id=\"插入音乐和视频\"><a href=\"#插入音乐和视频\" class=\"headerlink\" title=\"插入音乐和视频\"></a>插入音乐和视频</h2><h3 id=\"音乐\"><a href=\"#音乐\" class=\"headerlink\" title=\"音乐\"></a>音乐</h3><p>可以直接用 HTML 的标签，写法如下：<br><figure class=\"highlight html\"><figcaption><span>嵌入歌曲标签</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">audio</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://什么什么什么.mp3\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;\"</span> <span class=\"attr\">controls</span>=<span class=\"string\">\"controls\"</span> <span class=\"attr\">loop</span>=<span class=\"string\">\"loop\"</span> <span class=\"attr\">preload</span>=<span class=\"string\">\"meta\"</span>&gt;</span>Your browser does not support the audio tag.<span class=\"tag\">&lt;/<span class=\"name\">audio</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>如果想直接用已有平台上的歌，事情也很好办，可以将歌曲外链嵌入页面，以云村为例：<br>打开<a href=\"https://music.163.com/\" target=\"_blank\" rel=\"noopener\">网易云音乐</a>找到自己喜欢的音乐或个点，点击生成外链：<br><img src=\"http://p31gihke0.bkt.clouddn.com/网易云音乐.png\" alt=\"网易云音乐\"><br>然后根据自己的需要，加在<code>blog/theme/next/layout/_layout.swig</code>中或<code>blog/theme/next/layout/_macro/sidebar.swig</code>中，当然也可以直接放在文章中，比如用以下外链生成的效果见本文顶部。<br><figure class=\"highlight html\"><figcaption><span>代码清单-云村歌单外链</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--网易云音乐链接--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">iframe</span> <span class=\"attr\">frameborder</span>=<span class=\"string\">\"no\"</span> <span class=\"attr\">border</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">marginwidth</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">marginheight</span>=<span class=\"string\">\"0\"</span> <span class=\"attr\">width</span>=<span class=\"string\">330</span> <span class=\"attr\">height</span>=<span class=\"string\">320</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//music.163.com/outchain/player?type=0&amp;id=2058497430&amp;auto=0&amp;height=430\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>如果你还想要加上歌词就需要安装一个插件<code>Aplayer</code>，在<a href=\"http://suo.im/2sHCA0\" target=\"_blank\" rel=\"noopener\">这篇文章</a>里有详细说明。由于我没有这种需求就不再赘述了。</p>\n<h3 id=\"视频\"><a href=\"#视频\" class=\"headerlink\" title=\"视频\"></a>视频</h3><p>一样的，可以直接用 HTML 的标签，写法如下：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">video</span> <span class=\"attr\">poster</span>=<span class=\"string\">\"https://封面图.jpg\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://什么什么什么.mp4\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;\"</span> <span class=\"attr\">controls</span>=<span class=\"string\">\"controls\"</span> <span class=\"attr\">loop</span>=<span class=\"string\">\"loop\"</span> <span class=\"attr\">preload</span>=<span class=\"string\">\"meta\"</span>&gt;</span>Your browser does not support the video tag.<span class=\"tag\">&lt;/<span class=\"name\">video</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>当然还可以用插件完成更多的功能，上面那篇文章里也有介绍，想更进一步的可以去看看。</p>\n<hr>\n<h2 id=\"使用写作样式\"><a href=\"#使用写作样式\" class=\"headerlink\" title=\"使用写作样式\"></a>使用写作样式</h2><p>适当的使用下面的写作样式可以使文章的可读性增强，但读者不要为了追求华丽而使用过多的样式，那样反而会适得其反，博主认为使用样式应该本着<code>少即是多、重点突出、一图胜千言</code>的思想去使用，致力于增加文章的可读性。毕竟，<code>着重于内容的写作，让思想更好得展现</code>是我们最初的也是最终的愿望。这和我们用 Markdown 写文章是一样的道理，用 Markdown 而不是直接写 HTML 代码，就是为了将更多时间花在文字上。</p>\n<h3 id=\"主题自带样式\"><a href=\"#主题自带样式\" class=\"headerlink\" title=\"主题自带样式\"></a>主题自带样式</h3><h4 id=\"FontAwesome\"><a href=\"#FontAwesome\" class=\"headerlink\" title=\"FontAwesome\"></a>FontAwesome</h4><p>自己配置过主题的博主们对<a href=\"http://fontawesome.io/icons/\" target=\"_blank\" rel=\"noopener\">FontAwesome</a>这个网站应该都不会陌生，此网站类似于一个图标库，我们可以通过直接在文章中使用 html 和 css 代码来调用网站上的图标，下面给出一些简单的使用例子：</p>\n<figure class=\"highlight html\"><figcaption><span>调用图表示例代码</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-apple\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span>   来个小苹果</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-apple fa-2x\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span>   变大的苹果</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-apple fa-spin fa-2x fa-fw\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span>   会转的苹果</span><br></pre></td></tr></table></figure>\n<p><i class=\"fa fa-apple\">&lt;/i&gt;   来个小苹果<br><i class=\"fa fa-apple fa-2x\"></i>   变大的苹果<br><i class=\"fa fa-apple fa-spin fa-2x fa-fw\"></i>   会转的苹果</i></p>\n<div class=\"note info\"><p>更多有趣调用请查看官网的[使用示例](http://fontawesome.io/examples/)</p></div>\n\n<h4 id=\"代码块高亮\"><a href=\"#代码块高亮\" class=\"headerlink\" title=\"代码块高亮\"></a>代码块高亮</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">​```language title url link-text</span><br><span class=\"line\">你的代码</span><br><span class=\"line\">​```</span><br></pre></td></tr></table></figure>\n<ul>\n<li>language：代码语言的名称，用来设置代码块颜色高亮，非必须；</li>\n<li>title：顶部左边的说明，非必须；</li>\n<li>url：顶部右边的超链接地址，非必须；</li>\n<li>link-text：超链接的名称，非必须。</li>\n</ul>\n<p>这 4 项应该是根据空格来分隔，如果你想写后面两个，但不想写前面两个，那么就必须加[]了，要这样写：<code>[] [] [url] [link text]</code>。</p>\n<p>代码块高亮的模式可以在<code>主题配置文件</code>中设置：<br><figure class=\"highlight js\"><figcaption><span>文件位置：~/blog/themes/next/_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Code Highlight theme</span><br><span class=\"line\"># Available value:</span><br><span class=\"line\">#    normal | night | night eighties | night blue | night bright</span><br><span class=\"line\"># https://github.com/chriskempson/tomorrow-theme</span><br><span class=\"line\">highlight_theme: normal</span><br></pre></td></tr></table></figure></p>\n<p>要颜色正确高亮，可以在<code>站点配置文件</code>中设置自动高亮：<br><figure class=\"highlight diff\"><figcaption><span>文件位置：~/blog/_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">highlight:</span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  line_number: true</span><br><span class=\"line\"># 代码自动高亮</span><br><span class=\"line\"><span class=\"deletion\">-  auto_detect: false</span></span><br><span class=\"line\"><span class=\"addition\">+  auto_detect: true</span></span><br></pre></td></tr></table></figure></p>\n<p>红色<code>-</code>和绿色<code>+</code>的样式也是一种语言，叫diff，所以你只需在 [language] 写<code>diff</code>，然后在相应代码前面加上<code>-</code>和<code>+</code>就行了。不过默认的<code>-</code>是绿色，<code>+</code>是红色，与 Github 上相反，你可以自己更改，此处本人使用了博主<a href=\"https://reuixiy.github.io/\" target=\"_blank\" rel=\"noopener\">reuixiy</a>的设置：<br><figure class=\"highlight c\"><figcaption><span>文件位置：~/blog/themes/next/source/css/_custom/custom.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 文章```代码块diff样式</span></span><br><span class=\"line\">pre .addition &#123;</span><br><span class=\"line\">    background: #e6ffed;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">pre .deletion &#123;</span><br><span class=\"line\">    background: #ffeef0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 文章```代码块顶部样式</span></span><br><span class=\"line\">.highlight figcaption &#123;</span><br><span class=\"line\">    margin: <span class=\"number\">0</span>em;</span><br><span class=\"line\">    padding: <span class=\"number\">0.5</span>em;</span><br><span class=\"line\">    background: <span class=\"meta\">#eee;</span></span><br><span class=\"line\">    border-bottom: <span class=\"number\">1</span>px solid #e9e9e9;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.highlight figcaption a &#123;</span><br><span class=\"line\">    color: rgb(<span class=\"number\">80</span>, <span class=\"number\">115</span>, <span class=\"number\">184</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>.</p>\n<div class=\"note info\"><p>关于代码块高亮的高级个性化，可以看 zhuzhuxia 的博文:\n[HEXO下的语法高亮拓展修改](http://suo.im/qRryw)</p></div>\n\n\n<h4 id=\"标签的使用\"><a href=\"#标签的使用\" class=\"headerlink\" title=\"标签的使用\"></a>标签的使用</h4><p>「<a href=\"http://theme-next.iissnan.com/tag-plugins.html\" target=\"_blank\" rel=\"noopener\">标签</a>」(Tag Plugin) 是 Hexo 提供的一种快速生成特定内容的方式。 例如，在标准 Markdown 语法中，Hexo 无法指定图片的大小。这种情景即可使用标签来解决。 Hexo 内置来许多标签来帮助写作者可以更快的书写， <a href=\"https://hexo.io/docs/tag-plugins.html\" target=\"_blank\" rel=\"noopener\">完整的标签列表</a> 可以参考 Hexo 官网。 另外，Hexo 也开放来接口给主题，使主题有可能提供给写作者更简便的写作方法。<br><figure class=\"highlight html\"><figcaption><span>示例1 -文本居中标签使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- HTML方式: 直接在 Markdown 文件中编写 HTML 来调用 --&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 其中 class=\"blockquote-center\" 是必须的 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">blockquote</span> <span class=\"attr\">class</span>=<span class=\"string\">\"blockquote-center\"</span>&gt;</span>blah blah blah<span class=\"tag\">&lt;/<span class=\"name\">blockquote</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 标签 方式，要求版本在0.4.5或以上 --&gt;</span></span><br><span class=\"line\">&#123;% centerquote %&#125;blah blah blah&#123;% endcenterquote %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 标签别名 --&gt;</span></span><br><span class=\"line\">&#123;% cq %&#125; blah blah blah &#123;% endcq %&#125;</span><br></pre></td></tr></table></figure></p>\n<blockquote class=\"blockquote-center\"><p>Every interaction is both precious and an opportunity to delight.</p>\n</blockquote>\n<figure class=\"highlight html\"><figcaption><span>示例2 -书中名言引用标签</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% blockquote David Levithan, Wide Awake %&#125;</span><br><span class=\"line\">Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</span><br><span class=\"line\">&#123;% endblockquote %&#125;</span><br></pre></td></tr></table></figure>\n<p>效果示例：<br><blockquote><p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</p>\n<footer><strong>David Levithan</strong><cite>Wide Awake</cite></footer></blockquote></p>\n<h4 id=\"note-标签\"><a href=\"#note-标签\" class=\"headerlink\" title=\"note 标签\"></a>note 标签</h4><p>要使用此标签首先要在<code>主题配置文件</code>中修改以下配置：<br><figure class=\"highlight js\"><figcaption><span>文件位置：~/blog/themes/next/_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Note tag (bs-callout).</span><br><span class=\"line\">note:</span><br><span class=\"line\">  # 风格</span><br><span class=\"line\">  style: flat</span><br><span class=\"line\">  # 要不要图标</span><br><span class=\"line\">  icons: <span class=\"literal\">true</span></span><br><span class=\"line\">  # 圆角矩形</span><br><span class=\"line\">  border_radius: <span class=\"number\">3</span></span><br><span class=\"line\">  light_bg_offset: <span class=\"number\">0</span></span><br></pre></td></tr></table></figure></p>\n<p>下面展示 note 标签的使用，这些标签本文在上文已多次使用：<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note info\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>info<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<div class=\"note info\"><p>info</p></div>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"note info no-icon\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>关于 note 标签的更多形式可以查看[这个页面](https://github.com/iissnan/hexo-theme-next/pull/1697)，介绍多多，自行选用<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<div class=\"note info no-icon\"><p>关于 note 标签的更多形式可以查看[这个页面](https://github.com/iissnan/hexo-theme-next/pull/1697)，介绍多多，自行选用</p></div>\n\n\n<h4 id=\"label-标签\"><a href=\"#label-标签\" class=\"headerlink\" title=\"label 标签\"></a>label 标签</h4><p>首先在<code>主题配置文件</code>中修改配置如下：<br><figure class=\"highlight diff\"><figcaption><span>文件位置：~/blog/themes/next/_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Label tag.</span><br><span class=\"line\"><span class=\"deletion\">- label: false</span></span><br><span class=\"line\"><span class=\"addition\">+ label: true</span></span><br></pre></td></tr></table></figure></p>\n<p>效果如下（@ 前面的是<code>label</code>的名字，后面的是要显示的文字）：<br><span class=\"label default\">default</span><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label default@default %&#125;</span><br></pre></td></tr></table></figure></p>\n<span class=\"label primary\">primary</span>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label primary@primary %&#125;</span><br></pre></td></tr></table></figure>\n<span class=\"label success\">success</span>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label success@success %&#125;</span><br></pre></td></tr></table></figure>\n<span class=\"label info\">info</span>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label info@info %&#125;</span><br></pre></td></tr></table></figure>\n<span class=\"label warning\">warning</span>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label warning@warning %&#125;</span><br></pre></td></tr></table></figure>\n<span class=\"label danger\">danger</span>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% label danger@danger %&#125;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<div class=\"note warning\"><p>目前此标签有个 bug，如果把它加在一段文字的段首，则会有点问题，详见 [issue](https://github.com/iissnan/hexo-theme-next/issues/2022) 页面。</p></div>\n\n\n<h4 id=\"tabs-标签\"><a href=\"#tabs-标签\" class=\"headerlink\" title=\"tabs 标签\"></a>tabs 标签</h4><p>老规矩，先改<code>主题配置文件</code>：<br><figure class=\"highlight js\"><figcaption><span>文件位置：~/blog/themes/next/_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Tabs tag.</span><br><span class=\"line\">tabs:</span><br><span class=\"line\">  enable: <span class=\"literal\">true</span></span><br><span class=\"line\">  transition:</span><br><span class=\"line\">    tabs: <span class=\"literal\">true</span></span><br><span class=\"line\">    labels: <span class=\"literal\">true</span></span><br><span class=\"line\">  border_radius: <span class=\"number\">0</span></span><br></pre></td></tr></table></figure></p>\n<p>先来个小示例：<br><figure class=\"highlight html\"><figcaption><span>tans 标签示例</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% tabs First unique name %&#125;</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- tab 我是孙行者--&gt;</span></span><br><span class=\"line\">**我是真的！**</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- endtab --&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- tab 吾乃者行孙--&gt;</span></span><br><span class=\"line\">**我才是真的！**</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- endtab --&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- tab 行者孙是也--&gt;</span></span><br><span class=\"line\">**我真的是真的！**</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- endtab --&gt;</span></span><br><span class=\"line\">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure></p>\n<div class=\"tabs\" id=\"first-unique-name\"><ul class=\"nav-tabs\"><li class=\"tab active\"><a href=\"#first-unique-name-1\">我是孙行者</a></li><li class=\"tab\"><a href=\"#first-unique-name-2\">吾乃者行孙</a></li><li class=\"tab\"><a href=\"#first-unique-name-3\">行者孙是也</a></li></ul><div class=\"tab-content\"><div class=\"tab-pane active\" id=\"first-unique-name-1\"><p><strong>我是真的！</strong></p>\n</div><div class=\"tab-pane\" id=\"first-unique-name-2\"><p><strong>我才是真的！</strong></p>\n</div><div class=\"tab-pane\" id=\"first-unique-name-3\"><p><strong>我真的是真的！</strong></p>\n</div></div></div>\n<div class=\"note info\"><p>这个选项卡其实妙用无穷，下面这篇文章对此有诸多说明，推荐一看：\n[Hexo Theme Next Test](https://almostover.ru/2016-01/hexo-theme-next-test/)</p></div>\n\n\n<h4 id=\"按钮\"><a href=\"#按钮\" class=\"headerlink\" title=\"按钮\"></a>按钮</h4><figure class=\"highlight html\"><figcaption><span>按钮示例源码</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% btn https://www.baidu.com, 点击下载百度, download fa-lg fa-fw %&#125;</span><br></pre></td></tr></table></figure>\n<p>效果：<a class=\"btn\" href=\"https://www.baidu.com\" target=\"_blank\" rel=\"noopener\"><i class=\"fa fa-download fa-lg fa-fw\"></i>点击下载百度</a></p>\n<p>关于按钮的更多使用也可以前往上面说到的<a href=\"https://almostover.ru/2016-01/hexo-theme-next-test/\" target=\"_blank\" rel=\"noopener\">这篇文章</a>里去查看。</p>\n<h3 id=\"自定义样式\"><a href=\"#自定义样式\" class=\"headerlink\" title=\"自定义样式\"></a>自定义样式</h3><p>如果你曾经像我一样跟随那些大佬博主们折腾过自己的博客主题，那么你一定明白所谓自定义样式，就是将 CSS 代码加到<code>custom.styl</code>中，如果你和我一样对这方面一窍不通可以在<a href=\"http://www.divcss5.com/rumen/r3.shtml\" target=\"_blank\" rel=\"noopener\">这里</a>了解了解 CSS 中id和class的知识。</p>\n<p>由于这方面我并不太了解就不多说什么了，推荐大家去看一个很少女心的博主<span class=\"label primary\">千灵夙赋</span>的这篇文章：<a href=\"https://qianling.pw/style/#TOC%E6%95%B0%E5%AD%97%E5%9D%97\" target=\"_blank\" rel=\"noopener\">外部样式表汇总</a></p>\n<h2 id=\"致谢\"><a href=\"#致谢\" class=\"headerlink\" title=\"致谢\"></a>致谢</h2><p>刚建博客的前两天，看了好多博主的博客，感叹各位博主的创造力与审美，同时也偷偷模仿了几位博主的博客样式，虽说学的有些不伦不类，不过大概也不会有大的改动了，毕竟建博客的初衷是为了记录，版式的设计为的是营造舒心方便的创作环境。</p>\n<p>接下来就要认真考虑写什么、怎么写的问题，于是就有了本篇博文的诞生，由于以前有使用 Rmarkdown 的经历，所以学起来倒也省了许多气力，目前来看上面的写作样式已经足以让我尽情展现了，在此特别感谢无私整合资源的各位博主们，接下来的日子里就是真正输出内容的时候了，会涉及R和Python的学习心得以及自己做的数据报告，还会有Kaggle的大神代码解析或其他的一些有的没的，要不要考虑加个书单页和观影页嗯？<br>总之，明天又是美好的一天，加油！</p>\n<blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><ul>\n<li><a href=\"https://qianling.pw/style/#TOC%E6%95%B0%E5%AD%97%E5%9D%97\" target=\"_blank\" rel=\"noopener\">外部样式表汇总</a></li>\n<li><a href=\"https://almostover.ru/2016-01/hexo-theme-next-test/\" target=\"_blank\" rel=\"noopener\">Hexo Theme Next Test</a></li>\n<li><a href=\"http://suo.im/1sH1k7\" target=\"_blank\" rel=\"noopener\">Markdown - 简单的世界</a></li>\n<li><a href=\"http://suo.im/3Q8rcF\" target=\"_blank\" rel=\"noopener\">Cmd Markdown 语法手册</a></li>\n<li><a href=\"http://suo.im/qRryw\" target=\"_blank\" rel=\"noopener\">HEXO下的语法高亮拓展修改</a></li>\n<li><a href=\"http://www.divcss5.com/rumen/r3.shtml\" target=\"_blank\" rel=\"noopener\">CSS中的class与id区别及用法</a></li>\n<li><a href=\"http://suo.im/2Ch7H3\" target=\"_blank\" rel=\"noopener\">HEXO下的Markdown语法(GFM)写博客</a></li>\n<li><a href=\"http://suo.im/2sHCA0\" target=\"_blank\" rel=\"noopener\">打造个性超赞博客Hexo+NexT+GithubPages的超深度优化</a></li>\n</ul>\n</blockquote>"},{"title":"回归分析系列1-统计概念基础","date":"2018-03-10T04:19:00.000Z","copyright":true,"mathjax":true,"notshow":true,"_content":"\n<center><i>\n    尽管定量研究的结论建立在一定假设条件上，不一定具有普遍意义，但定量研究方法却是研究社会现象不可缺少的工具。<br>这是因为，如果没有这种方法，我们就无法很好地捕捉和表述研究对象的变异性\n</i></center>\n\n<br>![系列1封面.jpg](http://p31gihke0.bkt.clouddn.com/系列1封面.jpg)\n<!--more-->\n\n## 本节综述\n本章着重介绍一些最基本的统计概念，比如总体、样本、随机变量、概率、期望、方差、标准差、协方差和相关系数等。这些概念着似简单，但却是线性回归方法的基础。只有真正熟练掌握并理解这些概念，才能在后面的学习中游刃有余。\n\n## 概念掌握\n### 期望与条件期望\n1. 期望\n离散型： $E(X)=\\sum_{i=1}^{n}x_{i}P(x_{i})$  \n连续型： $E(X)=\\int_{-\\infty }^{+\\infty}xf(x)dx$ \n<div class=\"note info\"><p>期望其实与均值类似，是个平均数，但两者之间的区别在于均值是根据某一变量的一系列已知取值求得的，因此，均值往往被特定地用来指称样本的一个特征，而期望代表的是整个总体的平均数、一个未知的总体参数，因此，它只是一个理论值。</p></div>\n2. 条件期望\n离散型：$E(Y|X=x_{i})=\\sum_{i=1}^{n}y_{i}p(Y=y_{i}|X=x_{i})$\n连续型：$E(Y|X)=\\int yf_{Y|X}(y|x)dy$\n<div class=\"note info\"><p>条件期望有以下性质：<br>\n2.1 若 X 与 Y 相互独立，则 $E(Y|X)=E(Y)$ <br>\n2.2 若 $k_{1}$,$k_{2}$ 为常数，则 $E[(k_{1}Y_{1}+k_{2}Y_{2})|X]=k_{1}E(Y_{1}|X)+k_{2}E(Y_{2}|X)$ <br>\n2.3 全期望公式/迭代期望法则 $E(Y)=E_{x}[E(Y|X)]$</p></div>\n\n![1_1 期望迭代法则.jpg](http://p31gihke0.bkt.clouddn.com/1_1 期望迭代法则.jpg)\n\n### 总体方差与样本方差\n1. 总体方差\n$$\n\\begin{align*} \n  Var(X)&=\\sum_{i=1}^{n}[x_{i}-E(X)]^{2}P(x_{i}) \\\\ \n  & \\\\\n  &=E[X-E(X)]^{2} \\\\  \n  & \\\\\n  &=E(X^{2})-[E(X)]^{2} \n\\end{align*}\n$$\n2. 样本方差\n$$\nS^{2}=\\frac{1}{n-1}\\sum_{i=1}^{n}(x_{i}-\\bar{X})^{2}\n$$\n\n### 总体标准差、样本标准差与标准误\n总体标准差：$\\sigma (X)=\\sqrt{Var(X)}$\n样本标准差：$S=\\sqrt{S^{2}}$\n标准误：$S.E.=\\sigma /\\sqrt{n}$\n\n![1_2 三种分布.PNG](http://p31gihke0.bkt.clouddn.com/1_2 三种分布.PNG)\n\n### 标准化随机变量\n$$z=\\frac{X-E(X)}{\\sigma (X)}$$\n在多元线性回归中，由于不同自变量的测量单位通常并不一致，因而得到的回归系数通常也不能直接进行相对大小的比较。但如果我们对随机变量进行标准化，消除了变量各自测量单位的影响，得到的标准化回归系数之间就能够进行比较了。标准化经常被用来解决由于变量测量单位不同而导致的结果不可比的问题。\n<div class=\"note info\"><p>标准化以后的新变量变成了一个均值为0 、方差为1 的变量。</p></div>\n\n### 协方差与相关系数\n1. 总体协方差\n协方差用于测量两个随机变量之间的线性关系。注意，这里强调了 **线性** 这个词。\n$$\n\\begin{align*} \n Cov(X,Y)&=\\sum_{i}\\sum_{j}[x_{i}-E(X)][y_{i}-E(Y)]P(x_{i},y_{i}) \\\\ \n & \\\\\n &=E\\left \\{[X-E(X)][Y-E(Y)] \\right \\}  \\\\ \n & \\\\\n &=E(XY)-E(X)E(Y) \n\\end{align*}\n$$\n<div class=\"note primary\"><p>其实，方差是协方差的一个特例，也就是说，X 的方差就是X 与其自身的协方差。</p></div>\n2. 总体相关系数\n$$\n\\rho (X,Y)=\\frac{Cov(X,Y)}{\\sigma (X)\\sigma (Y)}\n$$\n3. 样本协方差\n$$\nS_{yx}=\\frac{\\sum_{i=1}^{n}(x_{i}-\\bar{x})(y_{i}-\\bar{y})}{n-1}\n$$\n4. 样本相关系数\n$$\n\\begin{align*} \n S_{yx}&=\\frac{\\sum_{i=1}^{n}(x_{i}-\\bar{x})(y_{i}-\\bar{y})}{n-1} \\\\ \n & \\\\\n &\\xrightarrow[standardized]{z_{i}=\\frac{y_{i}-\\bar{y}}{S_{y}}} \\\\ \n & \\\\\n r_{yx}&=\\frac{1}{n-1}\\sum_{i=1}^{n} (\\frac{y_{i}-\\bar(y)}{s_{y}}) (\\frac{x_{i}-\\bar(x)}{s_{x}}) \\\\\n & \\\\\n &= S_{yx}/S_yS_x \\\\\n & \\\\\n &=\\frac{\\sum_{i=1}^{n} (y_{i}-\\bar(y)) (x_{i}-\\bar(x))}{\\sqrt{\\sum_{i=1}^{n} (y_{i}-\\bar(y))^2 (x_{i}-\\bar(x))^2}}\n\\end{align*}\n$$\n<div class=\"note primary\"><p>相关系数，即标准化协方差，消除了量纲的影响，所以相关系数之间可以直接进行比较，刻画了线性相关关系的强弱与方向。</p></div>\n\n## 性质掌握\n### 随机变量的和与差\n1. 如果X 和Y 是两个随机变量，那么X+Y 的期望与方差为:\n期望：$E(X+Y)=E(X)+E(Y)$\n方差：$Var(X+Y)=Var(X)+Var(Y)+2Cov(X,Y)$\n<div class=\"note info\"><p>作为特例，如果X 和Y 相互独立，并且都服从正态分布，它们的和将服从均值为μ1+μ2、方差为σ1²+σ2² 的正态分布。</p></div>\n2. 如果X 和Y 是两个随机变量，那么X-Y 的期望与方差为：\n期望：$E(X-Y)=E(X)-E(Y)$\n方差：$Var(X-Y)=Var(X)+Var(Y)-2Cov(X,Y)$\n<div class=\"note info\"><p>作为特例，如果X 和Y 相互独立，并且都服从正态分布，它们的差将服从均值为μ1-μ2、方差为σ1²+σ2² 的正态分布。</p></div>\n3. 依此类推，如果 $T=X_1 +X_2 +...+X_s$ 是S 个独立随机变量的和，那么T 的期望与方差为:\n期望：$E(T)=\\sum_{i=1}^{S}E(X_{i})$\n方差：$Var(T)=\\sum_{i=1}^{S}Var(X_{i})$\n\n\n### 期望的简单代数运算性质\n$$E(a+bX)=a+bE(X)$$\n\n### 方差的简单代数运算性质\n$$Var(a+bX)=b^2Var(X)$$\n\n### 协方差的简单代数运算性质\n1. $Cov(X,X)=Var(X)$\n2. $Cov(X,Y)=Cov(Y,X)$\n3. $Cov(C,Y)=0$，C 为任意常数\n4. $Cov(X_{1}+X_{2},Y)=Cov(X_{1},Y)+Cov(X_{2},Y)$\n5. $Cov(a+bX,c+dY)=bd[Cov(X,Y)]$\n<div class=\"note warning\"><p>再次强调，对于方差和协方差，其变化只涉及测度，而不涉及位置。</p></div>\n6. $\\rho (a+bX,c+dY)=\\rho (X,Y)$\n<div class=\"note warning\"><p>这个性质表明，无论是测度变化还是位置变化都不会影响相关系数。</p></div>\n\n## 下节引读\n由于个体异质性的存在，我们不能利用样本对总体中的个体进行任何推断，但是，概括性的总体特征——**参数**是相对稳定的，总体参数可以通过总体中的一个样本构建**样本统计量**来进行估计。\n然而，样本提供的信息是有限的。那么，接下来的问题就在于如何依据样本信息来认识所研究的总体。统计推断在这里扮演着关键角色。所谓统计推断，就是通过样本统计量来推断未知的总体参数。\n\n> ### 参考文章\n> [1]谢宇著.回归分析[M].北京：社会科学文献出版社.2010.","source":"_posts/2018-03-10-回归分析系列1-统计概念基础.md","raw":"---\ntitle: 回归分析系列1-统计概念基础\ndate: 2018-03-10 12:19:00\ncategories: 回归分析\ntags: \n    - 回归分析\n    - 统计\ncopyright: true\nmathjax: true\nnotshow: true\n---\n\n<center><i>\n    尽管定量研究的结论建立在一定假设条件上，不一定具有普遍意义，但定量研究方法却是研究社会现象不可缺少的工具。<br>这是因为，如果没有这种方法，我们就无法很好地捕捉和表述研究对象的变异性\n</i></center>\n\n<br>![系列1封面.jpg](http://p31gihke0.bkt.clouddn.com/系列1封面.jpg)\n<!--more-->\n\n## 本节综述\n本章着重介绍一些最基本的统计概念，比如总体、样本、随机变量、概率、期望、方差、标准差、协方差和相关系数等。这些概念着似简单，但却是线性回归方法的基础。只有真正熟练掌握并理解这些概念，才能在后面的学习中游刃有余。\n\n## 概念掌握\n### 期望与条件期望\n1. 期望\n离散型： $E(X)=\\sum_{i=1}^{n}x_{i}P(x_{i})$  \n连续型： $E(X)=\\int_{-\\infty }^{+\\infty}xf(x)dx$ \n<div class=\"note info\"><p>期望其实与均值类似，是个平均数，但两者之间的区别在于均值是根据某一变量的一系列已知取值求得的，因此，均值往往被特定地用来指称样本的一个特征，而期望代表的是整个总体的平均数、一个未知的总体参数，因此，它只是一个理论值。</p></div>\n2. 条件期望\n离散型：$E(Y|X=x_{i})=\\sum_{i=1}^{n}y_{i}p(Y=y_{i}|X=x_{i})$\n连续型：$E(Y|X)=\\int yf_{Y|X}(y|x)dy$\n<div class=\"note info\"><p>条件期望有以下性质：<br>\n2.1 若 X 与 Y 相互独立，则 $E(Y|X)=E(Y)$ <br>\n2.2 若 $k_{1}$,$k_{2}$ 为常数，则 $E[(k_{1}Y_{1}+k_{2}Y_{2})|X]=k_{1}E(Y_{1}|X)+k_{2}E(Y_{2}|X)$ <br>\n2.3 全期望公式/迭代期望法则 $E(Y)=E_{x}[E(Y|X)]$</p></div>\n\n![1_1 期望迭代法则.jpg](http://p31gihke0.bkt.clouddn.com/1_1 期望迭代法则.jpg)\n\n### 总体方差与样本方差\n1. 总体方差\n$$\n\\begin{align*} \n  Var(X)&=\\sum_{i=1}^{n}[x_{i}-E(X)]^{2}P(x_{i}) \\\\ \n  & \\\\\n  &=E[X-E(X)]^{2} \\\\  \n  & \\\\\n  &=E(X^{2})-[E(X)]^{2} \n\\end{align*}\n$$\n2. 样本方差\n$$\nS^{2}=\\frac{1}{n-1}\\sum_{i=1}^{n}(x_{i}-\\bar{X})^{2}\n$$\n\n### 总体标准差、样本标准差与标准误\n总体标准差：$\\sigma (X)=\\sqrt{Var(X)}$\n样本标准差：$S=\\sqrt{S^{2}}$\n标准误：$S.E.=\\sigma /\\sqrt{n}$\n\n![1_2 三种分布.PNG](http://p31gihke0.bkt.clouddn.com/1_2 三种分布.PNG)\n\n### 标准化随机变量\n$$z=\\frac{X-E(X)}{\\sigma (X)}$$\n在多元线性回归中，由于不同自变量的测量单位通常并不一致，因而得到的回归系数通常也不能直接进行相对大小的比较。但如果我们对随机变量进行标准化，消除了变量各自测量单位的影响，得到的标准化回归系数之间就能够进行比较了。标准化经常被用来解决由于变量测量单位不同而导致的结果不可比的问题。\n<div class=\"note info\"><p>标准化以后的新变量变成了一个均值为0 、方差为1 的变量。</p></div>\n\n### 协方差与相关系数\n1. 总体协方差\n协方差用于测量两个随机变量之间的线性关系。注意，这里强调了 **线性** 这个词。\n$$\n\\begin{align*} \n Cov(X,Y)&=\\sum_{i}\\sum_{j}[x_{i}-E(X)][y_{i}-E(Y)]P(x_{i},y_{i}) \\\\ \n & \\\\\n &=E\\left \\{[X-E(X)][Y-E(Y)] \\right \\}  \\\\ \n & \\\\\n &=E(XY)-E(X)E(Y) \n\\end{align*}\n$$\n<div class=\"note primary\"><p>其实，方差是协方差的一个特例，也就是说，X 的方差就是X 与其自身的协方差。</p></div>\n2. 总体相关系数\n$$\n\\rho (X,Y)=\\frac{Cov(X,Y)}{\\sigma (X)\\sigma (Y)}\n$$\n3. 样本协方差\n$$\nS_{yx}=\\frac{\\sum_{i=1}^{n}(x_{i}-\\bar{x})(y_{i}-\\bar{y})}{n-1}\n$$\n4. 样本相关系数\n$$\n\\begin{align*} \n S_{yx}&=\\frac{\\sum_{i=1}^{n}(x_{i}-\\bar{x})(y_{i}-\\bar{y})}{n-1} \\\\ \n & \\\\\n &\\xrightarrow[standardized]{z_{i}=\\frac{y_{i}-\\bar{y}}{S_{y}}} \\\\ \n & \\\\\n r_{yx}&=\\frac{1}{n-1}\\sum_{i=1}^{n} (\\frac{y_{i}-\\bar(y)}{s_{y}}) (\\frac{x_{i}-\\bar(x)}{s_{x}}) \\\\\n & \\\\\n &= S_{yx}/S_yS_x \\\\\n & \\\\\n &=\\frac{\\sum_{i=1}^{n} (y_{i}-\\bar(y)) (x_{i}-\\bar(x))}{\\sqrt{\\sum_{i=1}^{n} (y_{i}-\\bar(y))^2 (x_{i}-\\bar(x))^2}}\n\\end{align*}\n$$\n<div class=\"note primary\"><p>相关系数，即标准化协方差，消除了量纲的影响，所以相关系数之间可以直接进行比较，刻画了线性相关关系的强弱与方向。</p></div>\n\n## 性质掌握\n### 随机变量的和与差\n1. 如果X 和Y 是两个随机变量，那么X+Y 的期望与方差为:\n期望：$E(X+Y)=E(X)+E(Y)$\n方差：$Var(X+Y)=Var(X)+Var(Y)+2Cov(X,Y)$\n<div class=\"note info\"><p>作为特例，如果X 和Y 相互独立，并且都服从正态分布，它们的和将服从均值为μ1+μ2、方差为σ1²+σ2² 的正态分布。</p></div>\n2. 如果X 和Y 是两个随机变量，那么X-Y 的期望与方差为：\n期望：$E(X-Y)=E(X)-E(Y)$\n方差：$Var(X-Y)=Var(X)+Var(Y)-2Cov(X,Y)$\n<div class=\"note info\"><p>作为特例，如果X 和Y 相互独立，并且都服从正态分布，它们的差将服从均值为μ1-μ2、方差为σ1²+σ2² 的正态分布。</p></div>\n3. 依此类推，如果 $T=X_1 +X_2 +...+X_s$ 是S 个独立随机变量的和，那么T 的期望与方差为:\n期望：$E(T)=\\sum_{i=1}^{S}E(X_{i})$\n方差：$Var(T)=\\sum_{i=1}^{S}Var(X_{i})$\n\n\n### 期望的简单代数运算性质\n$$E(a+bX)=a+bE(X)$$\n\n### 方差的简单代数运算性质\n$$Var(a+bX)=b^2Var(X)$$\n\n### 协方差的简单代数运算性质\n1. $Cov(X,X)=Var(X)$\n2. $Cov(X,Y)=Cov(Y,X)$\n3. $Cov(C,Y)=0$，C 为任意常数\n4. $Cov(X_{1}+X_{2},Y)=Cov(X_{1},Y)+Cov(X_{2},Y)$\n5. $Cov(a+bX,c+dY)=bd[Cov(X,Y)]$\n<div class=\"note warning\"><p>再次强调，对于方差和协方差，其变化只涉及测度，而不涉及位置。</p></div>\n6. $\\rho (a+bX,c+dY)=\\rho (X,Y)$\n<div class=\"note warning\"><p>这个性质表明，无论是测度变化还是位置变化都不会影响相关系数。</p></div>\n\n## 下节引读\n由于个体异质性的存在，我们不能利用样本对总体中的个体进行任何推断，但是，概括性的总体特征——**参数**是相对稳定的，总体参数可以通过总体中的一个样本构建**样本统计量**来进行估计。\n然而，样本提供的信息是有限的。那么，接下来的问题就在于如何依据样本信息来认识所研究的总体。统计推断在这里扮演着关键角色。所谓统计推断，就是通过样本统计量来推断未知的总体参数。\n\n> ### 参考文章\n> [1]谢宇著.回归分析[M].北京：社会科学文献出版社.2010.","slug":"2018-03-10-回归分析系列1-统计概念基础","published":1,"updated":"2018-07-07T11:09:32.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60j10007jsuv4z98h64f","content":"<center><i>\n    尽管定量研究的结论建立在一定假设条件上，不一定具有普遍意义，但定量研究方法却是研究社会现象不可缺少的工具。<br>这是因为，如果没有这种方法，我们就无法很好地捕捉和表述研究对象的变异性\n</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/系列1封面.jpg\" alt=\"系列1封面.jpg\"><br><a id=\"more\"></a></p>\n<h2 id=\"本节综述\"><a href=\"#本节综述\" class=\"headerlink\" title=\"本节综述\"></a>本节综述</h2><p>本章着重介绍一些最基本的统计概念，比如总体、样本、随机变量、概率、期望、方差、标准差、协方差和相关系数等。这些概念着似简单，但却是线性回归方法的基础。只有真正熟练掌握并理解这些概念，才能在后面的学习中游刃有余。</p>\n<h2 id=\"概念掌握\"><a href=\"#概念掌握\" class=\"headerlink\" title=\"概念掌握\"></a>概念掌握</h2><h3 id=\"期望与条件期望\"><a href=\"#期望与条件期望\" class=\"headerlink\" title=\"期望与条件期望\"></a>期望与条件期望</h3><ol>\n<li>期望<br>离散型： $E(X)=\\sum_{i=1}^{n}x_{i}P(x_{i})$<br>连续型： $E(X)=\\int_{-\\infty }^{+\\infty}xf(x)dx$ <div class=\"note info\"><p>期望其实与均值类似，是个平均数，但两者之间的区别在于均值是根据某一变量的一系列已知取值求得的，因此，均值往往被特定地用来指称样本的一个特征，而期望代表的是整个总体的平均数、一个未知的总体参数，因此，它只是一个理论值。</p></div></li>\n<li>条件期望<br>离散型：$E(Y|X=x_{i})=\\sum_{i=1}^{n}y_{i}p(Y=y_{i}|X=x_{i})$<br>连续型：$E(Y|X)=\\int yf_{Y|X}(y|x)dy$<div class=\"note info\"><p>条件期望有以下性质：<br>\n2.1 若 X 与 Y 相互独立，则 $E(Y|X)=E(Y)$ <br>\n2.2 若 $k_{1}$,$k_{2}$ 为常数，则 $E[(k_{1}Y_{1}+k_{2}Y_{2})|X]=k_{1}E(Y_{1}|X)+k_{2}E(Y_{2}|X)$ <br>\n2.3 全期望公式/迭代期望法则 $E(Y)=E_{x}[E(Y|X)]$</p></div>\n\n</li>\n</ol>\n<p><img src=\"http://p31gihke0.bkt.clouddn.com/1_1 期望迭代法则.jpg\" alt=\"1_1 期望迭代法则.jpg\"></p>\n<h3 id=\"总体方差与样本方差\"><a href=\"#总体方差与样本方差\" class=\"headerlink\" title=\"总体方差与样本方差\"></a>总体方差与样本方差</h3><ol>\n<li>总体方差<script type=\"math/tex; mode=display\">\n\\begin{align*} \nVar(X)&=\\sum_{i=1}^{n}[x_{i}-E(X)]^{2}P(x_{i}) \\\\ \n& \\\\\n&=E[X-E(X)]^{2} \\\\  \n& \\\\\n&=E(X^{2})-[E(X)]^{2} \n\\end{align*}</script></li>\n<li>样本方差<script type=\"math/tex; mode=display\">\nS^{2}=\\frac{1}{n-1}\\sum_{i=1}^{n}(x_{i}-\\bar{X})^{2}</script></li>\n</ol>\n<h3 id=\"总体标准差、样本标准差与标准误\"><a href=\"#总体标准差、样本标准差与标准误\" class=\"headerlink\" title=\"总体标准差、样本标准差与标准误\"></a>总体标准差、样本标准差与标准误</h3><p>总体标准差：$\\sigma (X)=\\sqrt{Var(X)}$<br>样本标准差：$S=\\sqrt{S^{2}}$<br>标准误：$S.E.=\\sigma /\\sqrt{n}$</p>\n<p><img src=\"http://p31gihke0.bkt.clouddn.com/1_2 三种分布.PNG\" alt=\"1_2 三种分布.PNG\"></p>\n<h3 id=\"标准化随机变量\"><a href=\"#标准化随机变量\" class=\"headerlink\" title=\"标准化随机变量\"></a>标准化随机变量</h3><script type=\"math/tex; mode=display\">z=\\frac{X-E(X)}{\\sigma (X)}</script><p>在多元线性回归中，由于不同自变量的测量单位通常并不一致，因而得到的回归系数通常也不能直接进行相对大小的比较。但如果我们对随机变量进行标准化，消除了变量各自测量单位的影响，得到的标准化回归系数之间就能够进行比较了。标准化经常被用来解决由于变量测量单位不同而导致的结果不可比的问题。</p>\n<div class=\"note info\"><p>标准化以后的新变量变成了一个均值为0 、方差为1 的变量。</p></div>\n\n<h3 id=\"协方差与相关系数\"><a href=\"#协方差与相关系数\" class=\"headerlink\" title=\"协方差与相关系数\"></a>协方差与相关系数</h3><ol>\n<li>总体协方差<br>协方差用于测量两个随机变量之间的线性关系。注意，这里强调了 <strong>线性</strong> 这个词。<script type=\"math/tex; mode=display\">\n\\begin{align*} \nCov(X,Y)&=\\sum_{i}\\sum_{j}[x_{i}-E(X)][y_{i}-E(Y)]P(x_{i},y_{i}) \\\\ \n& \\\\\n&=E\\left \\{[X-E(X)][Y-E(Y)] \\right \\}  \\\\ \n& \\\\\n&=E(XY)-E(X)E(Y) \n\\end{align*}</script><div class=\"note primary\"><p>其实，方差是协方差的一个特例，也就是说，X 的方差就是X 与其自身的协方差。</p></div></li>\n<li>总体相关系数<script type=\"math/tex; mode=display\">\n\\rho (X,Y)=\\frac{Cov(X,Y)}{\\sigma (X)\\sigma (Y)}</script></li>\n<li>样本协方差<script type=\"math/tex; mode=display\">\nS_{yx}=\\frac{\\sum_{i=1}^{n}(x_{i}-\\bar{x})(y_{i}-\\bar{y})}{n-1}</script></li>\n<li>样本相关系数<script type=\"math/tex; mode=display\">\n\\begin{align*} \nS_{yx}&=\\frac{\\sum_{i=1}^{n}(x_{i}-\\bar{x})(y_{i}-\\bar{y})}{n-1} \\\\ \n& \\\\\n&\\xrightarrow[standardized]{z_{i}=\\frac{y_{i}-\\bar{y}}{S_{y}}} \\\\ \n& \\\\\nr_{yx}&=\\frac{1}{n-1}\\sum_{i=1}^{n} (\\frac{y_{i}-\\bar(y)}{s_{y}}) (\\frac{x_{i}-\\bar(x)}{s_{x}}) \\\\\n& \\\\\n&= S_{yx}/S_yS_x \\\\\n& \\\\\n&=\\frac{\\sum_{i=1}^{n} (y_{i}-\\bar(y)) (x_{i}-\\bar(x))}{\\sqrt{\\sum_{i=1}^{n} (y_{i}-\\bar(y))^2 (x_{i}-\\bar(x))^2}}\n\\end{align*}</script><div class=\"note primary\"><p>相关系数，即标准化协方差，消除了量纲的影响，所以相关系数之间可以直接进行比较，刻画了线性相关关系的强弱与方向。</p></div>\n\n</li>\n</ol>\n<h2 id=\"性质掌握\"><a href=\"#性质掌握\" class=\"headerlink\" title=\"性质掌握\"></a>性质掌握</h2><h3 id=\"随机变量的和与差\"><a href=\"#随机变量的和与差\" class=\"headerlink\" title=\"随机变量的和与差\"></a>随机变量的和与差</h3><ol>\n<li>如果X 和Y 是两个随机变量，那么X+Y 的期望与方差为:<br>期望：$E(X+Y)=E(X)+E(Y)$<br>方差：$Var(X+Y)=Var(X)+Var(Y)+2Cov(X,Y)$<div class=\"note info\"><p>作为特例，如果X 和Y 相互独立，并且都服从正态分布，它们的和将服从均值为μ1+μ2、方差为σ1²+σ2² 的正态分布。</p></div></li>\n<li>如果X 和Y 是两个随机变量，那么X-Y 的期望与方差为：<br>期望：$E(X-Y)=E(X)-E(Y)$<br>方差：$Var(X-Y)=Var(X)+Var(Y)-2Cov(X,Y)$<div class=\"note info\"><p>作为特例，如果X 和Y 相互独立，并且都服从正态分布，它们的差将服从均值为μ1-μ2、方差为σ1²+σ2² 的正态分布。</p></div></li>\n<li>依此类推，如果 $T=X_1 +X_2 +…+X_s$ 是S 个独立随机变量的和，那么T 的期望与方差为:<br>期望：$E(T)=\\sum_{i=1}^{S}E(X_{i})$<br>方差：$Var(T)=\\sum_{i=1}^{S}Var(X_{i})$</li>\n</ol>\n<h3 id=\"期望的简单代数运算性质\"><a href=\"#期望的简单代数运算性质\" class=\"headerlink\" title=\"期望的简单代数运算性质\"></a>期望的简单代数运算性质</h3><script type=\"math/tex; mode=display\">E(a+bX)=a+bE(X)</script><h3 id=\"方差的简单代数运算性质\"><a href=\"#方差的简单代数运算性质\" class=\"headerlink\" title=\"方差的简单代数运算性质\"></a>方差的简单代数运算性质</h3><script type=\"math/tex; mode=display\">Var(a+bX)=b^2Var(X)</script><h3 id=\"协方差的简单代数运算性质\"><a href=\"#协方差的简单代数运算性质\" class=\"headerlink\" title=\"协方差的简单代数运算性质\"></a>协方差的简单代数运算性质</h3><ol>\n<li>$Cov(X,X)=Var(X)$</li>\n<li>$Cov(X,Y)=Cov(Y,X)$</li>\n<li>$Cov(C,Y)=0$，C 为任意常数</li>\n<li>$Cov(X_{1}+X_{2},Y)=Cov(X_{1},Y)+Cov(X_{2},Y)$</li>\n<li>$Cov(a+bX,c+dY)=bd[Cov(X,Y)]$<div class=\"note warning\"><p>再次强调，对于方差和协方差，其变化只涉及测度，而不涉及位置。</p></div></li>\n<li>$\\rho (a+bX,c+dY)=\\rho (X,Y)$<div class=\"note warning\"><p>这个性质表明，无论是测度变化还是位置变化都不会影响相关系数。</p></div>\n\n</li>\n</ol>\n<h2 id=\"下节引读\"><a href=\"#下节引读\" class=\"headerlink\" title=\"下节引读\"></a>下节引读</h2><p>由于个体异质性的存在，我们不能利用样本对总体中的个体进行任何推断，但是，概括性的总体特征——<strong>参数</strong>是相对稳定的，总体参数可以通过总体中的一个样本构建<strong>样本统计量</strong>来进行估计。<br>然而，样本提供的信息是有限的。那么，接下来的问题就在于如何依据样本信息来认识所研究的总体。统计推断在这里扮演着关键角色。所谓统计推断，就是通过样本统计量来推断未知的总体参数。</p>\n<blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><p>[1]谢宇著.回归分析[M].北京：社会科学文献出版社.2010.</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<center><i>\n    尽管定量研究的结论建立在一定假设条件上，不一定具有普遍意义，但定量研究方法却是研究社会现象不可缺少的工具。<br>这是因为，如果没有这种方法，我们就无法很好地捕捉和表述研究对象的变异性\n</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/系列1封面.jpg\" alt=\"系列1封面.jpg\"><br>","more":"</p>\n<h2 id=\"本节综述\"><a href=\"#本节综述\" class=\"headerlink\" title=\"本节综述\"></a>本节综述</h2><p>本章着重介绍一些最基本的统计概念，比如总体、样本、随机变量、概率、期望、方差、标准差、协方差和相关系数等。这些概念着似简单，但却是线性回归方法的基础。只有真正熟练掌握并理解这些概念，才能在后面的学习中游刃有余。</p>\n<h2 id=\"概念掌握\"><a href=\"#概念掌握\" class=\"headerlink\" title=\"概念掌握\"></a>概念掌握</h2><h3 id=\"期望与条件期望\"><a href=\"#期望与条件期望\" class=\"headerlink\" title=\"期望与条件期望\"></a>期望与条件期望</h3><ol>\n<li>期望<br>离散型： $E(X)=\\sum_{i=1}^{n}x_{i}P(x_{i})$<br>连续型： $E(X)=\\int_{-\\infty }^{+\\infty}xf(x)dx$ <div class=\"note info\"><p>期望其实与均值类似，是个平均数，但两者之间的区别在于均值是根据某一变量的一系列已知取值求得的，因此，均值往往被特定地用来指称样本的一个特征，而期望代表的是整个总体的平均数、一个未知的总体参数，因此，它只是一个理论值。</p></div></li>\n<li>条件期望<br>离散型：$E(Y|X=x_{i})=\\sum_{i=1}^{n}y_{i}p(Y=y_{i}|X=x_{i})$<br>连续型：$E(Y|X)=\\int yf_{Y|X}(y|x)dy$<div class=\"note info\"><p>条件期望有以下性质：<br>\n2.1 若 X 与 Y 相互独立，则 $E(Y|X)=E(Y)$ <br>\n2.2 若 $k_{1}$,$k_{2}$ 为常数，则 $E[(k_{1}Y_{1}+k_{2}Y_{2})|X]=k_{1}E(Y_{1}|X)+k_{2}E(Y_{2}|X)$ <br>\n2.3 全期望公式/迭代期望法则 $E(Y)=E_{x}[E(Y|X)]$</p></div>\n\n</li>\n</ol>\n<p><img src=\"http://p31gihke0.bkt.clouddn.com/1_1 期望迭代法则.jpg\" alt=\"1_1 期望迭代法则.jpg\"></p>\n<h3 id=\"总体方差与样本方差\"><a href=\"#总体方差与样本方差\" class=\"headerlink\" title=\"总体方差与样本方差\"></a>总体方差与样本方差</h3><ol>\n<li>总体方差<script type=\"math/tex; mode=display\">\n\\begin{align*} \nVar(X)&=\\sum_{i=1}^{n}[x_{i}-E(X)]^{2}P(x_{i}) \\\\ \n& \\\\\n&=E[X-E(X)]^{2} \\\\  \n& \\\\\n&=E(X^{2})-[E(X)]^{2} \n\\end{align*}</script></li>\n<li>样本方差<script type=\"math/tex; mode=display\">\nS^{2}=\\frac{1}{n-1}\\sum_{i=1}^{n}(x_{i}-\\bar{X})^{2}</script></li>\n</ol>\n<h3 id=\"总体标准差、样本标准差与标准误\"><a href=\"#总体标准差、样本标准差与标准误\" class=\"headerlink\" title=\"总体标准差、样本标准差与标准误\"></a>总体标准差、样本标准差与标准误</h3><p>总体标准差：$\\sigma (X)=\\sqrt{Var(X)}$<br>样本标准差：$S=\\sqrt{S^{2}}$<br>标准误：$S.E.=\\sigma /\\sqrt{n}$</p>\n<p><img src=\"http://p31gihke0.bkt.clouddn.com/1_2 三种分布.PNG\" alt=\"1_2 三种分布.PNG\"></p>\n<h3 id=\"标准化随机变量\"><a href=\"#标准化随机变量\" class=\"headerlink\" title=\"标准化随机变量\"></a>标准化随机变量</h3><script type=\"math/tex; mode=display\">z=\\frac{X-E(X)}{\\sigma (X)}</script><p>在多元线性回归中，由于不同自变量的测量单位通常并不一致，因而得到的回归系数通常也不能直接进行相对大小的比较。但如果我们对随机变量进行标准化，消除了变量各自测量单位的影响，得到的标准化回归系数之间就能够进行比较了。标准化经常被用来解决由于变量测量单位不同而导致的结果不可比的问题。</p>\n<div class=\"note info\"><p>标准化以后的新变量变成了一个均值为0 、方差为1 的变量。</p></div>\n\n<h3 id=\"协方差与相关系数\"><a href=\"#协方差与相关系数\" class=\"headerlink\" title=\"协方差与相关系数\"></a>协方差与相关系数</h3><ol>\n<li>总体协方差<br>协方差用于测量两个随机变量之间的线性关系。注意，这里强调了 <strong>线性</strong> 这个词。<script type=\"math/tex; mode=display\">\n\\begin{align*} \nCov(X,Y)&=\\sum_{i}\\sum_{j}[x_{i}-E(X)][y_{i}-E(Y)]P(x_{i},y_{i}) \\\\ \n& \\\\\n&=E\\left \\{[X-E(X)][Y-E(Y)] \\right \\}  \\\\ \n& \\\\\n&=E(XY)-E(X)E(Y) \n\\end{align*}</script><div class=\"note primary\"><p>其实，方差是协方差的一个特例，也就是说，X 的方差就是X 与其自身的协方差。</p></div></li>\n<li>总体相关系数<script type=\"math/tex; mode=display\">\n\\rho (X,Y)=\\frac{Cov(X,Y)}{\\sigma (X)\\sigma (Y)}</script></li>\n<li>样本协方差<script type=\"math/tex; mode=display\">\nS_{yx}=\\frac{\\sum_{i=1}^{n}(x_{i}-\\bar{x})(y_{i}-\\bar{y})}{n-1}</script></li>\n<li>样本相关系数<script type=\"math/tex; mode=display\">\n\\begin{align*} \nS_{yx}&=\\frac{\\sum_{i=1}^{n}(x_{i}-\\bar{x})(y_{i}-\\bar{y})}{n-1} \\\\ \n& \\\\\n&\\xrightarrow[standardized]{z_{i}=\\frac{y_{i}-\\bar{y}}{S_{y}}} \\\\ \n& \\\\\nr_{yx}&=\\frac{1}{n-1}\\sum_{i=1}^{n} (\\frac{y_{i}-\\bar(y)}{s_{y}}) (\\frac{x_{i}-\\bar(x)}{s_{x}}) \\\\\n& \\\\\n&= S_{yx}/S_yS_x \\\\\n& \\\\\n&=\\frac{\\sum_{i=1}^{n} (y_{i}-\\bar(y)) (x_{i}-\\bar(x))}{\\sqrt{\\sum_{i=1}^{n} (y_{i}-\\bar(y))^2 (x_{i}-\\bar(x))^2}}\n\\end{align*}</script><div class=\"note primary\"><p>相关系数，即标准化协方差，消除了量纲的影响，所以相关系数之间可以直接进行比较，刻画了线性相关关系的强弱与方向。</p></div>\n\n</li>\n</ol>\n<h2 id=\"性质掌握\"><a href=\"#性质掌握\" class=\"headerlink\" title=\"性质掌握\"></a>性质掌握</h2><h3 id=\"随机变量的和与差\"><a href=\"#随机变量的和与差\" class=\"headerlink\" title=\"随机变量的和与差\"></a>随机变量的和与差</h3><ol>\n<li>如果X 和Y 是两个随机变量，那么X+Y 的期望与方差为:<br>期望：$E(X+Y)=E(X)+E(Y)$<br>方差：$Var(X+Y)=Var(X)+Var(Y)+2Cov(X,Y)$<div class=\"note info\"><p>作为特例，如果X 和Y 相互独立，并且都服从正态分布，它们的和将服从均值为μ1+μ2、方差为σ1²+σ2² 的正态分布。</p></div></li>\n<li>如果X 和Y 是两个随机变量，那么X-Y 的期望与方差为：<br>期望：$E(X-Y)=E(X)-E(Y)$<br>方差：$Var(X-Y)=Var(X)+Var(Y)-2Cov(X,Y)$<div class=\"note info\"><p>作为特例，如果X 和Y 相互独立，并且都服从正态分布，它们的差将服从均值为μ1-μ2、方差为σ1²+σ2² 的正态分布。</p></div></li>\n<li>依此类推，如果 $T=X_1 +X_2 +…+X_s$ 是S 个独立随机变量的和，那么T 的期望与方差为:<br>期望：$E(T)=\\sum_{i=1}^{S}E(X_{i})$<br>方差：$Var(T)=\\sum_{i=1}^{S}Var(X_{i})$</li>\n</ol>\n<h3 id=\"期望的简单代数运算性质\"><a href=\"#期望的简单代数运算性质\" class=\"headerlink\" title=\"期望的简单代数运算性质\"></a>期望的简单代数运算性质</h3><script type=\"math/tex; mode=display\">E(a+bX)=a+bE(X)</script><h3 id=\"方差的简单代数运算性质\"><a href=\"#方差的简单代数运算性质\" class=\"headerlink\" title=\"方差的简单代数运算性质\"></a>方差的简单代数运算性质</h3><script type=\"math/tex; mode=display\">Var(a+bX)=b^2Var(X)</script><h3 id=\"协方差的简单代数运算性质\"><a href=\"#协方差的简单代数运算性质\" class=\"headerlink\" title=\"协方差的简单代数运算性质\"></a>协方差的简单代数运算性质</h3><ol>\n<li>$Cov(X,X)=Var(X)$</li>\n<li>$Cov(X,Y)=Cov(Y,X)$</li>\n<li>$Cov(C,Y)=0$，C 为任意常数</li>\n<li>$Cov(X_{1}+X_{2},Y)=Cov(X_{1},Y)+Cov(X_{2},Y)$</li>\n<li>$Cov(a+bX,c+dY)=bd[Cov(X,Y)]$<div class=\"note warning\"><p>再次强调，对于方差和协方差，其变化只涉及测度，而不涉及位置。</p></div></li>\n<li>$\\rho (a+bX,c+dY)=\\rho (X,Y)$<div class=\"note warning\"><p>这个性质表明，无论是测度变化还是位置变化都不会影响相关系数。</p></div>\n\n</li>\n</ol>\n<h2 id=\"下节引读\"><a href=\"#下节引读\" class=\"headerlink\" title=\"下节引读\"></a>下节引读</h2><p>由于个体异质性的存在，我们不能利用样本对总体中的个体进行任何推断，但是，概括性的总体特征——<strong>参数</strong>是相对稳定的，总体参数可以通过总体中的一个样本构建<strong>样本统计量</strong>来进行估计。<br>然而，样本提供的信息是有限的。那么，接下来的问题就在于如何依据样本信息来认识所研究的总体。统计推断在这里扮演着关键角色。所谓统计推断，就是通过样本统计量来推断未知的总体参数。</p>\n<blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><p>[1]谢宇著.回归分析[M].北京：社会科学文献出版社.2010.</p>\n</blockquote>"},{"title":"回归分析系列3-简单线性回归","date":"2018-03-11T02:00:00.000Z","copyright":true,"mathjax":true,"notshow":true,"_content":"\n<center><i>\n    与大多数统计方法一样，回归也是一种简化数据的技术。<br>回归分析利用变量间的简单函数关系，用自变量对困变量进行\"预测\"，使\"预测值\"尽可能地接近因变量的\"观测值\" 。\n</i></center>\n\n<br>![封面3.PNG](http://p31gihke0.bkt.clouddn.com/封面3.PNG)\n<!--more-->\n\n## 本节综述\n简单线性回归属于回归分析中最基础的一部分内容，仅仅涉及到两个变量之间的线性关系，但其作为学习多元回归乃至其他更复杂统计方法的基础，所以本节将先从理解\"回归\"这一概念人手，并讨论只有一个因变量和一个自变量的简单线性回归模型。\n\n## 理解回归\n如何根据回归模型的构成形式理解回归模型的现实意义呢？在此，我们提出理解回归的三种视角：\n<div class=\"note info\"><p>\n    1. 因果性：观测项 = 机制项 + 干扰项<br>\n    2. 预测性：观测项 = 预测项 + 误差项<br>\n    3. 描述性：观测项 = 概括项 + 残差项\n</p></div>\n\n这三种理解方式提供了定量分析的三种不同视角：\n\n- 第一种方式接近于 **古典计量经济学** 的视角，这种方法试图找出具有决定性的模型并以此发现数据产生的机制。但当前更多的方法论研究者认为，所谓的\"真实\"模型并不存在，好的模型只是相对于其他模型而言更实用、更有意义或者更接近真实。\n- 第二种方式适用于 **工程学** 领域，它通常用于在已知一组自变量和因变量之间的关系后，应用新的数据给出有用的预测回答。这一理解方法的特点是我们只是通过经验规律来做预测，而对因果关系的机制不感兴趣或不在乎。\n- 第三种方式反映了当今 **定量社会科学和统计学** 的主流观点。它希望在不曲解数据的情况下利用模型概括数据的基本特征。这种方法与第一种方法的不同之处在于它并不关注模型是否\"真实\"，而只关注其是否符合已被观察到的事实。\n<div class=\"note primary\"><p>\n   在社会科学研究中，我们倾向于采用第三种视角，即统计模型的主要目标在于用最简单的结构和尽可能少的参数来概括大量数据所包含的主要信息。研究者需在精确性和简洁性之间进行权衡，从而找出最佳模型。\n</p></div>\n\n## 回归分析的步骤\n> 1. 问题的表述\n> 2. 变量的选择 - 专家论文、前人研究\n> 3. 数据的收集\n> 4. 模型设定 - 散点图、表达形式、基本假定\n> 5. 参数估计/模型拟合 - （加权）最小二乘法、极大似然法、岭估计法、主成分估计法\n> 6. 模型检验 - 假设检验、回归诊断\n> 7. 模型评价 - 拟合优度、交叉验证\n> 8. 解释预测\n\n<br>\n\n------\n\n## 简单线性回归模型\n### 模型设定1--表达形式\n开门见山，写出数学表达式：\n$$\ny_i=\\beta_0 + \\beta_1 x_i + \\epsilon_i\n$$\n<div class=\"note info\"><p>\n   这里：<br>\n   Y 是一个随机变量；<br>\n   X 虽被称作变量，但它的各个取值其实是已知的，只是其取值在不同的个体之间变动；<br>\n   ε 是随机误差项，假定其为服从均值为 0、方差为 σ² 的正态分布的随机变量。\n</p></div>\n\n对应指定的 $x_i$ 值，在一定的条件下，对公式求条件期望后得到 **总体回归方程**：\n$$\nE(Y|X=x_i) = \\mu_i = \\beta_0 + \\beta_1x_i\n$$\n它表示，对于每一个特定的取值 $x_i$，观测值 y 实际上都来自一个均值为 μ、方差为 σ² 的正态分布，回归直线将穿过点 $(x_i,\\mu_i)$，$\\beta_0$ 就是回归直线在 y 轴上的截距，而 $\\beta_1$ 则是回归直线的斜率。如下图所示：\n\n![3_1 回归直线.PNG](http://p31gihke0.bkt.clouddn.com/3_1 回归直线.PNG)\n\n无论回归模型还是回归方程，都是针对总体而言，是对总体恃征的总结和描述。所以，参数 $\\beta_0$ 和 $\\beta_1$ 也是总体的特征。当利用样本统计量 $b_0$ 和 $b_1$ 代替总体回归方程中的 $\\beta_0$ 和 $\\beta_1$ 时，就得到了 **估计的回归方程或经验回归方程**，其形式为：\n$$\n\\hat{y} = b_0 + b_1x_i\n$$\n同时，我们也可以得到观测值与估计值之差，称为残差，记作 $e_i$，它对应的是公式中的总体随机误差项 $\\epsilon_i$，观测值、估计值和残差这三者之间的关系可用下图加以说明。\n\n![3_2 经验回归直线.PNG](http://p31gihke0.bkt.clouddn.com/3_2 经验回归直线.PNG)\n\n<br>\n\n------\n\n### 模型设定2--基本假定[诸多错误，日后修正]\n可以看到在第一步的模型设定中我们首先做出了线性假定方可建立线性回归模型，同时假定 ε 的分布以便于确定 $y_i$ 的分布，接下来着重阐释简单线性回归模型中的诸多假定及这些假定存在的必要性。\n\n#### 线性假定\n该假定规定 Y 的条件均值是自变量 X 的线性函数：\n$$\nE(Y|X=x_i)=\\mu_i = \\beta_0 + \\beta_1 x_i\n$$\n<div class=\"note primary\"><p>\n   这里“线性”有双重含义，一方面可解释为变量 Y 和 X 之间是线性的，另一方面也可解释为回归函数关于参数是线性的。在某些情况下，我们可能会碰到非线性函数的情形。借助于数学上的恒等变换，我们有时可以将非线性函数转换成线性函数的形式。\n</p></div>\n\n例如，对于 $y_i = \\alpha x_i^\\gamma \\sigma_i$，通过变换可以得到:\n$$\n\\ln y_i = \\beta_0 + \\beta_1 \\ln x_i + \\epsilon_i\n$$\n其中， $\\beta_0=\\ln \\alpha ,\\beta_1=\\gamma ,\\epsilon_i=\\ln\\sigma_i$。经过转换后的方程便可以运用最小二乘法，并使得估计值仍然保持最小二乘法估计值的性质。\n\n#### 正交假定\n正交假定包括：\n> 1. 误差项 ε 和 x 不相关，即 $Cov(X,\\epsilon)=0$ ;\n> 2. 误差项 ε 的期望值为0，即 $E(\\epsilon)=0$ ;\n> 推导： 由正交假定可得 $Cov(\\hat{y},\\epsilon)=0$ 。\n\n在线性假定和正交假定下，可以将简单线性回归方程中 y 的条件期望定义为:\n$$\nE(Y|x)=\\beta_0 + \\beta_1 x\n$$\n正交假定是一个关键的识别假定，它帮助我们从条件期望 E(Y|x) 中剥离出误差项。在这假定下，**利用最小二乘估计得到的 β0 和 βl 的估计值 b0 和 b1 是无偏的**[详见下方-各随机变量的分布]，即：\n$$\n\\begin{align*}\n E(b_0)&=\\beta_0 \\\\ \n & \\\\\n E(b_1)&=\\beta_1 \n\\end{align*}\n$$\n这一假定是最小二乘估计的计算的理论依据，所以 **最小二乘估计的结果一定无例外地满足如下公式**:\n$$\n\\begin{cases}\n &\\sum_{i=1}^{n}e_i=0 \\\\ \n & \\\\\n &\\sum_{i=1}^{n}x_ie_i=0 \n\\end{cases}\n\\rightleftharpoons \n\\begin{cases}\n & \\frac{\\partial D}{\\partial b_0} = -2\\sum_{i=1}^{n}(y_i-b_0-b_1x_i) = 0 \\\\ \n & \\\\\n & \\frac{\\partial D}{\\partial b_1} = -2\\sum_{i=1}^{n}x_i(y_i-b_0-b_1x_i) = 0\n\\end{cases}\n$$\n\n#### 独立同分布假定\n也称 i.i.d 假定，是指误差项 ε 相互独立，并且遵循同一分布，有：\n$$\n\\begin{align*}\n \\sigma_\\epsilon^2 &= \\sigma^2 \\\\ \n & \\\\\n Cov(\\epsilon_i,\\epsilon_j)&=0,\\left (i\\neq j  \\right ) \n\\end{align*}\n$$\n<div class=\"note info\"><p>\n   尽管在没有 i. i. d 假定的情况下，最小二乘估计已经可以满足无偏性和一致性，但是同时满足前三个假定时，最小二乘估计值将是总体参数的\"最佳线性无偏估计值\"，也就是通常所说的BLUE (best linear unbiased estimator)。这里，\"最佳\"表示\"最有效\"，即抽样标准误最小。\n</p></div>\n\n#### 正态分布假定\n尽管 i.i.d 假定规定误差项 ε 独立且同分布，但是它仍然无法确定 ε 的实际分布。不过，对于大样本数据，我们可以根据中心极限定理对 β 进行统计推断。然而在小样本情况下，我们只有在假定 ε 服从正态分布时才能使用 t检验\n$$\n\\epsilon_i \\sim N(0,\\sigma^2)\n$$\n此时，最小二乘估计与总体参数的最大似然估计(MLE) 结果一致(Lehmann & CaseUa, 1998),也就是说 b0 和 b1 不仅是 β0 和 β1 的最佳线性无偏估计，而且是所有的 β0 和 β1 (线性和非线性的)无偏估计中的最佳选择。\n<div class=\"note primary\"><p>\n   之所以这么说是因为在所有无偏估计中，最大似然估计是最佳无偏估计值。需要注意的是，由于最大似然估计可以是非线性的，因此最大似然解释的有效性将比最小二乘解释的有效性更广。进一步讲，最大似然估计的统计推断在大样本情况下具有渐近性质。也就是说，当样本规模趋于无穷大时，最大似然估计不仅满足一致性(渐近无偏)，而且能够取得一致估计量中的最小方差。\n</p></div>\n\n<br>\n\n------\n\n### 参数估计--最小二乘估计\n回顾一下，前文建立的线性回归模型如下：\n$$\ny_i = \\beta_0 + \\beta_1x_i + \\epsilon_i = E(y_i|x_i) + \\epsilon_i = \\mu_i + \\epsilon_i\n$$\n在样本数据下得到拟合回归模型如下：\n$$\ny_i = b_0 + b_1x_i + e_i = \\hat{y_i} + e_i\n$$\n各关系如图所示：\n\n![封面3.PNG](http://p31gihke0.bkt.clouddn.com/封面3.PNG)\n\n最小二乘估计的基本思路便是 **找到一条与所有现有数据垂直距离平方和最小的直线**，即确保观测值和预测值的残差平方和最小：\n$$\nD = \\sum_{i=1}^{n}e_i^2 = \\sum_{i=1}^{n}(y_i-\\hat{y_i})^2 = \\sum_{i=1}^{n}(y_i-b_0-b_1x_i)^2\n$$\n<div class=\"note info\"><p>\n   注意是残差平方和而非误差平方和！！！<br>\n   这是因为当使用总体数据时得到的与所有观测点垂直距离平方和最小的直线便是总体回归线；当使用样本数据时得到的与所有观测点垂直距离平方和最小的直线只能是估计回归线。所以误差与总体回归线相匹配，残差与估计回归线相匹配，在样本数据下，我们得到的只能是估计回归线，最小二乘法中的\"最小\"也只能是\"残差平方和最小\"。\n</p></div>\n\n为使残差平方和达到最小值，有：\n$$\n\\begin{cases}\n & \\frac{\\partial D}{\\partial b_0} = -2\\sum_{i=1}^{n}(y_i-b_0-b_1x_i) = 0 \\\\ \n & \\\\\n & \\frac{\\partial D}{\\partial b_1} = -2\\sum_{i=1}^{n}x_i(y_i-b_0-b_1x_i) = 0\n\\end{cases}\n$$\n整理得正态方程组：\n$$\n\\begin{cases}\n & nb_0 + b_1\\sum_{i=1}^{n}x_i = \\sum_{i=1}^{n}y_i \\\\ \n & \\\\\n & b_0\\sum_{i=1}^{n}x_i + b_1\\sum_{i=1}^{n}x_i^2 = \\sum_{i=1}^{n}x_iy_i\n\\end{cases}\n$$\n求解得：\n$$\n\\begin{align*}\n b_0 &= \\frac{\\sum x_i^2 \\sum y_i - \\sum x_i \\sum x_iy_i}{n \\sum x_i^2 - (\\sum x_i)^2} \\\\\n & \\\\\n b_1 &= \\frac{n \\sum x_iy_i - \\sum x_i \\sum y_i}{n \\sum x_i^2 - (\\sum x_i)^2} \\\\ \n & \\\\\n &= \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum (x_i - \\bar{x})^2} \\\\ \n\\end{align*}\n$$\n在实际计算时，我们通常使用下列两个化简后的式子：\n$$\n\\begin{align*}\n b_1 &= \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum (x_i - \\bar{x})^2} \\\\ \n & \\\\\n &= \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})/(n-1)}{\\sum (x_i - \\bar{x})^2/(n-1)} \\\\\n & \\\\\n &= S_{xy}/S_x^2 \\\\\n &\\\\\n &= r\\frac{S_y}{S_x} \\\\\n & \\\\\n b_0 &= \\bar{y} - b_1\\bar{x}\n\\end{align*}\n$$\n\n<br>\n\n------\n\n### 小结--各随机变量的分布\n在上面的运算中，我们接触到的随机变量有 $\\epsilon$、$y_i$、$b_0$、$b_1$ 等，接下来我们对这些随机变量的分布做个总结。\n\n#### $\\epsilon$\n根据简单线性回归的假定前提可知：$\\epsilon \\sim N(0,\\sigma^2)$\n\n#### $y_i$\n由关系式 $y_i=\\beta_0+\\beta_1x_i+\\epsilon_i$ 及 $\\epsilon$ 的分布推知：$y_i \\sim N(\\beta_0+\\beta_1x_i,\\sigma^2)$\n\n#### $b_0$ 、 $b_1$\n求解 $b_0$ 和 $b_1$ 的分布需要一些技巧，首先对 $b_0$ 和 $b_1$ 的表达式稍加变形：\n$$\n\\begin{cases}\n b_0&=\\frac{\\sum x_i^2 \\sum y_i - \\sum x_i \\sum x_iy_i}{n \\sum x_i^2 - (\\sum x_i)^2} \\\\ \n & \\\\\n &=\\sum \\left [ \\frac{1}{n}-\\frac{(x_i-\\bar{x})\\bar{x}}{\\sum (x_i-\\bar{x})^2} \\right ]y_i \\\\\n & \\\\\n b_1&=\\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum (x_i - \\bar{x})^2} \\\\\n & \\\\\n &=\\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2}y_i\n\\end{cases}\n$$\n可以看到，当 $x_i$ 确定，等式右端仅有 $y_i$ 为随机变量，并且现在 $y_i$ 的分布已知，$b_0$ 和 $b_1$ 的分布自然可以求出：\n\n- 期望\n$$\n\\begin{align*}\n E(b_1)&= \\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} E(y_i) \\\\ \n & \\\\\n &= \\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} (\\beta_0+\\beta_1x_i) \\\\\n & \\\\\n &= \\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} (\\beta_0+\\beta_1x_i) \\leftarrow \\beta_0=\\bar{y}-\\beta_1\\bar{x} \\bigstar  \\\\\n & \\\\\n &= \\frac{\\sum \\left [ (x_i-\\bar{x})\\bar{y}+\\beta_1 (x_i-\\bar{x})^2 \\right ]}{\\sum (x_i-\\bar{x})^2}\n & \\\\\n &= \\beta_1\n\\end{align*}\n$$\n\n$\\bigstar$：我们知道对样本数据有 $b_0=\\bar{y}-b_1\\bar{x}$，同时可推导出在总体数据中存在以下关系式：\n$$\n\\begin{cases}\n &\\beta_0 = y_i-\\beta_1x_i-\\epsilon_i \\\\ \n & \\\\\n & \\Rightarrow  E(\\beta_0)=E(y_i-\\beta_1x_i-\\epsilon_i)  \\\\ \n & \\\\\n &\\Rightarrow  \\beta_0=E(y)-\\beta_1E(x_i) \n\\end{cases}\n$$\n<div class=\"note info\"><p>\n   需要注意的是：<br>\n   在第一个式子中，x 和 y 使用的是样本数据，得出的均值是样本均值；<br>\n   在第二个式子中，x 和 y 使用的是总体数据，得出的期望是总体均值。<br>\n   由于样本均值是总体均值的无偏估计，所以我们在推导 b1 的期望时使用的 β0 代换式是成立的。\n</p></div>\n\n再次应用这个性质 ——— 无偏估计，可以很容易的得到 $b_0$ 的期望：\n$$\n\\begin{align*}\n E(b_0)&=E(\\bar{y}-b_1\\bar{x}) \\\\ \n & \\\\\n &= E(y)-\\beta_1E(x) \\\\\n & \\\\\n &= \\beta_0\n\\end{align*}\n$$\n\n- 方差\n$$\n\\begin{align*}\n Var(b_0)&= \\sum  \\left \\{ \\left [ \\frac{1}{n}-\\frac{(x_i-\\bar{x})\\bar{x}}\n  {\\sum (x_i-\\bar{x})^2} \\right ]^2 Var(y_i) \\right \\}  \\\\ \n & \\\\\n &= \\sigma^2 \\sum \\left [ \\frac{1}{n}-\\frac{(x_i-\\bar{x})\\bar{x}}\n  {\\sum (x_i-\\bar{x})^2} \\right ]^2 \\\\ \n & \\\\\n &= \\sigma^2 \\sum \\left [ \\frac{1}{n^2}-\\frac{(x_i-\\bar{x})\\bar{x}}{2n\\sum (x_i-\\bar{x})^2}+\n  \\frac{(x_i-\\bar{x})^2\\bar{x}^2}{\\sum (x_i-\\bar{x})^2} \\right ] \\\\\n & \\\\\n &= \\sigma^2 \\left [ \\frac{1}{n}+\\frac{\\bar{x}^2}{\\sum (x_i-\\bar{x})^2} \\right ] \\\\\n & \\\\\n & \\\\\n Var(b_1)&= \\sum \\left \\{ \\left [ \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} \\right ]^2 Var(y_i) \\right \\} \\\\ \n & \\\\\n &= \\sigma^2 \\frac{\\sum (x_i-\\bar{x})^2}{[\\sum (x_i-\\bar{x})^2]^2}  \\\\ \n & \\\\\n &= \\frac{\\sigma^2}{\\sum (x_i-\\bar{x})^2}\n\\end{align*}\n$$\n\n可以看到在 $\\epsilon$、$y_i$、$b_0$、$b_1$ 的分布中都有 $\\sigma^2$ 的身影，但 $\\sigma^2$ 目前还属于未知参数，所以接下来要做的就是构造 $\\sigma^2$ 的估计量 $\\hat{\\sigma}^2$ 。\n\n\n#### $\\hat{\\sigma}^2$ \n由于 $\\sigma^2$ 是总体中误差的方差，自然想到用样本中误差（即残差）的方差来做无偏估计：\n$$\n\\hat{\\sigma}^2 = \\frac{\\sum e_i^2}{n-2} = \\frac{\\sum (y_i-\\hat{y_i})^2}{n-2}\n = \\frac{SSE}{n-2}\n$$\n\n这里，$n-2$ 为总体误差方差的自由度。因为我们需要以回归直线为基准来计算 $e_i$ ( 即以 $y_i-\\hat{y}_i$ 进行估计)，而决定这条直线需要估计截距和斜率两个参数，所以消耗了两个自由度。\n\n<br>\n\n------\n\n### 模型检验--假设检验\n#### 模型整体检验\n\n#### 回归系数检验\n\n\n\n<br>\n\n------\n\n### 模型评价--拟合优度\n\n\n<br>\n\n------\n\n\n### 模型预测--响应值、响应均值\n\n\n<br>\n\n------\n\n## 前景展望\n1. 需要提醒的是 OLS 回归方法找出的是两个变量间最佳的线性关系，但实际情况中两个变量间可能并不是简单的线性关系。因为社会现象往往受到诸多因素的共同影响，单因素造成某一社会现象的情况几乎不存在。但是，了解简单回归的原理是学习多元回归乃至其他更复杂统计方法的基础。\n2. 同时，在简单线性回归中除了最小二乘法还有多种进行参数估计的方法可以运用，其中最大似然法的思想其实是与最小二乘法相通的。\n3. 此外，尽管我们可以根据基本假定估计出回归模型，但是我们不知道这些假定是否成立。诊断数据仍然是必不可少的一个环节。这部分内容我们将在之后的系列 **回归诊断** 中进行详细讨论。\n\n> ### 参考文章\n> [1]谢宇著.回归分析[M].北京：社会科学文献出版社.2010.\n> [2]（美）查特吉著.例解回归分析 原书第5版[M].北京：机械工业出版社.2013.","source":"_posts/2018-03-11-回归分析系列3-简单线性回归.md","raw":"---\ntitle: 回归分析系列3-简单线性回归\ndate: 2018-03-11 10:00:00\ncategories: 回归分析\ntags: \n    - 统计\n    - 回归分析\n    - 线性回归\ncopyright: true\nmathjax: true\nnotshow: true\n---\n\n<center><i>\n    与大多数统计方法一样，回归也是一种简化数据的技术。<br>回归分析利用变量间的简单函数关系，用自变量对困变量进行\"预测\"，使\"预测值\"尽可能地接近因变量的\"观测值\" 。\n</i></center>\n\n<br>![封面3.PNG](http://p31gihke0.bkt.clouddn.com/封面3.PNG)\n<!--more-->\n\n## 本节综述\n简单线性回归属于回归分析中最基础的一部分内容，仅仅涉及到两个变量之间的线性关系，但其作为学习多元回归乃至其他更复杂统计方法的基础，所以本节将先从理解\"回归\"这一概念人手，并讨论只有一个因变量和一个自变量的简单线性回归模型。\n\n## 理解回归\n如何根据回归模型的构成形式理解回归模型的现实意义呢？在此，我们提出理解回归的三种视角：\n<div class=\"note info\"><p>\n    1. 因果性：观测项 = 机制项 + 干扰项<br>\n    2. 预测性：观测项 = 预测项 + 误差项<br>\n    3. 描述性：观测项 = 概括项 + 残差项\n</p></div>\n\n这三种理解方式提供了定量分析的三种不同视角：\n\n- 第一种方式接近于 **古典计量经济学** 的视角，这种方法试图找出具有决定性的模型并以此发现数据产生的机制。但当前更多的方法论研究者认为，所谓的\"真实\"模型并不存在，好的模型只是相对于其他模型而言更实用、更有意义或者更接近真实。\n- 第二种方式适用于 **工程学** 领域，它通常用于在已知一组自变量和因变量之间的关系后，应用新的数据给出有用的预测回答。这一理解方法的特点是我们只是通过经验规律来做预测，而对因果关系的机制不感兴趣或不在乎。\n- 第三种方式反映了当今 **定量社会科学和统计学** 的主流观点。它希望在不曲解数据的情况下利用模型概括数据的基本特征。这种方法与第一种方法的不同之处在于它并不关注模型是否\"真实\"，而只关注其是否符合已被观察到的事实。\n<div class=\"note primary\"><p>\n   在社会科学研究中，我们倾向于采用第三种视角，即统计模型的主要目标在于用最简单的结构和尽可能少的参数来概括大量数据所包含的主要信息。研究者需在精确性和简洁性之间进行权衡，从而找出最佳模型。\n</p></div>\n\n## 回归分析的步骤\n> 1. 问题的表述\n> 2. 变量的选择 - 专家论文、前人研究\n> 3. 数据的收集\n> 4. 模型设定 - 散点图、表达形式、基本假定\n> 5. 参数估计/模型拟合 - （加权）最小二乘法、极大似然法、岭估计法、主成分估计法\n> 6. 模型检验 - 假设检验、回归诊断\n> 7. 模型评价 - 拟合优度、交叉验证\n> 8. 解释预测\n\n<br>\n\n------\n\n## 简单线性回归模型\n### 模型设定1--表达形式\n开门见山，写出数学表达式：\n$$\ny_i=\\beta_0 + \\beta_1 x_i + \\epsilon_i\n$$\n<div class=\"note info\"><p>\n   这里：<br>\n   Y 是一个随机变量；<br>\n   X 虽被称作变量，但它的各个取值其实是已知的，只是其取值在不同的个体之间变动；<br>\n   ε 是随机误差项，假定其为服从均值为 0、方差为 σ² 的正态分布的随机变量。\n</p></div>\n\n对应指定的 $x_i$ 值，在一定的条件下，对公式求条件期望后得到 **总体回归方程**：\n$$\nE(Y|X=x_i) = \\mu_i = \\beta_0 + \\beta_1x_i\n$$\n它表示，对于每一个特定的取值 $x_i$，观测值 y 实际上都来自一个均值为 μ、方差为 σ² 的正态分布，回归直线将穿过点 $(x_i,\\mu_i)$，$\\beta_0$ 就是回归直线在 y 轴上的截距，而 $\\beta_1$ 则是回归直线的斜率。如下图所示：\n\n![3_1 回归直线.PNG](http://p31gihke0.bkt.clouddn.com/3_1 回归直线.PNG)\n\n无论回归模型还是回归方程，都是针对总体而言，是对总体恃征的总结和描述。所以，参数 $\\beta_0$ 和 $\\beta_1$ 也是总体的特征。当利用样本统计量 $b_0$ 和 $b_1$ 代替总体回归方程中的 $\\beta_0$ 和 $\\beta_1$ 时，就得到了 **估计的回归方程或经验回归方程**，其形式为：\n$$\n\\hat{y} = b_0 + b_1x_i\n$$\n同时，我们也可以得到观测值与估计值之差，称为残差，记作 $e_i$，它对应的是公式中的总体随机误差项 $\\epsilon_i$，观测值、估计值和残差这三者之间的关系可用下图加以说明。\n\n![3_2 经验回归直线.PNG](http://p31gihke0.bkt.clouddn.com/3_2 经验回归直线.PNG)\n\n<br>\n\n------\n\n### 模型设定2--基本假定[诸多错误，日后修正]\n可以看到在第一步的模型设定中我们首先做出了线性假定方可建立线性回归模型，同时假定 ε 的分布以便于确定 $y_i$ 的分布，接下来着重阐释简单线性回归模型中的诸多假定及这些假定存在的必要性。\n\n#### 线性假定\n该假定规定 Y 的条件均值是自变量 X 的线性函数：\n$$\nE(Y|X=x_i)=\\mu_i = \\beta_0 + \\beta_1 x_i\n$$\n<div class=\"note primary\"><p>\n   这里“线性”有双重含义，一方面可解释为变量 Y 和 X 之间是线性的，另一方面也可解释为回归函数关于参数是线性的。在某些情况下，我们可能会碰到非线性函数的情形。借助于数学上的恒等变换，我们有时可以将非线性函数转换成线性函数的形式。\n</p></div>\n\n例如，对于 $y_i = \\alpha x_i^\\gamma \\sigma_i$，通过变换可以得到:\n$$\n\\ln y_i = \\beta_0 + \\beta_1 \\ln x_i + \\epsilon_i\n$$\n其中， $\\beta_0=\\ln \\alpha ,\\beta_1=\\gamma ,\\epsilon_i=\\ln\\sigma_i$。经过转换后的方程便可以运用最小二乘法，并使得估计值仍然保持最小二乘法估计值的性质。\n\n#### 正交假定\n正交假定包括：\n> 1. 误差项 ε 和 x 不相关，即 $Cov(X,\\epsilon)=0$ ;\n> 2. 误差项 ε 的期望值为0，即 $E(\\epsilon)=0$ ;\n> 推导： 由正交假定可得 $Cov(\\hat{y},\\epsilon)=0$ 。\n\n在线性假定和正交假定下，可以将简单线性回归方程中 y 的条件期望定义为:\n$$\nE(Y|x)=\\beta_0 + \\beta_1 x\n$$\n正交假定是一个关键的识别假定，它帮助我们从条件期望 E(Y|x) 中剥离出误差项。在这假定下，**利用最小二乘估计得到的 β0 和 βl 的估计值 b0 和 b1 是无偏的**[详见下方-各随机变量的分布]，即：\n$$\n\\begin{align*}\n E(b_0)&=\\beta_0 \\\\ \n & \\\\\n E(b_1)&=\\beta_1 \n\\end{align*}\n$$\n这一假定是最小二乘估计的计算的理论依据，所以 **最小二乘估计的结果一定无例外地满足如下公式**:\n$$\n\\begin{cases}\n &\\sum_{i=1}^{n}e_i=0 \\\\ \n & \\\\\n &\\sum_{i=1}^{n}x_ie_i=0 \n\\end{cases}\n\\rightleftharpoons \n\\begin{cases}\n & \\frac{\\partial D}{\\partial b_0} = -2\\sum_{i=1}^{n}(y_i-b_0-b_1x_i) = 0 \\\\ \n & \\\\\n & \\frac{\\partial D}{\\partial b_1} = -2\\sum_{i=1}^{n}x_i(y_i-b_0-b_1x_i) = 0\n\\end{cases}\n$$\n\n#### 独立同分布假定\n也称 i.i.d 假定，是指误差项 ε 相互独立，并且遵循同一分布，有：\n$$\n\\begin{align*}\n \\sigma_\\epsilon^2 &= \\sigma^2 \\\\ \n & \\\\\n Cov(\\epsilon_i,\\epsilon_j)&=0,\\left (i\\neq j  \\right ) \n\\end{align*}\n$$\n<div class=\"note info\"><p>\n   尽管在没有 i. i. d 假定的情况下，最小二乘估计已经可以满足无偏性和一致性，但是同时满足前三个假定时，最小二乘估计值将是总体参数的\"最佳线性无偏估计值\"，也就是通常所说的BLUE (best linear unbiased estimator)。这里，\"最佳\"表示\"最有效\"，即抽样标准误最小。\n</p></div>\n\n#### 正态分布假定\n尽管 i.i.d 假定规定误差项 ε 独立且同分布，但是它仍然无法确定 ε 的实际分布。不过，对于大样本数据，我们可以根据中心极限定理对 β 进行统计推断。然而在小样本情况下，我们只有在假定 ε 服从正态分布时才能使用 t检验\n$$\n\\epsilon_i \\sim N(0,\\sigma^2)\n$$\n此时，最小二乘估计与总体参数的最大似然估计(MLE) 结果一致(Lehmann & CaseUa, 1998),也就是说 b0 和 b1 不仅是 β0 和 β1 的最佳线性无偏估计，而且是所有的 β0 和 β1 (线性和非线性的)无偏估计中的最佳选择。\n<div class=\"note primary\"><p>\n   之所以这么说是因为在所有无偏估计中，最大似然估计是最佳无偏估计值。需要注意的是，由于最大似然估计可以是非线性的，因此最大似然解释的有效性将比最小二乘解释的有效性更广。进一步讲，最大似然估计的统计推断在大样本情况下具有渐近性质。也就是说，当样本规模趋于无穷大时，最大似然估计不仅满足一致性(渐近无偏)，而且能够取得一致估计量中的最小方差。\n</p></div>\n\n<br>\n\n------\n\n### 参数估计--最小二乘估计\n回顾一下，前文建立的线性回归模型如下：\n$$\ny_i = \\beta_0 + \\beta_1x_i + \\epsilon_i = E(y_i|x_i) + \\epsilon_i = \\mu_i + \\epsilon_i\n$$\n在样本数据下得到拟合回归模型如下：\n$$\ny_i = b_0 + b_1x_i + e_i = \\hat{y_i} + e_i\n$$\n各关系如图所示：\n\n![封面3.PNG](http://p31gihke0.bkt.clouddn.com/封面3.PNG)\n\n最小二乘估计的基本思路便是 **找到一条与所有现有数据垂直距离平方和最小的直线**，即确保观测值和预测值的残差平方和最小：\n$$\nD = \\sum_{i=1}^{n}e_i^2 = \\sum_{i=1}^{n}(y_i-\\hat{y_i})^2 = \\sum_{i=1}^{n}(y_i-b_0-b_1x_i)^2\n$$\n<div class=\"note info\"><p>\n   注意是残差平方和而非误差平方和！！！<br>\n   这是因为当使用总体数据时得到的与所有观测点垂直距离平方和最小的直线便是总体回归线；当使用样本数据时得到的与所有观测点垂直距离平方和最小的直线只能是估计回归线。所以误差与总体回归线相匹配，残差与估计回归线相匹配，在样本数据下，我们得到的只能是估计回归线，最小二乘法中的\"最小\"也只能是\"残差平方和最小\"。\n</p></div>\n\n为使残差平方和达到最小值，有：\n$$\n\\begin{cases}\n & \\frac{\\partial D}{\\partial b_0} = -2\\sum_{i=1}^{n}(y_i-b_0-b_1x_i) = 0 \\\\ \n & \\\\\n & \\frac{\\partial D}{\\partial b_1} = -2\\sum_{i=1}^{n}x_i(y_i-b_0-b_1x_i) = 0\n\\end{cases}\n$$\n整理得正态方程组：\n$$\n\\begin{cases}\n & nb_0 + b_1\\sum_{i=1}^{n}x_i = \\sum_{i=1}^{n}y_i \\\\ \n & \\\\\n & b_0\\sum_{i=1}^{n}x_i + b_1\\sum_{i=1}^{n}x_i^2 = \\sum_{i=1}^{n}x_iy_i\n\\end{cases}\n$$\n求解得：\n$$\n\\begin{align*}\n b_0 &= \\frac{\\sum x_i^2 \\sum y_i - \\sum x_i \\sum x_iy_i}{n \\sum x_i^2 - (\\sum x_i)^2} \\\\\n & \\\\\n b_1 &= \\frac{n \\sum x_iy_i - \\sum x_i \\sum y_i}{n \\sum x_i^2 - (\\sum x_i)^2} \\\\ \n & \\\\\n &= \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum (x_i - \\bar{x})^2} \\\\ \n\\end{align*}\n$$\n在实际计算时，我们通常使用下列两个化简后的式子：\n$$\n\\begin{align*}\n b_1 &= \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum (x_i - \\bar{x})^2} \\\\ \n & \\\\\n &= \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})/(n-1)}{\\sum (x_i - \\bar{x})^2/(n-1)} \\\\\n & \\\\\n &= S_{xy}/S_x^2 \\\\\n &\\\\\n &= r\\frac{S_y}{S_x} \\\\\n & \\\\\n b_0 &= \\bar{y} - b_1\\bar{x}\n\\end{align*}\n$$\n\n<br>\n\n------\n\n### 小结--各随机变量的分布\n在上面的运算中，我们接触到的随机变量有 $\\epsilon$、$y_i$、$b_0$、$b_1$ 等，接下来我们对这些随机变量的分布做个总结。\n\n#### $\\epsilon$\n根据简单线性回归的假定前提可知：$\\epsilon \\sim N(0,\\sigma^2)$\n\n#### $y_i$\n由关系式 $y_i=\\beta_0+\\beta_1x_i+\\epsilon_i$ 及 $\\epsilon$ 的分布推知：$y_i \\sim N(\\beta_0+\\beta_1x_i,\\sigma^2)$\n\n#### $b_0$ 、 $b_1$\n求解 $b_0$ 和 $b_1$ 的分布需要一些技巧，首先对 $b_0$ 和 $b_1$ 的表达式稍加变形：\n$$\n\\begin{cases}\n b_0&=\\frac{\\sum x_i^2 \\sum y_i - \\sum x_i \\sum x_iy_i}{n \\sum x_i^2 - (\\sum x_i)^2} \\\\ \n & \\\\\n &=\\sum \\left [ \\frac{1}{n}-\\frac{(x_i-\\bar{x})\\bar{x}}{\\sum (x_i-\\bar{x})^2} \\right ]y_i \\\\\n & \\\\\n b_1&=\\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum (x_i - \\bar{x})^2} \\\\\n & \\\\\n &=\\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2}y_i\n\\end{cases}\n$$\n可以看到，当 $x_i$ 确定，等式右端仅有 $y_i$ 为随机变量，并且现在 $y_i$ 的分布已知，$b_0$ 和 $b_1$ 的分布自然可以求出：\n\n- 期望\n$$\n\\begin{align*}\n E(b_1)&= \\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} E(y_i) \\\\ \n & \\\\\n &= \\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} (\\beta_0+\\beta_1x_i) \\\\\n & \\\\\n &= \\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} (\\beta_0+\\beta_1x_i) \\leftarrow \\beta_0=\\bar{y}-\\beta_1\\bar{x} \\bigstar  \\\\\n & \\\\\n &= \\frac{\\sum \\left [ (x_i-\\bar{x})\\bar{y}+\\beta_1 (x_i-\\bar{x})^2 \\right ]}{\\sum (x_i-\\bar{x})^2}\n & \\\\\n &= \\beta_1\n\\end{align*}\n$$\n\n$\\bigstar$：我们知道对样本数据有 $b_0=\\bar{y}-b_1\\bar{x}$，同时可推导出在总体数据中存在以下关系式：\n$$\n\\begin{cases}\n &\\beta_0 = y_i-\\beta_1x_i-\\epsilon_i \\\\ \n & \\\\\n & \\Rightarrow  E(\\beta_0)=E(y_i-\\beta_1x_i-\\epsilon_i)  \\\\ \n & \\\\\n &\\Rightarrow  \\beta_0=E(y)-\\beta_1E(x_i) \n\\end{cases}\n$$\n<div class=\"note info\"><p>\n   需要注意的是：<br>\n   在第一个式子中，x 和 y 使用的是样本数据，得出的均值是样本均值；<br>\n   在第二个式子中，x 和 y 使用的是总体数据，得出的期望是总体均值。<br>\n   由于样本均值是总体均值的无偏估计，所以我们在推导 b1 的期望时使用的 β0 代换式是成立的。\n</p></div>\n\n再次应用这个性质 ——— 无偏估计，可以很容易的得到 $b_0$ 的期望：\n$$\n\\begin{align*}\n E(b_0)&=E(\\bar{y}-b_1\\bar{x}) \\\\ \n & \\\\\n &= E(y)-\\beta_1E(x) \\\\\n & \\\\\n &= \\beta_0\n\\end{align*}\n$$\n\n- 方差\n$$\n\\begin{align*}\n Var(b_0)&= \\sum  \\left \\{ \\left [ \\frac{1}{n}-\\frac{(x_i-\\bar{x})\\bar{x}}\n  {\\sum (x_i-\\bar{x})^2} \\right ]^2 Var(y_i) \\right \\}  \\\\ \n & \\\\\n &= \\sigma^2 \\sum \\left [ \\frac{1}{n}-\\frac{(x_i-\\bar{x})\\bar{x}}\n  {\\sum (x_i-\\bar{x})^2} \\right ]^2 \\\\ \n & \\\\\n &= \\sigma^2 \\sum \\left [ \\frac{1}{n^2}-\\frac{(x_i-\\bar{x})\\bar{x}}{2n\\sum (x_i-\\bar{x})^2}+\n  \\frac{(x_i-\\bar{x})^2\\bar{x}^2}{\\sum (x_i-\\bar{x})^2} \\right ] \\\\\n & \\\\\n &= \\sigma^2 \\left [ \\frac{1}{n}+\\frac{\\bar{x}^2}{\\sum (x_i-\\bar{x})^2} \\right ] \\\\\n & \\\\\n & \\\\\n Var(b_1)&= \\sum \\left \\{ \\left [ \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} \\right ]^2 Var(y_i) \\right \\} \\\\ \n & \\\\\n &= \\sigma^2 \\frac{\\sum (x_i-\\bar{x})^2}{[\\sum (x_i-\\bar{x})^2]^2}  \\\\ \n & \\\\\n &= \\frac{\\sigma^2}{\\sum (x_i-\\bar{x})^2}\n\\end{align*}\n$$\n\n可以看到在 $\\epsilon$、$y_i$、$b_0$、$b_1$ 的分布中都有 $\\sigma^2$ 的身影，但 $\\sigma^2$ 目前还属于未知参数，所以接下来要做的就是构造 $\\sigma^2$ 的估计量 $\\hat{\\sigma}^2$ 。\n\n\n#### $\\hat{\\sigma}^2$ \n由于 $\\sigma^2$ 是总体中误差的方差，自然想到用样本中误差（即残差）的方差来做无偏估计：\n$$\n\\hat{\\sigma}^2 = \\frac{\\sum e_i^2}{n-2} = \\frac{\\sum (y_i-\\hat{y_i})^2}{n-2}\n = \\frac{SSE}{n-2}\n$$\n\n这里，$n-2$ 为总体误差方差的自由度。因为我们需要以回归直线为基准来计算 $e_i$ ( 即以 $y_i-\\hat{y}_i$ 进行估计)，而决定这条直线需要估计截距和斜率两个参数，所以消耗了两个自由度。\n\n<br>\n\n------\n\n### 模型检验--假设检验\n#### 模型整体检验\n\n#### 回归系数检验\n\n\n\n<br>\n\n------\n\n### 模型评价--拟合优度\n\n\n<br>\n\n------\n\n\n### 模型预测--响应值、响应均值\n\n\n<br>\n\n------\n\n## 前景展望\n1. 需要提醒的是 OLS 回归方法找出的是两个变量间最佳的线性关系，但实际情况中两个变量间可能并不是简单的线性关系。因为社会现象往往受到诸多因素的共同影响，单因素造成某一社会现象的情况几乎不存在。但是，了解简单回归的原理是学习多元回归乃至其他更复杂统计方法的基础。\n2. 同时，在简单线性回归中除了最小二乘法还有多种进行参数估计的方法可以运用，其中最大似然法的思想其实是与最小二乘法相通的。\n3. 此外，尽管我们可以根据基本假定估计出回归模型，但是我们不知道这些假定是否成立。诊断数据仍然是必不可少的一个环节。这部分内容我们将在之后的系列 **回归诊断** 中进行详细讨论。\n\n> ### 参考文章\n> [1]谢宇著.回归分析[M].北京：社会科学文献出版社.2010.\n> [2]（美）查特吉著.例解回归分析 原书第5版[M].北京：机械工业出版社.2013.","slug":"2018-03-11-回归分析系列3-简单线性回归","published":1,"updated":"2018-07-07T11:09:16.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60j20008jsuvi0wp3vwp","content":"<center><i>\n    与大多数统计方法一样，回归也是一种简化数据的技术。<br>回归分析利用变量间的简单函数关系，用自变量对困变量进行\"预测\"，使\"预测值\"尽可能地接近因变量的\"观测值\" 。\n</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/封面3.PNG\" alt=\"封面3.PNG\"><br><a id=\"more\"></a></p>\n<h2 id=\"本节综述\"><a href=\"#本节综述\" class=\"headerlink\" title=\"本节综述\"></a>本节综述</h2><p>简单线性回归属于回归分析中最基础的一部分内容，仅仅涉及到两个变量之间的线性关系，但其作为学习多元回归乃至其他更复杂统计方法的基础，所以本节将先从理解”回归”这一概念人手，并讨论只有一个因变量和一个自变量的简单线性回归模型。</p>\n<h2 id=\"理解回归\"><a href=\"#理解回归\" class=\"headerlink\" title=\"理解回归\"></a>理解回归</h2><p>如何根据回归模型的构成形式理解回归模型的现实意义呢？在此，我们提出理解回归的三种视角：</p>\n<div class=\"note info\"><p>\n    1. 因果性：观测项 = 机制项 + 干扰项<br>\n    2. 预测性：观测项 = 预测项 + 误差项<br>\n    3. 描述性：观测项 = 概括项 + 残差项\n</p></div>\n\n<p>这三种理解方式提供了定量分析的三种不同视角：</p>\n<ul>\n<li>第一种方式接近于 <strong>古典计量经济学</strong> 的视角，这种方法试图找出具有决定性的模型并以此发现数据产生的机制。但当前更多的方法论研究者认为，所谓的”真实”模型并不存在，好的模型只是相对于其他模型而言更实用、更有意义或者更接近真实。</li>\n<li>第二种方式适用于 <strong>工程学</strong> 领域，它通常用于在已知一组自变量和因变量之间的关系后，应用新的数据给出有用的预测回答。这一理解方法的特点是我们只是通过经验规律来做预测，而对因果关系的机制不感兴趣或不在乎。</li>\n<li>第三种方式反映了当今 <strong>定量社会科学和统计学</strong> 的主流观点。它希望在不曲解数据的情况下利用模型概括数据的基本特征。这种方法与第一种方法的不同之处在于它并不关注模型是否”真实”，而只关注其是否符合已被观察到的事实。<div class=\"note primary\"><p>\n 在社会科学研究中，我们倾向于采用第三种视角，即统计模型的主要目标在于用最简单的结构和尽可能少的参数来概括大量数据所包含的主要信息。研究者需在精确性和简洁性之间进行权衡，从而找出最佳模型。\n</p></div>\n\n</li>\n</ul>\n<h2 id=\"回归分析的步骤\"><a href=\"#回归分析的步骤\" class=\"headerlink\" title=\"回归分析的步骤\"></a>回归分析的步骤</h2><blockquote>\n<ol>\n<li>问题的表述</li>\n<li>变量的选择 - 专家论文、前人研究</li>\n<li>数据的收集</li>\n<li>模型设定 - 散点图、表达形式、基本假定</li>\n<li>参数估计/模型拟合 - （加权）最小二乘法、极大似然法、岭估计法、主成分估计法</li>\n<li>模型检验 - 假设检验、回归诊断</li>\n<li>模型评价 - 拟合优度、交叉验证</li>\n<li>解释预测</li>\n</ol>\n</blockquote>\n<p><br></p>\n<hr>\n<h2 id=\"简单线性回归模型\"><a href=\"#简单线性回归模型\" class=\"headerlink\" title=\"简单线性回归模型\"></a>简单线性回归模型</h2><h3 id=\"模型设定1—表达形式\"><a href=\"#模型设定1—表达形式\" class=\"headerlink\" title=\"模型设定1—表达形式\"></a>模型设定1—表达形式</h3><p>开门见山，写出数学表达式：</p>\n<script type=\"math/tex; mode=display\">\ny_i=\\beta_0 + \\beta_1 x_i + \\epsilon_i</script><div class=\"note info\"><p>\n   这里：<br>\n   Y 是一个随机变量；<br>\n   X 虽被称作变量，但它的各个取值其实是已知的，只是其取值在不同的个体之间变动；<br>\n   ε 是随机误差项，假定其为服从均值为 0、方差为 σ² 的正态分布的随机变量。\n</p></div>\n\n<p>对应指定的 $x_i$ 值，在一定的条件下，对公式求条件期望后得到 <strong>总体回归方程</strong>：</p>\n<script type=\"math/tex; mode=display\">\nE(Y|X=x_i) = \\mu_i = \\beta_0 + \\beta_1x_i</script><p>它表示，对于每一个特定的取值 $x_i$，观测值 y 实际上都来自一个均值为 μ、方差为 σ² 的正态分布，回归直线将穿过点 $(x_i,\\mu_i)$，$\\beta_0$ 就是回归直线在 y 轴上的截距，而 $\\beta_1$ 则是回归直线的斜率。如下图所示：</p>\n<p><img src=\"http://p31gihke0.bkt.clouddn.com/3_1 回归直线.PNG\" alt=\"3_1 回归直线.PNG\"></p>\n<p>无论回归模型还是回归方程，都是针对总体而言，是对总体恃征的总结和描述。所以，参数 $\\beta_0$ 和 $\\beta_1$ 也是总体的特征。当利用样本统计量 $b_0$ 和 $b_1$ 代替总体回归方程中的 $\\beta_0$ 和 $\\beta_1$ 时，就得到了 <strong>估计的回归方程或经验回归方程</strong>，其形式为：</p>\n<script type=\"math/tex; mode=display\">\n\\hat{y} = b_0 + b_1x_i</script><p>同时，我们也可以得到观测值与估计值之差，称为残差，记作 $e_i$，它对应的是公式中的总体随机误差项 $\\epsilon_i$，观测值、估计值和残差这三者之间的关系可用下图加以说明。</p>\n<p><img src=\"http://p31gihke0.bkt.clouddn.com/3_2 经验回归直线.PNG\" alt=\"3_2 经验回归直线.PNG\"></p>\n<p><br></p>\n<hr>\n<h3 id=\"模型设定2—基本假定-诸多错误，日后修正\"><a href=\"#模型设定2—基本假定-诸多错误，日后修正\" class=\"headerlink\" title=\"模型设定2—基本假定[诸多错误，日后修正]\"></a>模型设定2—基本假定[诸多错误，日后修正]</h3><p>可以看到在第一步的模型设定中我们首先做出了线性假定方可建立线性回归模型，同时假定 ε 的分布以便于确定 $y_i$ 的分布，接下来着重阐释简单线性回归模型中的诸多假定及这些假定存在的必要性。</p>\n<h4 id=\"线性假定\"><a href=\"#线性假定\" class=\"headerlink\" title=\"线性假定\"></a>线性假定</h4><p>该假定规定 Y 的条件均值是自变量 X 的线性函数：</p>\n<script type=\"math/tex; mode=display\">\nE(Y|X=x_i)=\\mu_i = \\beta_0 + \\beta_1 x_i</script><div class=\"note primary\"><p>\n   这里“线性”有双重含义，一方面可解释为变量 Y 和 X 之间是线性的，另一方面也可解释为回归函数关于参数是线性的。在某些情况下，我们可能会碰到非线性函数的情形。借助于数学上的恒等变换，我们有时可以将非线性函数转换成线性函数的形式。\n</p></div>\n\n<p>例如，对于 $y_i = \\alpha x_i^\\gamma \\sigma_i$，通过变换可以得到:</p>\n<script type=\"math/tex; mode=display\">\n\\ln y_i = \\beta_0 + \\beta_1 \\ln x_i + \\epsilon_i</script><p>其中， $\\beta_0=\\ln \\alpha ,\\beta_1=\\gamma ,\\epsilon_i=\\ln\\sigma_i$。经过转换后的方程便可以运用最小二乘法，并使得估计值仍然保持最小二乘法估计值的性质。</p>\n<h4 id=\"正交假定\"><a href=\"#正交假定\" class=\"headerlink\" title=\"正交假定\"></a>正交假定</h4><p>正交假定包括：</p>\n<blockquote>\n<ol>\n<li>误差项 ε 和 x 不相关，即 $Cov(X,\\epsilon)=0$ ;</li>\n<li>误差项 ε 的期望值为0，即 $E(\\epsilon)=0$ ;<br>推导： 由正交假定可得 $Cov(\\hat{y},\\epsilon)=0$ 。</li>\n</ol>\n</blockquote>\n<p>在线性假定和正交假定下，可以将简单线性回归方程中 y 的条件期望定义为:</p>\n<script type=\"math/tex; mode=display\">\nE(Y|x)=\\beta_0 + \\beta_1 x</script><p>正交假定是一个关键的识别假定，它帮助我们从条件期望 E(Y|x) 中剥离出误差项。在这假定下，<strong>利用最小二乘估计得到的 β0 和 βl 的估计值 b0 和 b1 是无偏的</strong>[详见下方-各随机变量的分布]，即：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{align*}\n E(b_0)&=\\beta_0 \\\\ \n & \\\\\n E(b_1)&=\\beta_1 \n\\end{align*}</script><p>这一假定是最小二乘估计的计算的理论依据，所以 <strong>最小二乘估计的结果一定无例外地满足如下公式</strong>:</p>\n<script type=\"math/tex; mode=display\">\n\\begin{cases}\n &\\sum_{i=1}^{n}e_i=0 \\\\ \n & \\\\\n &\\sum_{i=1}^{n}x_ie_i=0 \n\\end{cases}\n\\rightleftharpoons \n\\begin{cases}\n & \\frac{\\partial D}{\\partial b_0} = -2\\sum_{i=1}^{n}(y_i-b_0-b_1x_i) = 0 \\\\ \n & \\\\\n & \\frac{\\partial D}{\\partial b_1} = -2\\sum_{i=1}^{n}x_i(y_i-b_0-b_1x_i) = 0\n\\end{cases}</script><h4 id=\"独立同分布假定\"><a href=\"#独立同分布假定\" class=\"headerlink\" title=\"独立同分布假定\"></a>独立同分布假定</h4><p>也称 i.i.d 假定，是指误差项 ε 相互独立，并且遵循同一分布，有：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{align*}\n \\sigma_\\epsilon^2 &= \\sigma^2 \\\\ \n & \\\\\n Cov(\\epsilon_i,\\epsilon_j)&=0,\\left (i\\neq j  \\right ) \n\\end{align*}</script><div class=\"note info\"><p>\n   尽管在没有 i. i. d 假定的情况下，最小二乘估计已经可以满足无偏性和一致性，但是同时满足前三个假定时，最小二乘估计值将是总体参数的\"最佳线性无偏估计值\"，也就是通常所说的BLUE (best linear unbiased estimator)。这里，\"最佳\"表示\"最有效\"，即抽样标准误最小。\n</p></div>\n\n<h4 id=\"正态分布假定\"><a href=\"#正态分布假定\" class=\"headerlink\" title=\"正态分布假定\"></a>正态分布假定</h4><p>尽管 i.i.d 假定规定误差项 ε 独立且同分布，但是它仍然无法确定 ε 的实际分布。不过，对于大样本数据，我们可以根据中心极限定理对 β 进行统计推断。然而在小样本情况下，我们只有在假定 ε 服从正态分布时才能使用 t检验</p>\n<script type=\"math/tex; mode=display\">\n\\epsilon_i \\sim N(0,\\sigma^2)</script><p>此时，最小二乘估计与总体参数的最大似然估计(MLE) 结果一致(Lehmann &amp; CaseUa, 1998),也就是说 b0 和 b1 不仅是 β0 和 β1 的最佳线性无偏估计，而且是所有的 β0 和 β1 (线性和非线性的)无偏估计中的最佳选择。</p>\n<div class=\"note primary\"><p>\n   之所以这么说是因为在所有无偏估计中，最大似然估计是最佳无偏估计值。需要注意的是，由于最大似然估计可以是非线性的，因此最大似然解释的有效性将比最小二乘解释的有效性更广。进一步讲，最大似然估计的统计推断在大样本情况下具有渐近性质。也就是说，当样本规模趋于无穷大时，最大似然估计不仅满足一致性(渐近无偏)，而且能够取得一致估计量中的最小方差。\n</p></div>\n\n<p><br></p>\n<hr>\n<h3 id=\"参数估计—最小二乘估计\"><a href=\"#参数估计—最小二乘估计\" class=\"headerlink\" title=\"参数估计—最小二乘估计\"></a>参数估计—最小二乘估计</h3><p>回顾一下，前文建立的线性回归模型如下：</p>\n<script type=\"math/tex; mode=display\">\ny_i = \\beta_0 + \\beta_1x_i + \\epsilon_i = E(y_i|x_i) + \\epsilon_i = \\mu_i + \\epsilon_i</script><p>在样本数据下得到拟合回归模型如下：</p>\n<script type=\"math/tex; mode=display\">\ny_i = b_0 + b_1x_i + e_i = \\hat{y_i} + e_i</script><p>各关系如图所示：</p>\n<p><img src=\"http://p31gihke0.bkt.clouddn.com/封面3.PNG\" alt=\"封面3.PNG\"></p>\n<p>最小二乘估计的基本思路便是 <strong>找到一条与所有现有数据垂直距离平方和最小的直线</strong>，即确保观测值和预测值的残差平方和最小：</p>\n<script type=\"math/tex; mode=display\">\nD = \\sum_{i=1}^{n}e_i^2 = \\sum_{i=1}^{n}(y_i-\\hat{y_i})^2 = \\sum_{i=1}^{n}(y_i-b_0-b_1x_i)^2</script><div class=\"note info\"><p>\n   注意是残差平方和而非误差平方和！！！<br>\n   这是因为当使用总体数据时得到的与所有观测点垂直距离平方和最小的直线便是总体回归线；当使用样本数据时得到的与所有观测点垂直距离平方和最小的直线只能是估计回归线。所以误差与总体回归线相匹配，残差与估计回归线相匹配，在样本数据下，我们得到的只能是估计回归线，最小二乘法中的\"最小\"也只能是\"残差平方和最小\"。\n</p></div>\n\n<p>为使残差平方和达到最小值，有：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{cases}\n & \\frac{\\partial D}{\\partial b_0} = -2\\sum_{i=1}^{n}(y_i-b_0-b_1x_i) = 0 \\\\ \n & \\\\\n & \\frac{\\partial D}{\\partial b_1} = -2\\sum_{i=1}^{n}x_i(y_i-b_0-b_1x_i) = 0\n\\end{cases}</script><p>整理得正态方程组：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{cases}\n & nb_0 + b_1\\sum_{i=1}^{n}x_i = \\sum_{i=1}^{n}y_i \\\\ \n & \\\\\n & b_0\\sum_{i=1}^{n}x_i + b_1\\sum_{i=1}^{n}x_i^2 = \\sum_{i=1}^{n}x_iy_i\n\\end{cases}</script><p>求解得：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{align*}\n b_0 &= \\frac{\\sum x_i^2 \\sum y_i - \\sum x_i \\sum x_iy_i}{n \\sum x_i^2 - (\\sum x_i)^2} \\\\\n & \\\\\n b_1 &= \\frac{n \\sum x_iy_i - \\sum x_i \\sum y_i}{n \\sum x_i^2 - (\\sum x_i)^2} \\\\ \n & \\\\\n &= \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum (x_i - \\bar{x})^2} \\\\ \n\\end{align*}</script><p>在实际计算时，我们通常使用下列两个化简后的式子：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{align*}\n b_1 &= \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum (x_i - \\bar{x})^2} \\\\ \n & \\\\\n &= \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})/(n-1)}{\\sum (x_i - \\bar{x})^2/(n-1)} \\\\\n & \\\\\n &= S_{xy}/S_x^2 \\\\\n &\\\\\n &= r\\frac{S_y}{S_x} \\\\\n & \\\\\n b_0 &= \\bar{y} - b_1\\bar{x}\n\\end{align*}</script><p><br></p>\n<hr>\n<h3 id=\"小结—各随机变量的分布\"><a href=\"#小结—各随机变量的分布\" class=\"headerlink\" title=\"小结—各随机变量的分布\"></a>小结—各随机变量的分布</h3><p>在上面的运算中，我们接触到的随机变量有 $\\epsilon$、$y_i$、$b_0$、$b_1$ 等，接下来我们对这些随机变量的分布做个总结。</p>\n<h4 id=\"epsilon\"><a href=\"#epsilon\" class=\"headerlink\" title=\"$\\epsilon$\"></a>$\\epsilon$</h4><p>根据简单线性回归的假定前提可知：$\\epsilon \\sim N(0,\\sigma^2)$</p>\n<h4 id=\"y-i\"><a href=\"#y-i\" class=\"headerlink\" title=\"$y_i$\"></a>$y_i$</h4><p>由关系式 $y_i=\\beta_0+\\beta_1x_i+\\epsilon_i$ 及 $\\epsilon$ 的分布推知：$y_i \\sim N(\\beta_0+\\beta_1x_i,\\sigma^2)$</p>\n<h4 id=\"b-0-、-b-1\"><a href=\"#b-0-、-b-1\" class=\"headerlink\" title=\"$b_0$ 、 $b_1$\"></a>$b_0$ 、 $b_1$</h4><p>求解 $b_0$ 和 $b_1$ 的分布需要一些技巧，首先对 $b_0$ 和 $b_1$ 的表达式稍加变形：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{cases}\n b_0&=\\frac{\\sum x_i^2 \\sum y_i - \\sum x_i \\sum x_iy_i}{n \\sum x_i^2 - (\\sum x_i)^2} \\\\ \n & \\\\\n &=\\sum \\left [ \\frac{1}{n}-\\frac{(x_i-\\bar{x})\\bar{x}}{\\sum (x_i-\\bar{x})^2} \\right ]y_i \\\\\n & \\\\\n b_1&=\\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum (x_i - \\bar{x})^2} \\\\\n & \\\\\n &=\\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2}y_i\n\\end{cases}</script><p>可以看到，当 $x_i$ 确定，等式右端仅有 $y_i$ 为随机变量，并且现在 $y_i$ 的分布已知，$b_0$ 和 $b_1$ 的分布自然可以求出：</p>\n<ul>\n<li>期望<script type=\"math/tex; mode=display\">\n\\begin{align*}\nE(b_1)&= \\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} E(y_i) \\\\ \n& \\\\\n&= \\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} (\\beta_0+\\beta_1x_i) \\\\\n& \\\\\n&= \\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} (\\beta_0+\\beta_1x_i) \\leftarrow \\beta_0=\\bar{y}-\\beta_1\\bar{x} \\bigstar  \\\\\n& \\\\\n&= \\frac{\\sum \\left [ (x_i-\\bar{x})\\bar{y}+\\beta_1 (x_i-\\bar{x})^2 \\right ]}{\\sum (x_i-\\bar{x})^2}\n& \\\\\n&= \\beta_1\n\\end{align*}</script></li>\n</ul>\n<p>$\\bigstar$：我们知道对样本数据有 $b_0=\\bar{y}-b_1\\bar{x}$，同时可推导出在总体数据中存在以下关系式：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{cases}\n &\\beta_0 = y_i-\\beta_1x_i-\\epsilon_i \\\\ \n & \\\\\n & \\Rightarrow  E(\\beta_0)=E(y_i-\\beta_1x_i-\\epsilon_i)  \\\\ \n & \\\\\n &\\Rightarrow  \\beta_0=E(y)-\\beta_1E(x_i) \n\\end{cases}</script><div class=\"note info\"><p>\n   需要注意的是：<br>\n   在第一个式子中，x 和 y 使用的是样本数据，得出的均值是样本均值；<br>\n   在第二个式子中，x 和 y 使用的是总体数据，得出的期望是总体均值。<br>\n   由于样本均值是总体均值的无偏估计，所以我们在推导 b1 的期望时使用的 β0 代换式是成立的。\n</p></div>\n\n<p>再次应用这个性质 ——— 无偏估计，可以很容易的得到 $b_0$ 的期望：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{align*}\n E(b_0)&=E(\\bar{y}-b_1\\bar{x}) \\\\ \n & \\\\\n &= E(y)-\\beta_1E(x) \\\\\n & \\\\\n &= \\beta_0\n\\end{align*}</script><ul>\n<li>方差<script type=\"math/tex; mode=display\">\n\\begin{align*}\nVar(b_0)&= \\sum  \\left \\{ \\left [ \\frac{1}{n}-\\frac{(x_i-\\bar{x})\\bar{x}}\n{\\sum (x_i-\\bar{x})^2} \\right ]^2 Var(y_i) \\right \\}  \\\\ \n& \\\\\n&= \\sigma^2 \\sum \\left [ \\frac{1}{n}-\\frac{(x_i-\\bar{x})\\bar{x}}\n{\\sum (x_i-\\bar{x})^2} \\right ]^2 \\\\ \n& \\\\\n&= \\sigma^2 \\sum \\left [ \\frac{1}{n^2}-\\frac{(x_i-\\bar{x})\\bar{x}}{2n\\sum (x_i-\\bar{x})^2}+\n\\frac{(x_i-\\bar{x})^2\\bar{x}^2}{\\sum (x_i-\\bar{x})^2} \\right ] \\\\\n& \\\\\n&= \\sigma^2 \\left [ \\frac{1}{n}+\\frac{\\bar{x}^2}{\\sum (x_i-\\bar{x})^2} \\right ] \\\\\n& \\\\\n& \\\\\nVar(b_1)&= \\sum \\left \\{ \\left [ \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} \\right ]^2 Var(y_i) \\right \\} \\\\ \n& \\\\\n&= \\sigma^2 \\frac{\\sum (x_i-\\bar{x})^2}{[\\sum (x_i-\\bar{x})^2]^2}  \\\\ \n& \\\\\n&= \\frac{\\sigma^2}{\\sum (x_i-\\bar{x})^2}\n\\end{align*}</script></li>\n</ul>\n<p>可以看到在 $\\epsilon$、$y_i$、$b_0$、$b_1$ 的分布中都有 $\\sigma^2$ 的身影，但 $\\sigma^2$ 目前还属于未知参数，所以接下来要做的就是构造 $\\sigma^2$ 的估计量 $\\hat{\\sigma}^2$ 。</p>\n<h4 id=\"hat-sigma-2\"><a href=\"#hat-sigma-2\" class=\"headerlink\" title=\"$\\hat{\\sigma}^2$\"></a>$\\hat{\\sigma}^2$</h4><p>由于 $\\sigma^2$ 是总体中误差的方差，自然想到用样本中误差（即残差）的方差来做无偏估计：</p>\n<script type=\"math/tex; mode=display\">\n\\hat{\\sigma}^2 = \\frac{\\sum e_i^2}{n-2} = \\frac{\\sum (y_i-\\hat{y_i})^2}{n-2}\n = \\frac{SSE}{n-2}</script><p>这里，$n-2$ 为总体误差方差的自由度。因为我们需要以回归直线为基准来计算 $e_i$ ( 即以 $y_i-\\hat{y}_i$ 进行估计)，而决定这条直线需要估计截距和斜率两个参数，所以消耗了两个自由度。</p>\n<p><br></p>\n<hr>\n<h3 id=\"模型检验—假设检验\"><a href=\"#模型检验—假设检验\" class=\"headerlink\" title=\"模型检验—假设检验\"></a>模型检验—假设检验</h3><h4 id=\"模型整体检验\"><a href=\"#模型整体检验\" class=\"headerlink\" title=\"模型整体检验\"></a>模型整体检验</h4><h4 id=\"回归系数检验\"><a href=\"#回归系数检验\" class=\"headerlink\" title=\"回归系数检验\"></a>回归系数检验</h4><p><br></p>\n<hr>\n<h3 id=\"模型评价—拟合优度\"><a href=\"#模型评价—拟合优度\" class=\"headerlink\" title=\"模型评价—拟合优度\"></a>模型评价—拟合优度</h3><p><br></p>\n<hr>\n<h3 id=\"模型预测—响应值、响应均值\"><a href=\"#模型预测—响应值、响应均值\" class=\"headerlink\" title=\"模型预测—响应值、响应均值\"></a>模型预测—响应值、响应均值</h3><p><br></p>\n<hr>\n<h2 id=\"前景展望\"><a href=\"#前景展望\" class=\"headerlink\" title=\"前景展望\"></a>前景展望</h2><ol>\n<li>需要提醒的是 OLS 回归方法找出的是两个变量间最佳的线性关系，但实际情况中两个变量间可能并不是简单的线性关系。因为社会现象往往受到诸多因素的共同影响，单因素造成某一社会现象的情况几乎不存在。但是，了解简单回归的原理是学习多元回归乃至其他更复杂统计方法的基础。</li>\n<li>同时，在简单线性回归中除了最小二乘法还有多种进行参数估计的方法可以运用，其中最大似然法的思想其实是与最小二乘法相通的。</li>\n<li>此外，尽管我们可以根据基本假定估计出回归模型，但是我们不知道这些假定是否成立。诊断数据仍然是必不可少的一个环节。这部分内容我们将在之后的系列 <strong>回归诊断</strong> 中进行详细讨论。</li>\n</ol>\n<blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><p>[1]谢宇著.回归分析[M].北京：社会科学文献出版社.2010.<br>[2]（美）查特吉著.例解回归分析 原书第5版[M].北京：机械工业出版社.2013.</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<center><i>\n    与大多数统计方法一样，回归也是一种简化数据的技术。<br>回归分析利用变量间的简单函数关系，用自变量对困变量进行\"预测\"，使\"预测值\"尽可能地接近因变量的\"观测值\" 。\n</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/封面3.PNG\" alt=\"封面3.PNG\"><br>","more":"</p>\n<h2 id=\"本节综述\"><a href=\"#本节综述\" class=\"headerlink\" title=\"本节综述\"></a>本节综述</h2><p>简单线性回归属于回归分析中最基础的一部分内容，仅仅涉及到两个变量之间的线性关系，但其作为学习多元回归乃至其他更复杂统计方法的基础，所以本节将先从理解”回归”这一概念人手，并讨论只有一个因变量和一个自变量的简单线性回归模型。</p>\n<h2 id=\"理解回归\"><a href=\"#理解回归\" class=\"headerlink\" title=\"理解回归\"></a>理解回归</h2><p>如何根据回归模型的构成形式理解回归模型的现实意义呢？在此，我们提出理解回归的三种视角：</p>\n<div class=\"note info\"><p>\n    1. 因果性：观测项 = 机制项 + 干扰项<br>\n    2. 预测性：观测项 = 预测项 + 误差项<br>\n    3. 描述性：观测项 = 概括项 + 残差项\n</p></div>\n\n<p>这三种理解方式提供了定量分析的三种不同视角：</p>\n<ul>\n<li>第一种方式接近于 <strong>古典计量经济学</strong> 的视角，这种方法试图找出具有决定性的模型并以此发现数据产生的机制。但当前更多的方法论研究者认为，所谓的”真实”模型并不存在，好的模型只是相对于其他模型而言更实用、更有意义或者更接近真实。</li>\n<li>第二种方式适用于 <strong>工程学</strong> 领域，它通常用于在已知一组自变量和因变量之间的关系后，应用新的数据给出有用的预测回答。这一理解方法的特点是我们只是通过经验规律来做预测，而对因果关系的机制不感兴趣或不在乎。</li>\n<li>第三种方式反映了当今 <strong>定量社会科学和统计学</strong> 的主流观点。它希望在不曲解数据的情况下利用模型概括数据的基本特征。这种方法与第一种方法的不同之处在于它并不关注模型是否”真实”，而只关注其是否符合已被观察到的事实。<div class=\"note primary\"><p>\n 在社会科学研究中，我们倾向于采用第三种视角，即统计模型的主要目标在于用最简单的结构和尽可能少的参数来概括大量数据所包含的主要信息。研究者需在精确性和简洁性之间进行权衡，从而找出最佳模型。\n</p></div>\n\n</li>\n</ul>\n<h2 id=\"回归分析的步骤\"><a href=\"#回归分析的步骤\" class=\"headerlink\" title=\"回归分析的步骤\"></a>回归分析的步骤</h2><blockquote>\n<ol>\n<li>问题的表述</li>\n<li>变量的选择 - 专家论文、前人研究</li>\n<li>数据的收集</li>\n<li>模型设定 - 散点图、表达形式、基本假定</li>\n<li>参数估计/模型拟合 - （加权）最小二乘法、极大似然法、岭估计法、主成分估计法</li>\n<li>模型检验 - 假设检验、回归诊断</li>\n<li>模型评价 - 拟合优度、交叉验证</li>\n<li>解释预测</li>\n</ol>\n</blockquote>\n<p><br></p>\n<hr>\n<h2 id=\"简单线性回归模型\"><a href=\"#简单线性回归模型\" class=\"headerlink\" title=\"简单线性回归模型\"></a>简单线性回归模型</h2><h3 id=\"模型设定1—表达形式\"><a href=\"#模型设定1—表达形式\" class=\"headerlink\" title=\"模型设定1—表达形式\"></a>模型设定1—表达形式</h3><p>开门见山，写出数学表达式：</p>\n<script type=\"math/tex; mode=display\">\ny_i=\\beta_0 + \\beta_1 x_i + \\epsilon_i</script><div class=\"note info\"><p>\n   这里：<br>\n   Y 是一个随机变量；<br>\n   X 虽被称作变量，但它的各个取值其实是已知的，只是其取值在不同的个体之间变动；<br>\n   ε 是随机误差项，假定其为服从均值为 0、方差为 σ² 的正态分布的随机变量。\n</p></div>\n\n<p>对应指定的 $x_i$ 值，在一定的条件下，对公式求条件期望后得到 <strong>总体回归方程</strong>：</p>\n<script type=\"math/tex; mode=display\">\nE(Y|X=x_i) = \\mu_i = \\beta_0 + \\beta_1x_i</script><p>它表示，对于每一个特定的取值 $x_i$，观测值 y 实际上都来自一个均值为 μ、方差为 σ² 的正态分布，回归直线将穿过点 $(x_i,\\mu_i)$，$\\beta_0$ 就是回归直线在 y 轴上的截距，而 $\\beta_1$ 则是回归直线的斜率。如下图所示：</p>\n<p><img src=\"http://p31gihke0.bkt.clouddn.com/3_1 回归直线.PNG\" alt=\"3_1 回归直线.PNG\"></p>\n<p>无论回归模型还是回归方程，都是针对总体而言，是对总体恃征的总结和描述。所以，参数 $\\beta_0$ 和 $\\beta_1$ 也是总体的特征。当利用样本统计量 $b_0$ 和 $b_1$ 代替总体回归方程中的 $\\beta_0$ 和 $\\beta_1$ 时，就得到了 <strong>估计的回归方程或经验回归方程</strong>，其形式为：</p>\n<script type=\"math/tex; mode=display\">\n\\hat{y} = b_0 + b_1x_i</script><p>同时，我们也可以得到观测值与估计值之差，称为残差，记作 $e_i$，它对应的是公式中的总体随机误差项 $\\epsilon_i$，观测值、估计值和残差这三者之间的关系可用下图加以说明。</p>\n<p><img src=\"http://p31gihke0.bkt.clouddn.com/3_2 经验回归直线.PNG\" alt=\"3_2 经验回归直线.PNG\"></p>\n<p><br></p>\n<hr>\n<h3 id=\"模型设定2—基本假定-诸多错误，日后修正\"><a href=\"#模型设定2—基本假定-诸多错误，日后修正\" class=\"headerlink\" title=\"模型设定2—基本假定[诸多错误，日后修正]\"></a>模型设定2—基本假定[诸多错误，日后修正]</h3><p>可以看到在第一步的模型设定中我们首先做出了线性假定方可建立线性回归模型，同时假定 ε 的分布以便于确定 $y_i$ 的分布，接下来着重阐释简单线性回归模型中的诸多假定及这些假定存在的必要性。</p>\n<h4 id=\"线性假定\"><a href=\"#线性假定\" class=\"headerlink\" title=\"线性假定\"></a>线性假定</h4><p>该假定规定 Y 的条件均值是自变量 X 的线性函数：</p>\n<script type=\"math/tex; mode=display\">\nE(Y|X=x_i)=\\mu_i = \\beta_0 + \\beta_1 x_i</script><div class=\"note primary\"><p>\n   这里“线性”有双重含义，一方面可解释为变量 Y 和 X 之间是线性的，另一方面也可解释为回归函数关于参数是线性的。在某些情况下，我们可能会碰到非线性函数的情形。借助于数学上的恒等变换，我们有时可以将非线性函数转换成线性函数的形式。\n</p></div>\n\n<p>例如，对于 $y_i = \\alpha x_i^\\gamma \\sigma_i$，通过变换可以得到:</p>\n<script type=\"math/tex; mode=display\">\n\\ln y_i = \\beta_0 + \\beta_1 \\ln x_i + \\epsilon_i</script><p>其中， $\\beta_0=\\ln \\alpha ,\\beta_1=\\gamma ,\\epsilon_i=\\ln\\sigma_i$。经过转换后的方程便可以运用最小二乘法，并使得估计值仍然保持最小二乘法估计值的性质。</p>\n<h4 id=\"正交假定\"><a href=\"#正交假定\" class=\"headerlink\" title=\"正交假定\"></a>正交假定</h4><p>正交假定包括：</p>\n<blockquote>\n<ol>\n<li>误差项 ε 和 x 不相关，即 $Cov(X,\\epsilon)=0$ ;</li>\n<li>误差项 ε 的期望值为0，即 $E(\\epsilon)=0$ ;<br>推导： 由正交假定可得 $Cov(\\hat{y},\\epsilon)=0$ 。</li>\n</ol>\n</blockquote>\n<p>在线性假定和正交假定下，可以将简单线性回归方程中 y 的条件期望定义为:</p>\n<script type=\"math/tex; mode=display\">\nE(Y|x)=\\beta_0 + \\beta_1 x</script><p>正交假定是一个关键的识别假定，它帮助我们从条件期望 E(Y|x) 中剥离出误差项。在这假定下，<strong>利用最小二乘估计得到的 β0 和 βl 的估计值 b0 和 b1 是无偏的</strong>[详见下方-各随机变量的分布]，即：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{align*}\n E(b_0)&=\\beta_0 \\\\ \n & \\\\\n E(b_1)&=\\beta_1 \n\\end{align*}</script><p>这一假定是最小二乘估计的计算的理论依据，所以 <strong>最小二乘估计的结果一定无例外地满足如下公式</strong>:</p>\n<script type=\"math/tex; mode=display\">\n\\begin{cases}\n &\\sum_{i=1}^{n}e_i=0 \\\\ \n & \\\\\n &\\sum_{i=1}^{n}x_ie_i=0 \n\\end{cases}\n\\rightleftharpoons \n\\begin{cases}\n & \\frac{\\partial D}{\\partial b_0} = -2\\sum_{i=1}^{n}(y_i-b_0-b_1x_i) = 0 \\\\ \n & \\\\\n & \\frac{\\partial D}{\\partial b_1} = -2\\sum_{i=1}^{n}x_i(y_i-b_0-b_1x_i) = 0\n\\end{cases}</script><h4 id=\"独立同分布假定\"><a href=\"#独立同分布假定\" class=\"headerlink\" title=\"独立同分布假定\"></a>独立同分布假定</h4><p>也称 i.i.d 假定，是指误差项 ε 相互独立，并且遵循同一分布，有：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{align*}\n \\sigma_\\epsilon^2 &= \\sigma^2 \\\\ \n & \\\\\n Cov(\\epsilon_i,\\epsilon_j)&=0,\\left (i\\neq j  \\right ) \n\\end{align*}</script><div class=\"note info\"><p>\n   尽管在没有 i. i. d 假定的情况下，最小二乘估计已经可以满足无偏性和一致性，但是同时满足前三个假定时，最小二乘估计值将是总体参数的\"最佳线性无偏估计值\"，也就是通常所说的BLUE (best linear unbiased estimator)。这里，\"最佳\"表示\"最有效\"，即抽样标准误最小。\n</p></div>\n\n<h4 id=\"正态分布假定\"><a href=\"#正态分布假定\" class=\"headerlink\" title=\"正态分布假定\"></a>正态分布假定</h4><p>尽管 i.i.d 假定规定误差项 ε 独立且同分布，但是它仍然无法确定 ε 的实际分布。不过，对于大样本数据，我们可以根据中心极限定理对 β 进行统计推断。然而在小样本情况下，我们只有在假定 ε 服从正态分布时才能使用 t检验</p>\n<script type=\"math/tex; mode=display\">\n\\epsilon_i \\sim N(0,\\sigma^2)</script><p>此时，最小二乘估计与总体参数的最大似然估计(MLE) 结果一致(Lehmann &amp; CaseUa, 1998),也就是说 b0 和 b1 不仅是 β0 和 β1 的最佳线性无偏估计，而且是所有的 β0 和 β1 (线性和非线性的)无偏估计中的最佳选择。</p>\n<div class=\"note primary\"><p>\n   之所以这么说是因为在所有无偏估计中，最大似然估计是最佳无偏估计值。需要注意的是，由于最大似然估计可以是非线性的，因此最大似然解释的有效性将比最小二乘解释的有效性更广。进一步讲，最大似然估计的统计推断在大样本情况下具有渐近性质。也就是说，当样本规模趋于无穷大时，最大似然估计不仅满足一致性(渐近无偏)，而且能够取得一致估计量中的最小方差。\n</p></div>\n\n<p><br></p>\n<hr>\n<h3 id=\"参数估计—最小二乘估计\"><a href=\"#参数估计—最小二乘估计\" class=\"headerlink\" title=\"参数估计—最小二乘估计\"></a>参数估计—最小二乘估计</h3><p>回顾一下，前文建立的线性回归模型如下：</p>\n<script type=\"math/tex; mode=display\">\ny_i = \\beta_0 + \\beta_1x_i + \\epsilon_i = E(y_i|x_i) + \\epsilon_i = \\mu_i + \\epsilon_i</script><p>在样本数据下得到拟合回归模型如下：</p>\n<script type=\"math/tex; mode=display\">\ny_i = b_0 + b_1x_i + e_i = \\hat{y_i} + e_i</script><p>各关系如图所示：</p>\n<p><img src=\"http://p31gihke0.bkt.clouddn.com/封面3.PNG\" alt=\"封面3.PNG\"></p>\n<p>最小二乘估计的基本思路便是 <strong>找到一条与所有现有数据垂直距离平方和最小的直线</strong>，即确保观测值和预测值的残差平方和最小：</p>\n<script type=\"math/tex; mode=display\">\nD = \\sum_{i=1}^{n}e_i^2 = \\sum_{i=1}^{n}(y_i-\\hat{y_i})^2 = \\sum_{i=1}^{n}(y_i-b_0-b_1x_i)^2</script><div class=\"note info\"><p>\n   注意是残差平方和而非误差平方和！！！<br>\n   这是因为当使用总体数据时得到的与所有观测点垂直距离平方和最小的直线便是总体回归线；当使用样本数据时得到的与所有观测点垂直距离平方和最小的直线只能是估计回归线。所以误差与总体回归线相匹配，残差与估计回归线相匹配，在样本数据下，我们得到的只能是估计回归线，最小二乘法中的\"最小\"也只能是\"残差平方和最小\"。\n</p></div>\n\n<p>为使残差平方和达到最小值，有：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{cases}\n & \\frac{\\partial D}{\\partial b_0} = -2\\sum_{i=1}^{n}(y_i-b_0-b_1x_i) = 0 \\\\ \n & \\\\\n & \\frac{\\partial D}{\\partial b_1} = -2\\sum_{i=1}^{n}x_i(y_i-b_0-b_1x_i) = 0\n\\end{cases}</script><p>整理得正态方程组：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{cases}\n & nb_0 + b_1\\sum_{i=1}^{n}x_i = \\sum_{i=1}^{n}y_i \\\\ \n & \\\\\n & b_0\\sum_{i=1}^{n}x_i + b_1\\sum_{i=1}^{n}x_i^2 = \\sum_{i=1}^{n}x_iy_i\n\\end{cases}</script><p>求解得：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{align*}\n b_0 &= \\frac{\\sum x_i^2 \\sum y_i - \\sum x_i \\sum x_iy_i}{n \\sum x_i^2 - (\\sum x_i)^2} \\\\\n & \\\\\n b_1 &= \\frac{n \\sum x_iy_i - \\sum x_i \\sum y_i}{n \\sum x_i^2 - (\\sum x_i)^2} \\\\ \n & \\\\\n &= \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum (x_i - \\bar{x})^2} \\\\ \n\\end{align*}</script><p>在实际计算时，我们通常使用下列两个化简后的式子：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{align*}\n b_1 &= \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum (x_i - \\bar{x})^2} \\\\ \n & \\\\\n &= \\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})/(n-1)}{\\sum (x_i - \\bar{x})^2/(n-1)} \\\\\n & \\\\\n &= S_{xy}/S_x^2 \\\\\n &\\\\\n &= r\\frac{S_y}{S_x} \\\\\n & \\\\\n b_0 &= \\bar{y} - b_1\\bar{x}\n\\end{align*}</script><p><br></p>\n<hr>\n<h3 id=\"小结—各随机变量的分布\"><a href=\"#小结—各随机变量的分布\" class=\"headerlink\" title=\"小结—各随机变量的分布\"></a>小结—各随机变量的分布</h3><p>在上面的运算中，我们接触到的随机变量有 $\\epsilon$、$y_i$、$b_0$、$b_1$ 等，接下来我们对这些随机变量的分布做个总结。</p>\n<h4 id=\"epsilon\"><a href=\"#epsilon\" class=\"headerlink\" title=\"$\\epsilon$\"></a>$\\epsilon$</h4><p>根据简单线性回归的假定前提可知：$\\epsilon \\sim N(0,\\sigma^2)$</p>\n<h4 id=\"y-i\"><a href=\"#y-i\" class=\"headerlink\" title=\"$y_i$\"></a>$y_i$</h4><p>由关系式 $y_i=\\beta_0+\\beta_1x_i+\\epsilon_i$ 及 $\\epsilon$ 的分布推知：$y_i \\sim N(\\beta_0+\\beta_1x_i,\\sigma^2)$</p>\n<h4 id=\"b-0-、-b-1\"><a href=\"#b-0-、-b-1\" class=\"headerlink\" title=\"$b_0$ 、 $b_1$\"></a>$b_0$ 、 $b_1$</h4><p>求解 $b_0$ 和 $b_1$ 的分布需要一些技巧，首先对 $b_0$ 和 $b_1$ 的表达式稍加变形：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{cases}\n b_0&=\\frac{\\sum x_i^2 \\sum y_i - \\sum x_i \\sum x_iy_i}{n \\sum x_i^2 - (\\sum x_i)^2} \\\\ \n & \\\\\n &=\\sum \\left [ \\frac{1}{n}-\\frac{(x_i-\\bar{x})\\bar{x}}{\\sum (x_i-\\bar{x})^2} \\right ]y_i \\\\\n & \\\\\n b_1&=\\frac{\\sum (x_i - \\bar{x})(y_i - \\bar{y})}{\\sum (x_i - \\bar{x})^2} \\\\\n & \\\\\n &=\\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2}y_i\n\\end{cases}</script><p>可以看到，当 $x_i$ 确定，等式右端仅有 $y_i$ 为随机变量，并且现在 $y_i$ 的分布已知，$b_0$ 和 $b_1$ 的分布自然可以求出：</p>\n<ul>\n<li>期望<script type=\"math/tex; mode=display\">\n\\begin{align*}\nE(b_1)&= \\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} E(y_i) \\\\ \n& \\\\\n&= \\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} (\\beta_0+\\beta_1x_i) \\\\\n& \\\\\n&= \\sum \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} (\\beta_0+\\beta_1x_i) \\leftarrow \\beta_0=\\bar{y}-\\beta_1\\bar{x} \\bigstar  \\\\\n& \\\\\n&= \\frac{\\sum \\left [ (x_i-\\bar{x})\\bar{y}+\\beta_1 (x_i-\\bar{x})^2 \\right ]}{\\sum (x_i-\\bar{x})^2}\n& \\\\\n&= \\beta_1\n\\end{align*}</script></li>\n</ul>\n<p>$\\bigstar$：我们知道对样本数据有 $b_0=\\bar{y}-b_1\\bar{x}$，同时可推导出在总体数据中存在以下关系式：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{cases}\n &\\beta_0 = y_i-\\beta_1x_i-\\epsilon_i \\\\ \n & \\\\\n & \\Rightarrow  E(\\beta_0)=E(y_i-\\beta_1x_i-\\epsilon_i)  \\\\ \n & \\\\\n &\\Rightarrow  \\beta_0=E(y)-\\beta_1E(x_i) \n\\end{cases}</script><div class=\"note info\"><p>\n   需要注意的是：<br>\n   在第一个式子中，x 和 y 使用的是样本数据，得出的均值是样本均值；<br>\n   在第二个式子中，x 和 y 使用的是总体数据，得出的期望是总体均值。<br>\n   由于样本均值是总体均值的无偏估计，所以我们在推导 b1 的期望时使用的 β0 代换式是成立的。\n</p></div>\n\n<p>再次应用这个性质 ——— 无偏估计，可以很容易的得到 $b_0$ 的期望：</p>\n<script type=\"math/tex; mode=display\">\n\\begin{align*}\n E(b_0)&=E(\\bar{y}-b_1\\bar{x}) \\\\ \n & \\\\\n &= E(y)-\\beta_1E(x) \\\\\n & \\\\\n &= \\beta_0\n\\end{align*}</script><ul>\n<li>方差<script type=\"math/tex; mode=display\">\n\\begin{align*}\nVar(b_0)&= \\sum  \\left \\{ \\left [ \\frac{1}{n}-\\frac{(x_i-\\bar{x})\\bar{x}}\n{\\sum (x_i-\\bar{x})^2} \\right ]^2 Var(y_i) \\right \\}  \\\\ \n& \\\\\n&= \\sigma^2 \\sum \\left [ \\frac{1}{n}-\\frac{(x_i-\\bar{x})\\bar{x}}\n{\\sum (x_i-\\bar{x})^2} \\right ]^2 \\\\ \n& \\\\\n&= \\sigma^2 \\sum \\left [ \\frac{1}{n^2}-\\frac{(x_i-\\bar{x})\\bar{x}}{2n\\sum (x_i-\\bar{x})^2}+\n\\frac{(x_i-\\bar{x})^2\\bar{x}^2}{\\sum (x_i-\\bar{x})^2} \\right ] \\\\\n& \\\\\n&= \\sigma^2 \\left [ \\frac{1}{n}+\\frac{\\bar{x}^2}{\\sum (x_i-\\bar{x})^2} \\right ] \\\\\n& \\\\\n& \\\\\nVar(b_1)&= \\sum \\left \\{ \\left [ \\frac{x_i-\\bar{x}}{\\sum (x_i-\\bar{x})^2} \\right ]^2 Var(y_i) \\right \\} \\\\ \n& \\\\\n&= \\sigma^2 \\frac{\\sum (x_i-\\bar{x})^2}{[\\sum (x_i-\\bar{x})^2]^2}  \\\\ \n& \\\\\n&= \\frac{\\sigma^2}{\\sum (x_i-\\bar{x})^2}\n\\end{align*}</script></li>\n</ul>\n<p>可以看到在 $\\epsilon$、$y_i$、$b_0$、$b_1$ 的分布中都有 $\\sigma^2$ 的身影，但 $\\sigma^2$ 目前还属于未知参数，所以接下来要做的就是构造 $\\sigma^2$ 的估计量 $\\hat{\\sigma}^2$ 。</p>\n<h4 id=\"hat-sigma-2\"><a href=\"#hat-sigma-2\" class=\"headerlink\" title=\"$\\hat{\\sigma}^2$\"></a>$\\hat{\\sigma}^2$</h4><p>由于 $\\sigma^2$ 是总体中误差的方差，自然想到用样本中误差（即残差）的方差来做无偏估计：</p>\n<script type=\"math/tex; mode=display\">\n\\hat{\\sigma}^2 = \\frac{\\sum e_i^2}{n-2} = \\frac{\\sum (y_i-\\hat{y_i})^2}{n-2}\n = \\frac{SSE}{n-2}</script><p>这里，$n-2$ 为总体误差方差的自由度。因为我们需要以回归直线为基准来计算 $e_i$ ( 即以 $y_i-\\hat{y}_i$ 进行估计)，而决定这条直线需要估计截距和斜率两个参数，所以消耗了两个自由度。</p>\n<p><br></p>\n<hr>\n<h3 id=\"模型检验—假设检验\"><a href=\"#模型检验—假设检验\" class=\"headerlink\" title=\"模型检验—假设检验\"></a>模型检验—假设检验</h3><h4 id=\"模型整体检验\"><a href=\"#模型整体检验\" class=\"headerlink\" title=\"模型整体检验\"></a>模型整体检验</h4><h4 id=\"回归系数检验\"><a href=\"#回归系数检验\" class=\"headerlink\" title=\"回归系数检验\"></a>回归系数检验</h4><p><br></p>\n<hr>\n<h3 id=\"模型评价—拟合优度\"><a href=\"#模型评价—拟合优度\" class=\"headerlink\" title=\"模型评价—拟合优度\"></a>模型评价—拟合优度</h3><p><br></p>\n<hr>\n<h3 id=\"模型预测—响应值、响应均值\"><a href=\"#模型预测—响应值、响应均值\" class=\"headerlink\" title=\"模型预测—响应值、响应均值\"></a>模型预测—响应值、响应均值</h3><p><br></p>\n<hr>\n<h2 id=\"前景展望\"><a href=\"#前景展望\" class=\"headerlink\" title=\"前景展望\"></a>前景展望</h2><ol>\n<li>需要提醒的是 OLS 回归方法找出的是两个变量间最佳的线性关系，但实际情况中两个变量间可能并不是简单的线性关系。因为社会现象往往受到诸多因素的共同影响，单因素造成某一社会现象的情况几乎不存在。但是，了解简单回归的原理是学习多元回归乃至其他更复杂统计方法的基础。</li>\n<li>同时，在简单线性回归中除了最小二乘法还有多种进行参数估计的方法可以运用，其中最大似然法的思想其实是与最小二乘法相通的。</li>\n<li>此外，尽管我们可以根据基本假定估计出回归模型，但是我们不知道这些假定是否成立。诊断数据仍然是必不可少的一个环节。这部分内容我们将在之后的系列 <strong>回归诊断</strong> 中进行详细讨论。</li>\n</ol>\n<blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><p>[1]谢宇著.回归分析[M].北京：社会科学文献出版社.2010.<br>[2]（美）查特吉著.例解回归分析 原书第5版[M].北京：机械工业出版社.2013.</p>\n</blockquote>"},{"title":"数据操作-apply函数族","date":"2018-03-15T04:19:00.000Z","copyright":true,"_content":"\n<center><i>\n    R 作为一种向量化的编程语言，一大特征便是以向量计算替代了循环计算，使效率大大提升。<br>\n    apply函数族正是为解决数据循环处理问题而生的 —— 面向不同数据类型，生成不同返回值的包含8个相关函数的函数族。\n</i></center>\n\n<br>![apply函数.PNG](http://p31gihke0.bkt.clouddn.com/apply函数.PNG)\n<!--more-->\n\n## 为何要用apply？\n在使用 R 时，要尽量用 array 的方式思考，避免 for 循环，写过多的 for 循环代码，最后把 R 代码写的跟 C 似得说明你没有进入 R 的思考方式，是一种费力不讨好的行为。那么不用循环怎么实现迭代呢？apply函数族是一把利器，它不是一个函数，而是一族功能类似的函数。\n\n<br>\n\n---\n\n## 语法详解\n### apply\n```r apply-函数定义：在 X 上，沿 margin 方向，依次调用 FUN\napply(X, margin, FUN, ...)\n```\n\n> **参数列表：**\n> X：数组、矩阵、数据框\n> margin：按维度运算，1表示按行，2表示按列，c(1,3)表示第1、3维\n> FUN：要使用的函数\n\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-矩阵按列求和\n> mat <- matrix(1:12, 3, 4)\n> mat\n     [,1] [,2] [,3] [,4]\n[1,]    1    4    7   10\n[2,]    2    5    8   11\n[3,]    3    6    9   12\n\n> apply(mat, 2, sum)\n[1]  6 15 24 33\n```\n\n```r eg2-数组第1、3维度组合求和\n> ary <- array(1:12, c(2,3,2))\n> ary\n, , 1\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n, , 2\n     [,1] [,2] [,3]\n[1,]    7    9   11\n[2,]    8   10   12\n\n> apply(ary, c(1,3), sum)\n     [,1] [,2]\n[1,]    9   27\n[2,]   12   30\n```\n\n```r eg3-数据框按列求均值\n> data <- data.frame(x1=1:5, x2=6:10)\n> data\n  x1 x2\n1  1  6\n2  2  7\n3  3  8\n4  4  9\n5  5 10\n\n> apply(data, 2, mean)\nx1 x2 \n 3  8 \n```\n\n---\n### tapply\n```r tapply-函数定义：按 INDEX 值分组，相同值对应下标的 X 中的元素形成一个集合，应用到 FUN\ntapply(X, INDEX, FUN = NULL, ..., simplify = TRUE)\n```\n\n> **参数列表：**\n> X：向量、数组\n> INDEX：用于分组的索引\n> FUN：要使用的函数\n> simplify : 是否数组化，当值TRUE时，输出结果按数组进行分组输出\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-当FUN为NULL，返回分组的结果，返回值中相等的元素所对应的下标属于同一组\n> x <- 1:6\n> INDEX <- c('a','a','b','c','c','c')\n> tapply(x, INDEX)\n[1] 1 1 2 3 3 3\n```\n\n```r eg2-向量按 INDEX 分组求和\n> tapply(x, INDEX, sum)\n a  b  c \n 3  3 15 \n```\n\n```r eg3-矩阵按 INDEX 分组求均值\n> mat <- matrix(1:10, 2)\n> mat\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    3    5    7    9\n[2,]    2    4    6    8   10\n> INDEX <- matrix(c(rep(1,5), rep(2,5)), nrow=2)\n> INDEX\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    1    1    2    2\n[2,]    1    1    2    2    2\n> tapply(mat, INDEX)\n [1] 1 1 1 1 1 2 2 2 2 2\n> tapply(mat, INDEX, mean)\n1 2 \n3 8 \n```\n\n---\n### lapply\n```r lapply-函数定义：在 X 上逐个元素调用 FUN, 返回和 X 等长的 list 作为结果集\nlapply(X, FUN, ...)\n```\n\n> **参数列表：**\n> X：列表、向量、数据框\n> FUN：要使用的函数\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-计算 list 中的每个 KEY 对应数据的均值\n> lst <- list(a=1:10, b=seq(0,7,2), c=c(2,5,8))\n> lst\n$a\n [1]  1  2  3  4  5  6  7  8  9 10\n$b\n[1] 0 2 4 6\n$c\n[1] 2 5 8\n\n> lapply(lst, mean)\n$a\n[1] 5.5\n$b\n[1] 3\n$c\n[1] 5\n```\n\n```r eg2-对数据框的列求和\n> data <- data.frame(x1=1:5, x2=6:10)\n> data\n  x1 x2\n1  1  6\n2  2  7\n3  3  8\n4  4  9\n5  5 10\n> lapply(data, sum)\n$x1\n[1] 15\n$x2\n[1] 40\n```\n\n```r eg3-找出闰年：对向量内各元素依次调用函数\n> isLeapYear <- function(a){\n+   if( (a%%4==0 & a%/%100!=0) | a%%400==0 )\n+     a\n+ }\n> a <- 1900:1910\n> unlist(lapply(a, isLeapYear))\n[1] 1900 1904 1908\n```\n\n---\n### rapply\n```r rapply-函数定义：递归版lapply，对list遍历直至无list，最终非list元素若类型是classes参数指定的类型，则调用FUN\nrapply(list, f, classes = \"ANY\", deflt = NULL,how = c(\"unlist\", \"replace\", \"list\"), ...)\n```\n\n> **参数列表：**\n> list：列表\n> f：要使用的函数\n> classes： 匹配类型, ANY为所有类型\n> deflt: 非匹配类型的默认值\n> how: 3种操作方式，\n> - replace：则用调用f后的结果替换原list中原来的元素；\n> - list：新建一个list，类型匹配调用f函数，不匹配赋值为deflt；\n> - unlist：执行一次unlist(recursive = TRUE)操作\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-遍历 list 分组求和\n> lst <- list(a=list(aa=c(1:5), ab=c(6:10)), b=list(ba=c(1:10)))\n> lst\n$a\n$a$aa\n[1] 1 2 3 4 5\n$a$ab\n[1]  6  7  8  9 10\n$b\n$b$ba\n [1]  1  2  3  4  5  6  7  8  9 10\n\n> rapply(lst, sum, how=\"replace\")  # 输出结果为list\n$a\n$a$aa\n[1] 15\n$a$ab\n[1] 40\n$b\n$b$ba\n[1] 55\n\n> rapply(lst, sum, how=\"unlist\")   # 输出结果为vector\na.aa a.ab b.ba \n  15   40   55 \n```\n\n\n---\n### sapply\n```r sapply-函数定义：简化版lapply，增加参数simplify和USE.NAMES，可设定输出类型\nsapply(X, FUN, ..., simplify = TRUE, USE.NAMES = TRUE)\n```\n\n> **参数列表：**\n> X：列表、向量、数据框\n> FUN：要使用的函数\n> simplify: 若FALSE，等价于lapply。否则，将lapply输出的list简化为vector或matrix\n> USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-simplify参数设定输出类型\n> lst <- list(a=c(1:5), b=c(6:10))\n> sapply(lst, sum, simplify = F)    # 输出list\n$a\n[1] 15\n$b\n[1] 40\n\n> sapply(lst, sum)                  # 输出vector\n a  b \n15 40 \n\n> sapply(lst, fivenum)              # 输出matrix\n     a  b\n[1,] 1  6\n[2,] 2  7\n[3,] 3  8\n[4,] 4  9\n[5,] 5 10\n```\n\n```r eg2-USE.NAMES参数作用\n> val <- head(letters)\n> val\n[1] \"a\" \"b\" \"c\" \"d\" \"e\" \"f\"\n> sapply(val, paste)\n  a   b   c   d   e   f \n\"a\" \"b\" \"c\" \"d\" \"e\" \"f\" \n> sapply(val, paste, USE.NAMES = F)\n[1] \"a\" \"b\" \"c\" \"d\" \"e\" \"f\"\n```\n\n---\n### vapply\n```r vapply-函数定义：类似sapply，但提供参数FUN.VALUE用以设定返回值的行名\nvapply(X, FUN, FUN.VALUE, ..., USE.NAMES = TRUE)\n```\n\n> **参数列表：**\n> X：列表、数据框\n> FUN：要使用的函数\n> FUN.VALUE：定义返回值的行名row.names\n> USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-FUN.VALUE参数设置返回值行名\n> lst <- list(a=c(1:5), b=c(6:10))\n> res <- vapply(lst, function(x) c(min(x), max(x)), c(min.=0, max.=0))\n> res\n     a  b\nmin. 1  6\nmax. 5 10\n```\n\n```r eg2-对数据框的数据累计求和，并对每一行设置行名row.names\n> data <- data.frame(cbind(x1=3, x2=c(2:1,4:5)))\n> data\n  x1 x2\n1  3  2\n2  3  1\n3  3  4\n4  3  5\n\n> vapply(data, cumsum, FUN.VALUE=c('a'=0,'b'=0,'c'=0,'d'=0))\n  x1 x2\na  3  2\nb  6  3\nc  9  7\nd 12 12\n```\n\n---\n### mapply\n```r mapply-函数定义：多变量版sapply，将FUN应用于多个同结构数据第一个元素组成的数组，然后是第二个元素组成的数组，依此类推\nmapply(FUN, ..., MoreArgs=NULL, SIMPLIFY=TRUE, USE.NAMES=TRUE)\n```\n\n> **参数列表：**\n> FUN：要使用的函数\n> …: 接收多个数据(list、vector)\n> MoreArgs: FUN的参数列表\n> simplify: 若FALSE，输出list。否则，将输出的list简化为vector或matrix\n> USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-输入两个list并分组求和\n> mapply(sum, list(a=1,b=2,c=3), list(a=10,b=20,d=30))\n a  b  c \n11 22 33 \n```\n\n```r eg2-比较两个向量大小，按索引顺序取较大的值\n> a <- 1:10\n> b <- 5:-4\n> a\n [1]  1  2  3  4  5  6  7  8  9 10\n> b\n [1]  5  4  3  2  1  0 -1 -2 -3 -4\n> mapply(max, a, b)\n [1]  5  4  3  4  5  6  7  8  9 10\n```\n\n```r eg3-输入向量，返回值多个时返回matrix\n> mapply(function(x,y) c(x+y, x^y, x-y), c(1:5), c(1:5))\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    2    4    6    8   10\n[2,]    1    4   27  256 3125\n[3,]    0    0    0    0    0\n```\n\n\n---\n### eapply\n```r eapply-函数定义：对一个环境空间中的所有变量进行遍历\neapply(env, FUN, ..., all.names = FALSE, USE.NAMES = TRUE)\n```\n\n> **参数列表：**\n> env: 环境空间\n> FUN：要使用的函数\n> all.names: 匹配类型, ANY为所有类型\n> USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置\n\n{% label info@<b>举例阐释</b> %}\n```r eg-eapply操作示例\n> # 定义一个环境空间\n> env <- new.env()\n> # 向这个环境空间中存入3个变量\n> env$a <- 1:10\n> env$b <- exp(-3:3)\n> env$logic <- c(TRUE, FALSE, FALSE, TRUE)\n\n> ls(env)      # 查看env空间中的变量\n[1] \"a\"     \"b\"     \"logic\"\n> ls.str(env)  # 查看env空间中的变量字符串结构\na :  int [1:10] 1 2 3 4 5 6 7 8 9 10\nb :  num [1:7] 0.0498 0.1353 0.3679 1 2.7183 ...\nlogic :  logi [1:4] TRUE FALSE FALSE TRUE\n\n> eapply(env, mean)   # 计算env环境空间中所有变量的均值\n$a\n[1] 5.5\n$b\n[1] 4.535125\n$logic\n[1] 0.5\n```\n\n<br>\n\n---\n## 应用及拓展\n### 应用展示\n原始数据为按年份year、地区loc和商品类别type进行统计的销售量。我们要制作两个销售总量的crosstable，一个以年份为行、地区为列，一个以年份为行，类别为列。\n```r 应用1-tapply实现crosstable功能\n> df <- data.frame(year=kronecker(2001:2003, rep(1,4)), \n                 loc=c('beijing','beijing','shanghai','shanghai'), \n                 type=rep(c('A','B'),6), sale=rep(1:12))\n> df\n   year      loc type sale\n1  2001  beijing    A    1\n2  2001  beijing    B    2\n3  2001 shanghai    A    3\n4  2001 shanghai    B    4\n5  2002  beijing    A    5\n6  2002  beijing    B    6\n7  2002 shanghai    A    7\n8  2002 shanghai    B    8\n9  2003  beijing    A    9\n10 2003  beijing    B   10\n11 2003 shanghai    A   11\n12 2003 shanghai    B   12\n\n> tapply(df$sale, df[,c('year','loc')], sum)\n      loc\nyear   beijing shanghai\n  2001       3        7\n  2002      11       15\n  2003      19       23\n\n> tapply(df$sale, df[,c('year','type')], sum)\n      type\nyear    A  B\n  2001  4  6\n  2002 12 14\n  2003 20 22\n```\n\n```r 应用2-mapply使两个嵌套列表对应项相加\n> list1 <- list(a=1:5, b=list(c=1:4, d=5:9))\n> list1\n$a\n[1] 1 2 3 4 5\n$b\n$b$c\n[1] 1 2 3 4\n$b$d\n[1] 5 6 7 8 9\n\n> list2 <- list(a=1:5, b=list(c=5:8, d=1:5))\n> list2\n$a\n[1] 1 2 3 4 5\n$b\n$b$c\n[1] 5 6 7 8\n$b$d\n[1] 1 2 3 4 5\n\n> \"%+%\" <- function(x,y) mapply(\"+\", x, y)\n> mapply(\"%+%\", list1, list2)\n$a\n[1]  2  4  6  8 10\n$b\n$b$c\n[1]  6  8 10 12\n$b$d\n[1]  6  8 10 12 14\n```\n\n---\n### 相关函数\n#### by\n```r by-函数定义：by可以当成data.frame上的tapply，在数据框行上施用索引分组运算\nby(data, INDICES, FUN, ..., simplify = TRUE)\n```\n\n> **参数列表：**\n> data: 数据框\n> INDICES：与数据框行数等长的用于分组的索引\n> FUN：要使用的函数\n\n{% label info@<b>举例阐释</b> %}\n```r eg-by对数据框进行按行索引分组计算\n> data <- data.frame(a=c(1:5), b=c(6:10))\n> data\n  a  b\n1 1  6\n2 2  7\n3 3  8\n4 4  9\n5 5 10\n> INDICES <- c(1,1,2,2,2)\n\n> by(data, INDICES, colMeans)\nINDICES: 1\n  a   b \n1.5 6.5 \n-------------------------------------------------------------------------------\nINDICES: 2\na b \n4 9 \n> by(data, INDICES, rowMeans)\nINDICES: 1\n  1   2 \n3.5 4.5 \n-------------------------------------------------------------------------------\nINDICES: 2\n  3   4   5 \n5.5 6.5 7.5 \n```\n\n#### outer\n```r outer-函数定义：作用于数组的类似于矩阵外积运算方式的运算函数\nouter(X, Y, FUN = \"*\", ...)\n```\n\n> **参数列表：**\n> X、Y: 向量、数组\n> FUN：当为空时即为外积运算，否则为将FUN代替外积运算符进行类似外积的运算操作\n\n{% label info@<b>举例阐释</b> %}\n```r eg-outer的使用\n> x <- 1:4; y <- 2:4\n> x; y\n[1] 1 2 3 4\n[1] 2 3 4\n> outer(x, y)\n     [,1] [,2] [,3]\n[1,]    2    3    4\n[2,]    4    6    8\n[3,]    6    9   12\n[4,]    8   12   16\n\n> month.abb\n [1] \"Jan\" \"Feb\" \"Mar\" \"Apr\" \"May\" \"Jun\" \"Jul\" \"Aug\" \"Sep\" \"Oct\" \"Nov\" \"Dec\"\n> outer(month.abb, 1999:2003, FUN = \"paste\")\n      [,1]       [,2]       [,3]       [,4]       [,5]      \n [1,] \"Jan 1999\" \"Jan 2000\" \"Jan 2001\" \"Jan 2002\" \"Jan 2003\"\n [2,] \"Feb 1999\" \"Feb 2000\" \"Feb 2001\" \"Feb 2002\" \"Feb 2003\"\n [3,] \"Mar 1999\" \"Mar 2000\" \"Mar 2001\" \"Mar 2002\" \"Mar 2003\"\n [4,] \"Apr 1999\" \"Apr 2000\" \"Apr 2001\" \"Apr 2002\" \"Apr 2003\"\n [5,] \"May 1999\" \"May 2000\" \"May 2001\" \"May 2002\" \"May 2003\"\n [6,] \"Jun 1999\" \"Jun 2000\" \"Jun 2001\" \"Jun 2002\" \"Jun 2003\"\n [7,] \"Jul 1999\" \"Jul 2000\" \"Jul 2001\" \"Jul 2002\" \"Jul 2003\"\n [8,] \"Aug 1999\" \"Aug 2000\" \"Aug 2001\" \"Aug 2002\" \"Aug 2003\"\n [9,] \"Sep 1999\" \"Sep 2000\" \"Sep 2001\" \"Sep 2002\" \"Sep 2003\"\n[10,] \"Oct 1999\" \"Oct 2000\" \"Oct 2001\" \"Oct 2002\" \"Oct 2003\"\n[11,] \"Nov 1999\" \"Nov 2000\" \"Nov 2001\" \"Nov 2002\" \"Nov 2003\"\n[12,] \"Dec 1999\" \"Dec 2000\" \"Dec 2001\" \"Dec 2002\" \"Dec 2003\"\n```\n\n\n---\n#### sweep\n```r sweep-函数定义：对数组、矩阵按维度进行运算\nsweep(x, MARGIN, STATS, FUN = \"-\", check.margin = TRUE, ...)\n```\n\n> **参数列表：**\n> x: 数组、矩阵\n> MARGIN：运算维度，1表示行，2表示列，3即第三维度，以此类推\n> STATS：运算参数，类似于减法中的减数，除法中的除数\n> FUN：要使用的函数\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-对数组按行运算\n> mat <- matrix(1:9, 3)\n> mat\n     [,1] [,2] [,3]\n[1,]    1    4    7\n[2,]    2    5    8\n[3,]    3    6    9\n\n> sweep(mat, 1, c(1,4,7), \"+\")  # 第一行都加1，第二行都加4，第三行都加7\n     [,1] [,2] [,3]\n[1,]    2    5    8\n[2,]    6    9   12\n[3,]   10   13   16\n```\n\n```r eg2-STATS可为其他格式，但注意与取MARGIN后的X结构相符\n> A <- array(1:24, dim = 4:2)\n> median <- apply(A, 1:2, median)\n> A\n, , 1\n     [,1] [,2] [,3]\n[1,]    1    5    9\n[2,]    2    6   10\n[3,]    3    7   11\n[4,]    4    8   12\n, , 2\n     [,1] [,2] [,3]\n[1,]   13   17   21\n[2,]   14   18   22\n[3,]   15   19   23\n[4,]   16   20   24\n> median\n     [,1] [,2] [,3]\n[1,]    7   11   15\n[2,]    8   12   16\n[3,]    9   13   17\n[4,]   10   14   18\n\n> sweep(A, 1:2, median)\n, , 1\n     [,1] [,2] [,3]\n[1,]   -6   -6   -6\n[2,]   -6   -6   -6\n[3,]   -6   -6   -6\n[4,]   -6   -6   -6\n, , 2\n     [,1] [,2] [,3]\n[1,]    6    6    6\n[2,]    6    6    6\n[3,]    6    6    6\n[4,]    6    6    6\n```\n\n---\n#### replicate\n```r replicate-函数定义：rep能把输入参数重复数次，replicate则能调用表达式数次\nreplicate(n, expr, simplify = \"array\")\n```\n\n> **参数列表：**\n> n: 调用的次数\n> expr：调用的表达式\n\n{% label info@<b>举例阐释</b> %}\n```r eg-建立一个函数，模拟扔两个骰子的点数之和，然后重复运行10次\n> game <- function() {\n+   n <- sample(1:6,2,replace=T)\n+   return(sum(n))\n+ }\n> replicate(n=10, game())\n [1]  6  6  6  7  7  7 11  8  7  9\n```\n\n\n---\n#### aggregate\n```r aggregate-函数定义：可按要求把数据分组，然后对分组后的数据进行各种操作\naggregate(x, by, FUN, ...)\n```\n\n> **参数列表：**\n> x: 一种R数据结构，通常为数据框\n> by：分组索引，必须为list格式\n> FUN：要使用的函数\n\n{% label info@<b>举例阐释</b> %}\n```r eg-按性别分组查看年龄和身高的均值\n> data <- data.frame(name=c(\"张三\",\"李四\",\"王五\",\"赵六\"),\n+              sex=c(\"M\",\"M\",\"F\",\"F\"), age=c(20,40,22,30),\n+              height=c(166,170,150,155))\n> data\n  name sex age height\n1 张三   M  20    166\n2 李四   M  40    170\n3 王五   F  22    150\n4 赵六   F  30    155\n\n> aggregate(data[,3:4], by=list(data$sex), mean)\n  Group.1 age height\n1       F  26  152.5\n2       M  30  168.0\n```\n\n\n<br>\n\n---\n## 致谢\n\n> ### 参考文章\n> - [R语言apply函数族笔记](https://www.cnblogs.com/aquastone/p/r-apply.html)\n> - [掌握R语言中的apply函数族](http://blog.fens.me/r-apply/)\n> - [Dr. Feng Li-Personal Site](https://feng.li/)","source":"_posts/2018-03-15-数据操作-apply函数族.md","raw":"---\ntitle: 数据操作-apply函数族\ndate: 2018-03-15 12:19:00\ncategories: R\ntags: \n    - R\n    - apply\n    - 数据操作\ncopyright: true\n---\n\n<center><i>\n    R 作为一种向量化的编程语言，一大特征便是以向量计算替代了循环计算，使效率大大提升。<br>\n    apply函数族正是为解决数据循环处理问题而生的 —— 面向不同数据类型，生成不同返回值的包含8个相关函数的函数族。\n</i></center>\n\n<br>![apply函数.PNG](http://p31gihke0.bkt.clouddn.com/apply函数.PNG)\n<!--more-->\n\n## 为何要用apply？\n在使用 R 时，要尽量用 array 的方式思考，避免 for 循环，写过多的 for 循环代码，最后把 R 代码写的跟 C 似得说明你没有进入 R 的思考方式，是一种费力不讨好的行为。那么不用循环怎么实现迭代呢？apply函数族是一把利器，它不是一个函数，而是一族功能类似的函数。\n\n<br>\n\n---\n\n## 语法详解\n### apply\n```r apply-函数定义：在 X 上，沿 margin 方向，依次调用 FUN\napply(X, margin, FUN, ...)\n```\n\n> **参数列表：**\n> X：数组、矩阵、数据框\n> margin：按维度运算，1表示按行，2表示按列，c(1,3)表示第1、3维\n> FUN：要使用的函数\n\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-矩阵按列求和\n> mat <- matrix(1:12, 3, 4)\n> mat\n     [,1] [,2] [,3] [,4]\n[1,]    1    4    7   10\n[2,]    2    5    8   11\n[3,]    3    6    9   12\n\n> apply(mat, 2, sum)\n[1]  6 15 24 33\n```\n\n```r eg2-数组第1、3维度组合求和\n> ary <- array(1:12, c(2,3,2))\n> ary\n, , 1\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n, , 2\n     [,1] [,2] [,3]\n[1,]    7    9   11\n[2,]    8   10   12\n\n> apply(ary, c(1,3), sum)\n     [,1] [,2]\n[1,]    9   27\n[2,]   12   30\n```\n\n```r eg3-数据框按列求均值\n> data <- data.frame(x1=1:5, x2=6:10)\n> data\n  x1 x2\n1  1  6\n2  2  7\n3  3  8\n4  4  9\n5  5 10\n\n> apply(data, 2, mean)\nx1 x2 \n 3  8 \n```\n\n---\n### tapply\n```r tapply-函数定义：按 INDEX 值分组，相同值对应下标的 X 中的元素形成一个集合，应用到 FUN\ntapply(X, INDEX, FUN = NULL, ..., simplify = TRUE)\n```\n\n> **参数列表：**\n> X：向量、数组\n> INDEX：用于分组的索引\n> FUN：要使用的函数\n> simplify : 是否数组化，当值TRUE时，输出结果按数组进行分组输出\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-当FUN为NULL，返回分组的结果，返回值中相等的元素所对应的下标属于同一组\n> x <- 1:6\n> INDEX <- c('a','a','b','c','c','c')\n> tapply(x, INDEX)\n[1] 1 1 2 3 3 3\n```\n\n```r eg2-向量按 INDEX 分组求和\n> tapply(x, INDEX, sum)\n a  b  c \n 3  3 15 \n```\n\n```r eg3-矩阵按 INDEX 分组求均值\n> mat <- matrix(1:10, 2)\n> mat\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    3    5    7    9\n[2,]    2    4    6    8   10\n> INDEX <- matrix(c(rep(1,5), rep(2,5)), nrow=2)\n> INDEX\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    1    1    2    2\n[2,]    1    1    2    2    2\n> tapply(mat, INDEX)\n [1] 1 1 1 1 1 2 2 2 2 2\n> tapply(mat, INDEX, mean)\n1 2 \n3 8 \n```\n\n---\n### lapply\n```r lapply-函数定义：在 X 上逐个元素调用 FUN, 返回和 X 等长的 list 作为结果集\nlapply(X, FUN, ...)\n```\n\n> **参数列表：**\n> X：列表、向量、数据框\n> FUN：要使用的函数\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-计算 list 中的每个 KEY 对应数据的均值\n> lst <- list(a=1:10, b=seq(0,7,2), c=c(2,5,8))\n> lst\n$a\n [1]  1  2  3  4  5  6  7  8  9 10\n$b\n[1] 0 2 4 6\n$c\n[1] 2 5 8\n\n> lapply(lst, mean)\n$a\n[1] 5.5\n$b\n[1] 3\n$c\n[1] 5\n```\n\n```r eg2-对数据框的列求和\n> data <- data.frame(x1=1:5, x2=6:10)\n> data\n  x1 x2\n1  1  6\n2  2  7\n3  3  8\n4  4  9\n5  5 10\n> lapply(data, sum)\n$x1\n[1] 15\n$x2\n[1] 40\n```\n\n```r eg3-找出闰年：对向量内各元素依次调用函数\n> isLeapYear <- function(a){\n+   if( (a%%4==0 & a%/%100!=0) | a%%400==0 )\n+     a\n+ }\n> a <- 1900:1910\n> unlist(lapply(a, isLeapYear))\n[1] 1900 1904 1908\n```\n\n---\n### rapply\n```r rapply-函数定义：递归版lapply，对list遍历直至无list，最终非list元素若类型是classes参数指定的类型，则调用FUN\nrapply(list, f, classes = \"ANY\", deflt = NULL,how = c(\"unlist\", \"replace\", \"list\"), ...)\n```\n\n> **参数列表：**\n> list：列表\n> f：要使用的函数\n> classes： 匹配类型, ANY为所有类型\n> deflt: 非匹配类型的默认值\n> how: 3种操作方式，\n> - replace：则用调用f后的结果替换原list中原来的元素；\n> - list：新建一个list，类型匹配调用f函数，不匹配赋值为deflt；\n> - unlist：执行一次unlist(recursive = TRUE)操作\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-遍历 list 分组求和\n> lst <- list(a=list(aa=c(1:5), ab=c(6:10)), b=list(ba=c(1:10)))\n> lst\n$a\n$a$aa\n[1] 1 2 3 4 5\n$a$ab\n[1]  6  7  8  9 10\n$b\n$b$ba\n [1]  1  2  3  4  5  6  7  8  9 10\n\n> rapply(lst, sum, how=\"replace\")  # 输出结果为list\n$a\n$a$aa\n[1] 15\n$a$ab\n[1] 40\n$b\n$b$ba\n[1] 55\n\n> rapply(lst, sum, how=\"unlist\")   # 输出结果为vector\na.aa a.ab b.ba \n  15   40   55 \n```\n\n\n---\n### sapply\n```r sapply-函数定义：简化版lapply，增加参数simplify和USE.NAMES，可设定输出类型\nsapply(X, FUN, ..., simplify = TRUE, USE.NAMES = TRUE)\n```\n\n> **参数列表：**\n> X：列表、向量、数据框\n> FUN：要使用的函数\n> simplify: 若FALSE，等价于lapply。否则，将lapply输出的list简化为vector或matrix\n> USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-simplify参数设定输出类型\n> lst <- list(a=c(1:5), b=c(6:10))\n> sapply(lst, sum, simplify = F)    # 输出list\n$a\n[1] 15\n$b\n[1] 40\n\n> sapply(lst, sum)                  # 输出vector\n a  b \n15 40 \n\n> sapply(lst, fivenum)              # 输出matrix\n     a  b\n[1,] 1  6\n[2,] 2  7\n[3,] 3  8\n[4,] 4  9\n[5,] 5 10\n```\n\n```r eg2-USE.NAMES参数作用\n> val <- head(letters)\n> val\n[1] \"a\" \"b\" \"c\" \"d\" \"e\" \"f\"\n> sapply(val, paste)\n  a   b   c   d   e   f \n\"a\" \"b\" \"c\" \"d\" \"e\" \"f\" \n> sapply(val, paste, USE.NAMES = F)\n[1] \"a\" \"b\" \"c\" \"d\" \"e\" \"f\"\n```\n\n---\n### vapply\n```r vapply-函数定义：类似sapply，但提供参数FUN.VALUE用以设定返回值的行名\nvapply(X, FUN, FUN.VALUE, ..., USE.NAMES = TRUE)\n```\n\n> **参数列表：**\n> X：列表、数据框\n> FUN：要使用的函数\n> FUN.VALUE：定义返回值的行名row.names\n> USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-FUN.VALUE参数设置返回值行名\n> lst <- list(a=c(1:5), b=c(6:10))\n> res <- vapply(lst, function(x) c(min(x), max(x)), c(min.=0, max.=0))\n> res\n     a  b\nmin. 1  6\nmax. 5 10\n```\n\n```r eg2-对数据框的数据累计求和，并对每一行设置行名row.names\n> data <- data.frame(cbind(x1=3, x2=c(2:1,4:5)))\n> data\n  x1 x2\n1  3  2\n2  3  1\n3  3  4\n4  3  5\n\n> vapply(data, cumsum, FUN.VALUE=c('a'=0,'b'=0,'c'=0,'d'=0))\n  x1 x2\na  3  2\nb  6  3\nc  9  7\nd 12 12\n```\n\n---\n### mapply\n```r mapply-函数定义：多变量版sapply，将FUN应用于多个同结构数据第一个元素组成的数组，然后是第二个元素组成的数组，依此类推\nmapply(FUN, ..., MoreArgs=NULL, SIMPLIFY=TRUE, USE.NAMES=TRUE)\n```\n\n> **参数列表：**\n> FUN：要使用的函数\n> …: 接收多个数据(list、vector)\n> MoreArgs: FUN的参数列表\n> simplify: 若FALSE，输出list。否则，将输出的list简化为vector或matrix\n> USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-输入两个list并分组求和\n> mapply(sum, list(a=1,b=2,c=3), list(a=10,b=20,d=30))\n a  b  c \n11 22 33 \n```\n\n```r eg2-比较两个向量大小，按索引顺序取较大的值\n> a <- 1:10\n> b <- 5:-4\n> a\n [1]  1  2  3  4  5  6  7  8  9 10\n> b\n [1]  5  4  3  2  1  0 -1 -2 -3 -4\n> mapply(max, a, b)\n [1]  5  4  3  4  5  6  7  8  9 10\n```\n\n```r eg3-输入向量，返回值多个时返回matrix\n> mapply(function(x,y) c(x+y, x^y, x-y), c(1:5), c(1:5))\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    2    4    6    8   10\n[2,]    1    4   27  256 3125\n[3,]    0    0    0    0    0\n```\n\n\n---\n### eapply\n```r eapply-函数定义：对一个环境空间中的所有变量进行遍历\neapply(env, FUN, ..., all.names = FALSE, USE.NAMES = TRUE)\n```\n\n> **参数列表：**\n> env: 环境空间\n> FUN：要使用的函数\n> all.names: 匹配类型, ANY为所有类型\n> USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置\n\n{% label info@<b>举例阐释</b> %}\n```r eg-eapply操作示例\n> # 定义一个环境空间\n> env <- new.env()\n> # 向这个环境空间中存入3个变量\n> env$a <- 1:10\n> env$b <- exp(-3:3)\n> env$logic <- c(TRUE, FALSE, FALSE, TRUE)\n\n> ls(env)      # 查看env空间中的变量\n[1] \"a\"     \"b\"     \"logic\"\n> ls.str(env)  # 查看env空间中的变量字符串结构\na :  int [1:10] 1 2 3 4 5 6 7 8 9 10\nb :  num [1:7] 0.0498 0.1353 0.3679 1 2.7183 ...\nlogic :  logi [1:4] TRUE FALSE FALSE TRUE\n\n> eapply(env, mean)   # 计算env环境空间中所有变量的均值\n$a\n[1] 5.5\n$b\n[1] 4.535125\n$logic\n[1] 0.5\n```\n\n<br>\n\n---\n## 应用及拓展\n### 应用展示\n原始数据为按年份year、地区loc和商品类别type进行统计的销售量。我们要制作两个销售总量的crosstable，一个以年份为行、地区为列，一个以年份为行，类别为列。\n```r 应用1-tapply实现crosstable功能\n> df <- data.frame(year=kronecker(2001:2003, rep(1,4)), \n                 loc=c('beijing','beijing','shanghai','shanghai'), \n                 type=rep(c('A','B'),6), sale=rep(1:12))\n> df\n   year      loc type sale\n1  2001  beijing    A    1\n2  2001  beijing    B    2\n3  2001 shanghai    A    3\n4  2001 shanghai    B    4\n5  2002  beijing    A    5\n6  2002  beijing    B    6\n7  2002 shanghai    A    7\n8  2002 shanghai    B    8\n9  2003  beijing    A    9\n10 2003  beijing    B   10\n11 2003 shanghai    A   11\n12 2003 shanghai    B   12\n\n> tapply(df$sale, df[,c('year','loc')], sum)\n      loc\nyear   beijing shanghai\n  2001       3        7\n  2002      11       15\n  2003      19       23\n\n> tapply(df$sale, df[,c('year','type')], sum)\n      type\nyear    A  B\n  2001  4  6\n  2002 12 14\n  2003 20 22\n```\n\n```r 应用2-mapply使两个嵌套列表对应项相加\n> list1 <- list(a=1:5, b=list(c=1:4, d=5:9))\n> list1\n$a\n[1] 1 2 3 4 5\n$b\n$b$c\n[1] 1 2 3 4\n$b$d\n[1] 5 6 7 8 9\n\n> list2 <- list(a=1:5, b=list(c=5:8, d=1:5))\n> list2\n$a\n[1] 1 2 3 4 5\n$b\n$b$c\n[1] 5 6 7 8\n$b$d\n[1] 1 2 3 4 5\n\n> \"%+%\" <- function(x,y) mapply(\"+\", x, y)\n> mapply(\"%+%\", list1, list2)\n$a\n[1]  2  4  6  8 10\n$b\n$b$c\n[1]  6  8 10 12\n$b$d\n[1]  6  8 10 12 14\n```\n\n---\n### 相关函数\n#### by\n```r by-函数定义：by可以当成data.frame上的tapply，在数据框行上施用索引分组运算\nby(data, INDICES, FUN, ..., simplify = TRUE)\n```\n\n> **参数列表：**\n> data: 数据框\n> INDICES：与数据框行数等长的用于分组的索引\n> FUN：要使用的函数\n\n{% label info@<b>举例阐释</b> %}\n```r eg-by对数据框进行按行索引分组计算\n> data <- data.frame(a=c(1:5), b=c(6:10))\n> data\n  a  b\n1 1  6\n2 2  7\n3 3  8\n4 4  9\n5 5 10\n> INDICES <- c(1,1,2,2,2)\n\n> by(data, INDICES, colMeans)\nINDICES: 1\n  a   b \n1.5 6.5 \n-------------------------------------------------------------------------------\nINDICES: 2\na b \n4 9 \n> by(data, INDICES, rowMeans)\nINDICES: 1\n  1   2 \n3.5 4.5 \n-------------------------------------------------------------------------------\nINDICES: 2\n  3   4   5 \n5.5 6.5 7.5 \n```\n\n#### outer\n```r outer-函数定义：作用于数组的类似于矩阵外积运算方式的运算函数\nouter(X, Y, FUN = \"*\", ...)\n```\n\n> **参数列表：**\n> X、Y: 向量、数组\n> FUN：当为空时即为外积运算，否则为将FUN代替外积运算符进行类似外积的运算操作\n\n{% label info@<b>举例阐释</b> %}\n```r eg-outer的使用\n> x <- 1:4; y <- 2:4\n> x; y\n[1] 1 2 3 4\n[1] 2 3 4\n> outer(x, y)\n     [,1] [,2] [,3]\n[1,]    2    3    4\n[2,]    4    6    8\n[3,]    6    9   12\n[4,]    8   12   16\n\n> month.abb\n [1] \"Jan\" \"Feb\" \"Mar\" \"Apr\" \"May\" \"Jun\" \"Jul\" \"Aug\" \"Sep\" \"Oct\" \"Nov\" \"Dec\"\n> outer(month.abb, 1999:2003, FUN = \"paste\")\n      [,1]       [,2]       [,3]       [,4]       [,5]      \n [1,] \"Jan 1999\" \"Jan 2000\" \"Jan 2001\" \"Jan 2002\" \"Jan 2003\"\n [2,] \"Feb 1999\" \"Feb 2000\" \"Feb 2001\" \"Feb 2002\" \"Feb 2003\"\n [3,] \"Mar 1999\" \"Mar 2000\" \"Mar 2001\" \"Mar 2002\" \"Mar 2003\"\n [4,] \"Apr 1999\" \"Apr 2000\" \"Apr 2001\" \"Apr 2002\" \"Apr 2003\"\n [5,] \"May 1999\" \"May 2000\" \"May 2001\" \"May 2002\" \"May 2003\"\n [6,] \"Jun 1999\" \"Jun 2000\" \"Jun 2001\" \"Jun 2002\" \"Jun 2003\"\n [7,] \"Jul 1999\" \"Jul 2000\" \"Jul 2001\" \"Jul 2002\" \"Jul 2003\"\n [8,] \"Aug 1999\" \"Aug 2000\" \"Aug 2001\" \"Aug 2002\" \"Aug 2003\"\n [9,] \"Sep 1999\" \"Sep 2000\" \"Sep 2001\" \"Sep 2002\" \"Sep 2003\"\n[10,] \"Oct 1999\" \"Oct 2000\" \"Oct 2001\" \"Oct 2002\" \"Oct 2003\"\n[11,] \"Nov 1999\" \"Nov 2000\" \"Nov 2001\" \"Nov 2002\" \"Nov 2003\"\n[12,] \"Dec 1999\" \"Dec 2000\" \"Dec 2001\" \"Dec 2002\" \"Dec 2003\"\n```\n\n\n---\n#### sweep\n```r sweep-函数定义：对数组、矩阵按维度进行运算\nsweep(x, MARGIN, STATS, FUN = \"-\", check.margin = TRUE, ...)\n```\n\n> **参数列表：**\n> x: 数组、矩阵\n> MARGIN：运算维度，1表示行，2表示列，3即第三维度，以此类推\n> STATS：运算参数，类似于减法中的减数，除法中的除数\n> FUN：要使用的函数\n\n{% label info@<b>举例阐释</b> %}\n```r eg1-对数组按行运算\n> mat <- matrix(1:9, 3)\n> mat\n     [,1] [,2] [,3]\n[1,]    1    4    7\n[2,]    2    5    8\n[3,]    3    6    9\n\n> sweep(mat, 1, c(1,4,7), \"+\")  # 第一行都加1，第二行都加4，第三行都加7\n     [,1] [,2] [,3]\n[1,]    2    5    8\n[2,]    6    9   12\n[3,]   10   13   16\n```\n\n```r eg2-STATS可为其他格式，但注意与取MARGIN后的X结构相符\n> A <- array(1:24, dim = 4:2)\n> median <- apply(A, 1:2, median)\n> A\n, , 1\n     [,1] [,2] [,3]\n[1,]    1    5    9\n[2,]    2    6   10\n[3,]    3    7   11\n[4,]    4    8   12\n, , 2\n     [,1] [,2] [,3]\n[1,]   13   17   21\n[2,]   14   18   22\n[3,]   15   19   23\n[4,]   16   20   24\n> median\n     [,1] [,2] [,3]\n[1,]    7   11   15\n[2,]    8   12   16\n[3,]    9   13   17\n[4,]   10   14   18\n\n> sweep(A, 1:2, median)\n, , 1\n     [,1] [,2] [,3]\n[1,]   -6   -6   -6\n[2,]   -6   -6   -6\n[3,]   -6   -6   -6\n[4,]   -6   -6   -6\n, , 2\n     [,1] [,2] [,3]\n[1,]    6    6    6\n[2,]    6    6    6\n[3,]    6    6    6\n[4,]    6    6    6\n```\n\n---\n#### replicate\n```r replicate-函数定义：rep能把输入参数重复数次，replicate则能调用表达式数次\nreplicate(n, expr, simplify = \"array\")\n```\n\n> **参数列表：**\n> n: 调用的次数\n> expr：调用的表达式\n\n{% label info@<b>举例阐释</b> %}\n```r eg-建立一个函数，模拟扔两个骰子的点数之和，然后重复运行10次\n> game <- function() {\n+   n <- sample(1:6,2,replace=T)\n+   return(sum(n))\n+ }\n> replicate(n=10, game())\n [1]  6  6  6  7  7  7 11  8  7  9\n```\n\n\n---\n#### aggregate\n```r aggregate-函数定义：可按要求把数据分组，然后对分组后的数据进行各种操作\naggregate(x, by, FUN, ...)\n```\n\n> **参数列表：**\n> x: 一种R数据结构，通常为数据框\n> by：分组索引，必须为list格式\n> FUN：要使用的函数\n\n{% label info@<b>举例阐释</b> %}\n```r eg-按性别分组查看年龄和身高的均值\n> data <- data.frame(name=c(\"张三\",\"李四\",\"王五\",\"赵六\"),\n+              sex=c(\"M\",\"M\",\"F\",\"F\"), age=c(20,40,22,30),\n+              height=c(166,170,150,155))\n> data\n  name sex age height\n1 张三   M  20    166\n2 李四   M  40    170\n3 王五   F  22    150\n4 赵六   F  30    155\n\n> aggregate(data[,3:4], by=list(data$sex), mean)\n  Group.1 age height\n1       F  26  152.5\n2       M  30  168.0\n```\n\n\n<br>\n\n---\n## 致谢\n\n> ### 参考文章\n> - [R语言apply函数族笔记](https://www.cnblogs.com/aquastone/p/r-apply.html)\n> - [掌握R语言中的apply函数族](http://blog.fens.me/r-apply/)\n> - [Dr. Feng Li-Personal Site](https://feng.li/)","slug":"2018-03-15-数据操作-apply函数族","published":1,"updated":"2018-03-17T02:45:40.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60j5000cjsuviyct0cov","content":"<center><i>\n    R 作为一种向量化的编程语言，一大特征便是以向量计算替代了循环计算，使效率大大提升。<br>\n    apply函数族正是为解决数据循环处理问题而生的 —— 面向不同数据类型，生成不同返回值的包含8个相关函数的函数族。\n</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/apply函数.PNG\" alt=\"apply函数.PNG\"><br><a id=\"more\"></a></p>\n<h2 id=\"为何要用apply？\"><a href=\"#为何要用apply？\" class=\"headerlink\" title=\"为何要用apply？\"></a>为何要用apply？</h2><p>在使用 R 时，要尽量用 array 的方式思考，避免 for 循环，写过多的 for 循环代码，最后把 R 代码写的跟 C 似得说明你没有进入 R 的思考方式，是一种费力不讨好的行为。那么不用循环怎么实现迭代呢？apply函数族是一把利器，它不是一个函数，而是一族功能类似的函数。</p>\n<p><br></p>\n<hr>\n<h2 id=\"语法详解\"><a href=\"#语法详解\" class=\"headerlink\" title=\"语法详解\"></a>语法详解</h2><h3 id=\"apply\"><a href=\"#apply\" class=\"headerlink\" title=\"apply\"></a>apply</h3><figure class=\"highlight r\"><figcaption><span>apply-函数定义：在 X 上，沿 margin 方向，依次调用 FUN</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apply(X, margin, FUN, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>X：数组、矩阵、数据框<br>margin：按维度运算，1表示按行，2表示按列，c(1,3)表示第1、3维<br>FUN：要使用的函数</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-矩阵按列求和</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; mat &lt;- matrix(<span class=\"number\">1</span>:<span class=\"number\">12</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>)</span><br><span class=\"line\">&gt; mat</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>] [,<span class=\"number\">4</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">1</span>    <span class=\"number\">4</span>    <span class=\"number\">7</span>   <span class=\"number\">10</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">2</span>    <span class=\"number\">5</span>    <span class=\"number\">8</span>   <span class=\"number\">11</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">3</span>    <span class=\"number\">6</span>    <span class=\"number\">9</span>   <span class=\"number\">12</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; apply(mat, <span class=\"number\">2</span>, sum)</span><br><span class=\"line\">[<span class=\"number\">1</span>]  <span class=\"number\">6</span> <span class=\"number\">15</span> <span class=\"number\">24</span> <span class=\"number\">33</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-数组第1、3维度组合求和</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; ary &lt;- array(<span class=\"number\">1</span>:<span class=\"number\">12</span>, c(<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">2</span>))</span><br><span class=\"line\">&gt; ary</span><br><span class=\"line\">, , <span class=\"number\">1</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">1</span>    <span class=\"number\">3</span>    <span class=\"number\">5</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">2</span>    <span class=\"number\">4</span>    <span class=\"number\">6</span></span><br><span class=\"line\">, , <span class=\"number\">2</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">7</span>    <span class=\"number\">9</span>   <span class=\"number\">11</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">8</span>   <span class=\"number\">10</span>   <span class=\"number\">12</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; apply(ary, c(<span class=\"number\">1</span>,<span class=\"number\">3</span>), sum)</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">9</span>   <span class=\"number\">27</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]   <span class=\"number\">12</span>   <span class=\"number\">30</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg3-数据框按列求均值</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; data &lt;- data.frame(x1=<span class=\"number\">1</span>:<span class=\"number\">5</span>, x2=<span class=\"number\">6</span>:<span class=\"number\">10</span>)</span><br><span class=\"line\">&gt; data</span><br><span class=\"line\">  x1 x2</span><br><span class=\"line\"><span class=\"number\">1</span>  <span class=\"number\">1</span>  <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"number\">2</span>  <span class=\"number\">2</span>  <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"number\">3</span>  <span class=\"number\">3</span>  <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"number\">4</span>  <span class=\"number\">4</span>  <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"number\">5</span>  <span class=\"number\">5</span> <span class=\"number\">10</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; apply(data, <span class=\"number\">2</span>, mean)</span><br><span class=\"line\">x1 x2 </span><br><span class=\"line\"> <span class=\"number\">3</span>  <span class=\"number\">8</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"tapply\"><a href=\"#tapply\" class=\"headerlink\" title=\"tapply\"></a>tapply</h3><figure class=\"highlight r\"><figcaption><span>tapply-函数定义：按 INDEX 值分组，相同值对应下标的 X 中的元素形成一个集合，应用到 FUN</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tapply(X, INDEX, FUN = <span class=\"literal\">NULL</span>, <span class=\"keyword\">...</span>, simplify = <span class=\"literal\">TRUE</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>X：向量、数组<br>INDEX：用于分组的索引<br>FUN：要使用的函数<br>simplify : 是否数组化，当值TRUE时，输出结果按数组进行分组输出</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-当FUN为NULL，返回分组的结果，返回值中相等的元素所对应的下标属于同一组</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; x &lt;- <span class=\"number\">1</span>:<span class=\"number\">6</span></span><br><span class=\"line\">&gt; INDEX &lt;- c(<span class=\"string\">'a'</span>,<span class=\"string\">'a'</span>,<span class=\"string\">'b'</span>,<span class=\"string\">'c'</span>,<span class=\"string\">'c'</span>,<span class=\"string\">'c'</span>)</span><br><span class=\"line\">&gt; tapply(x, INDEX)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">3</span> <span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-向量按 INDEX 分组求和</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; tapply(x, INDEX, sum)</span><br><span class=\"line\"> a  b  c </span><br><span class=\"line\"> <span class=\"number\">3</span>  <span class=\"number\">3</span> <span class=\"number\">15</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg3-矩阵按 INDEX 分组求均值</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; mat &lt;- matrix(<span class=\"number\">1</span>:<span class=\"number\">10</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\">&gt; mat</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>] [,<span class=\"number\">4</span>] [,<span class=\"number\">5</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">1</span>    <span class=\"number\">3</span>    <span class=\"number\">5</span>    <span class=\"number\">7</span>    <span class=\"number\">9</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">2</span>    <span class=\"number\">4</span>    <span class=\"number\">6</span>    <span class=\"number\">8</span>   <span class=\"number\">10</span></span><br><span class=\"line\">&gt; INDEX &lt;- matrix(c(rep(<span class=\"number\">1</span>,<span class=\"number\">5</span>), rep(<span class=\"number\">2</span>,<span class=\"number\">5</span>)), nrow=<span class=\"number\">2</span>)</span><br><span class=\"line\">&gt; INDEX</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>] [,<span class=\"number\">4</span>] [,<span class=\"number\">5</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">1</span>    <span class=\"number\">1</span>    <span class=\"number\">1</span>    <span class=\"number\">2</span>    <span class=\"number\">2</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">1</span>    <span class=\"number\">1</span>    <span class=\"number\">2</span>    <span class=\"number\">2</span>    <span class=\"number\">2</span></span><br><span class=\"line\">&gt; tapply(mat, INDEX)</span><br><span class=\"line\"> [<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">1</span> <span class=\"number\">1</span> <span class=\"number\">1</span> <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">2</span> <span class=\"number\">2</span> <span class=\"number\">2</span> <span class=\"number\">2</span></span><br><span class=\"line\">&gt; tapply(mat, INDEX, mean)</span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"number\">2</span> </span><br><span class=\"line\"><span class=\"number\">3</span> <span class=\"number\">8</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"lapply\"><a href=\"#lapply\" class=\"headerlink\" title=\"lapply\"></a>lapply</h3><figure class=\"highlight r\"><figcaption><span>lapply-函数定义：在 X 上逐个元素调用 FUN, 返回和 X 等长的 list 作为结果集</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lapply(X, FUN, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>X：列表、向量、数据框<br>FUN：要使用的函数</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-计算 list 中的每个 KEY 对应数据的均值</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; lst &lt;- list(a=<span class=\"number\">1</span>:<span class=\"number\">10</span>, b=seq(<span class=\"number\">0</span>,<span class=\"number\">7</span>,<span class=\"number\">2</span>), c=c(<span class=\"number\">2</span>,<span class=\"number\">5</span>,<span class=\"number\">8</span>))</span><br><span class=\"line\">&gt; lst</span><br><span class=\"line\">$a</span><br><span class=\"line\"> [<span class=\"number\">1</span>]  <span class=\"number\">1</span>  <span class=\"number\">2</span>  <span class=\"number\">3</span>  <span class=\"number\">4</span>  <span class=\"number\">5</span>  <span class=\"number\">6</span>  <span class=\"number\">7</span>  <span class=\"number\">8</span>  <span class=\"number\">9</span> <span class=\"number\">10</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">0</span> <span class=\"number\">2</span> <span class=\"number\">4</span> <span class=\"number\">6</span></span><br><span class=\"line\">$c</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">2</span> <span class=\"number\">5</span> <span class=\"number\">8</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; lapply(lst, mean)</span><br><span class=\"line\">$a</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">5.5</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">3</span></span><br><span class=\"line\">$c</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-对数据框的列求和</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; data &lt;- data.frame(x1=<span class=\"number\">1</span>:<span class=\"number\">5</span>, x2=<span class=\"number\">6</span>:<span class=\"number\">10</span>)</span><br><span class=\"line\">&gt; data</span><br><span class=\"line\">  x1 x2</span><br><span class=\"line\"><span class=\"number\">1</span>  <span class=\"number\">1</span>  <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"number\">2</span>  <span class=\"number\">2</span>  <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"number\">3</span>  <span class=\"number\">3</span>  <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"number\">4</span>  <span class=\"number\">4</span>  <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"number\">5</span>  <span class=\"number\">5</span> <span class=\"number\">10</span></span><br><span class=\"line\">&gt; lapply(data, sum)</span><br><span class=\"line\">$x1</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">15</span></span><br><span class=\"line\">$x2</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">40</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg3-找出闰年：对向量内各元素依次调用函数</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; isLeapYear &lt;- <span class=\"keyword\">function</span>(a)&#123;</span><br><span class=\"line\">+   <span class=\"keyword\">if</span>( (a%%<span class=\"number\">4</span>==<span class=\"number\">0</span> &amp; a%/%<span class=\"number\">100</span>!=<span class=\"number\">0</span>) | a%%<span class=\"number\">400</span>==<span class=\"number\">0</span> )</span><br><span class=\"line\">+     a</span><br><span class=\"line\">+ &#125;</span><br><span class=\"line\">&gt; a &lt;- <span class=\"number\">1900</span>:<span class=\"number\">1910</span></span><br><span class=\"line\">&gt; unlist(lapply(a, isLeapYear))</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1900</span> <span class=\"number\">1904</span> <span class=\"number\">1908</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"rapply\"><a href=\"#rapply\" class=\"headerlink\" title=\"rapply\"></a>rapply</h3><figure class=\"highlight r\"><figcaption><span>rapply-函数定义：递归版lapply，对list遍历直至无list，最终非list元素若类型是classes参数指定的类型，则调用FUN</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rapply(list, f, classes = <span class=\"string\">\"ANY\"</span>, deflt = <span class=\"literal\">NULL</span>,how = c(<span class=\"string\">\"unlist\"</span>, <span class=\"string\">\"replace\"</span>, <span class=\"string\">\"list\"</span>), <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>list：列表<br>f：要使用的函数<br>classes： 匹配类型, ANY为所有类型<br>deflt: 非匹配类型的默认值<br>how: 3种操作方式，</p>\n<ul>\n<li>replace：则用调用f后的结果替换原list中原来的元素；</li>\n<li>list：新建一个list，类型匹配调用f函数，不匹配赋值为deflt；</li>\n<li>unlist：执行一次unlist(recursive = TRUE)操作</li>\n</ul>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-遍历 list 分组求和</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; lst &lt;- list(a=list(aa=c(<span class=\"number\">1</span>:<span class=\"number\">5</span>), ab=c(<span class=\"number\">6</span>:<span class=\"number\">10</span>)), b=list(ba=c(<span class=\"number\">1</span>:<span class=\"number\">10</span>)))</span><br><span class=\"line\">&gt; lst</span><br><span class=\"line\">$a</span><br><span class=\"line\">$a$aa</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span> <span class=\"number\">5</span></span><br><span class=\"line\">$a$ab</span><br><span class=\"line\">[<span class=\"number\">1</span>]  <span class=\"number\">6</span>  <span class=\"number\">7</span>  <span class=\"number\">8</span>  <span class=\"number\">9</span> <span class=\"number\">10</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">$b$ba</span><br><span class=\"line\"> [<span class=\"number\">1</span>]  <span class=\"number\">1</span>  <span class=\"number\">2</span>  <span class=\"number\">3</span>  <span class=\"number\">4</span>  <span class=\"number\">5</span>  <span class=\"number\">6</span>  <span class=\"number\">7</span>  <span class=\"number\">8</span>  <span class=\"number\">9</span> <span class=\"number\">10</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; rapply(lst, sum, how=<span class=\"string\">\"replace\"</span>)  <span class=\"comment\"># 输出结果为list</span></span><br><span class=\"line\">$a</span><br><span class=\"line\">$a$aa</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">15</span></span><br><span class=\"line\">$a$ab</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">40</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">$b$ba</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">55</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; rapply(lst, sum, how=<span class=\"string\">\"unlist\"</span>)   <span class=\"comment\"># 输出结果为vector</span></span><br><span class=\"line\">a.aa a.ab b.ba </span><br><span class=\"line\">  <span class=\"number\">15</span>   <span class=\"number\">40</span>   <span class=\"number\">55</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"sapply\"><a href=\"#sapply\" class=\"headerlink\" title=\"sapply\"></a>sapply</h3><figure class=\"highlight r\"><figcaption><span>sapply-函数定义：简化版lapply，增加参数simplify和USE.NAMES，可设定输出类型</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sapply(X, FUN, <span class=\"keyword\">...</span>, simplify = <span class=\"literal\">TRUE</span>, USE.NAMES = <span class=\"literal\">TRUE</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>X：列表、向量、数据框<br>FUN：要使用的函数<br>simplify: 若FALSE，等价于lapply。否则，将lapply输出的list简化为vector或matrix<br>USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-simplify参数设定输出类型</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; lst &lt;- list(a=c(<span class=\"number\">1</span>:<span class=\"number\">5</span>), b=c(<span class=\"number\">6</span>:<span class=\"number\">10</span>))</span><br><span class=\"line\">&gt; sapply(lst, sum, simplify = <span class=\"literal\">F</span>)    <span class=\"comment\"># 输出list</span></span><br><span class=\"line\">$a</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">15</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">40</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; sapply(lst, sum)                  <span class=\"comment\"># 输出vector</span></span><br><span class=\"line\"> a  b </span><br><span class=\"line\"><span class=\"number\">15</span> <span class=\"number\">40</span> </span><br><span class=\"line\"></span><br><span class=\"line\">&gt; sapply(lst, fivenum)              <span class=\"comment\"># 输出matrix</span></span><br><span class=\"line\">     a  b</span><br><span class=\"line\">[<span class=\"number\">1</span>,] <span class=\"number\">1</span>  <span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,] <span class=\"number\">2</span>  <span class=\"number\">7</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,] <span class=\"number\">3</span>  <span class=\"number\">8</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,] <span class=\"number\">4</span>  <span class=\"number\">9</span></span><br><span class=\"line\">[<span class=\"number\">5</span>,] <span class=\"number\">5</span> <span class=\"number\">10</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-USE.NAMES参数作用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; val &lt;- head(letters)</span><br><span class=\"line\">&gt; val</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"string\">\"a\"</span> <span class=\"string\">\"b\"</span> <span class=\"string\">\"c\"</span> <span class=\"string\">\"d\"</span> <span class=\"string\">\"e\"</span> <span class=\"string\">\"f\"</span></span><br><span class=\"line\">&gt; sapply(val, paste)</span><br><span class=\"line\">  a   b   c   d   e   f </span><br><span class=\"line\"><span class=\"string\">\"a\"</span> <span class=\"string\">\"b\"</span> <span class=\"string\">\"c\"</span> <span class=\"string\">\"d\"</span> <span class=\"string\">\"e\"</span> <span class=\"string\">\"f\"</span> </span><br><span class=\"line\">&gt; sapply(val, paste, USE.NAMES = <span class=\"literal\">F</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"string\">\"a\"</span> <span class=\"string\">\"b\"</span> <span class=\"string\">\"c\"</span> <span class=\"string\">\"d\"</span> <span class=\"string\">\"e\"</span> <span class=\"string\">\"f\"</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"vapply\"><a href=\"#vapply\" class=\"headerlink\" title=\"vapply\"></a>vapply</h3><figure class=\"highlight r\"><figcaption><span>vapply-函数定义：类似sapply，但提供参数FUN.VALUE用以设定返回值的行名</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vapply(X, FUN, FUN.VALUE, <span class=\"keyword\">...</span>, USE.NAMES = <span class=\"literal\">TRUE</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>X：列表、数据框<br>FUN：要使用的函数<br>FUN.VALUE：定义返回值的行名row.names<br>USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-FUN.VALUE参数设置返回值行名</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; lst &lt;- list(a=c(<span class=\"number\">1</span>:<span class=\"number\">5</span>), b=c(<span class=\"number\">6</span>:<span class=\"number\">10</span>))</span><br><span class=\"line\">&gt; res &lt;- vapply(lst, <span class=\"keyword\">function</span>(x) c(min(x), max(x)), c(min.=<span class=\"number\">0</span>, max.=<span class=\"number\">0</span>))</span><br><span class=\"line\">&gt; res</span><br><span class=\"line\">     a  b</span><br><span class=\"line\">min. <span class=\"number\">1</span>  <span class=\"number\">6</span></span><br><span class=\"line\">max. <span class=\"number\">5</span> <span class=\"number\">10</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-对数据框的数据累计求和，并对每一行设置行名row.names</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; data &lt;- data.frame(cbind(x1=<span class=\"number\">3</span>, x2=c(<span class=\"number\">2</span>:<span class=\"number\">1</span>,<span class=\"number\">4</span>:<span class=\"number\">5</span>)))</span><br><span class=\"line\">&gt; data</span><br><span class=\"line\">  x1 x2</span><br><span class=\"line\"><span class=\"number\">1</span>  <span class=\"number\">3</span>  <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"number\">2</span>  <span class=\"number\">3</span>  <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">3</span>  <span class=\"number\">3</span>  <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">4</span>  <span class=\"number\">3</span>  <span class=\"number\">5</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; vapply(data, cumsum, FUN.VALUE=c(<span class=\"string\">'a'</span>=<span class=\"number\">0</span>,<span class=\"string\">'b'</span>=<span class=\"number\">0</span>,<span class=\"string\">'c'</span>=<span class=\"number\">0</span>,<span class=\"string\">'d'</span>=<span class=\"number\">0</span>))</span><br><span class=\"line\">  x1 x2</span><br><span class=\"line\">a  <span class=\"number\">3</span>  <span class=\"number\">2</span></span><br><span class=\"line\">b  <span class=\"number\">6</span>  <span class=\"number\">3</span></span><br><span class=\"line\">c  <span class=\"number\">9</span>  <span class=\"number\">7</span></span><br><span class=\"line\">d <span class=\"number\">12</span> <span class=\"number\">12</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"mapply\"><a href=\"#mapply\" class=\"headerlink\" title=\"mapply\"></a>mapply</h3><figure class=\"highlight r\"><figcaption><span>mapply-函数定义：多变量版sapply，将FUN应用于多个同结构数据第一个元素组成的数组，然后是第二个元素组成的数组，依此类推</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mapply(FUN, <span class=\"keyword\">...</span>, MoreArgs=<span class=\"literal\">NULL</span>, SIMPLIFY=<span class=\"literal\">TRUE</span>, USE.NAMES=<span class=\"literal\">TRUE</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>FUN：要使用的函数<br>…: 接收多个数据(list、vector)<br>MoreArgs: FUN的参数列表<br>simplify: 若FALSE，输出list。否则，将输出的list简化为vector或matrix<br>USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-输入两个list并分组求和</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; mapply(sum, list(a=<span class=\"number\">1</span>,b=<span class=\"number\">2</span>,c=<span class=\"number\">3</span>), list(a=<span class=\"number\">10</span>,b=<span class=\"number\">20</span>,d=<span class=\"number\">30</span>))</span><br><span class=\"line\"> a  b  c </span><br><span class=\"line\"><span class=\"number\">11</span> <span class=\"number\">22</span> <span class=\"number\">33</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-比较两个向量大小，按索引顺序取较大的值</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; a &lt;- <span class=\"number\">1</span>:<span class=\"number\">10</span></span><br><span class=\"line\">&gt; b &lt;- <span class=\"number\">5</span>:-<span class=\"number\">4</span></span><br><span class=\"line\">&gt; a</span><br><span class=\"line\"> [<span class=\"number\">1</span>]  <span class=\"number\">1</span>  <span class=\"number\">2</span>  <span class=\"number\">3</span>  <span class=\"number\">4</span>  <span class=\"number\">5</span>  <span class=\"number\">6</span>  <span class=\"number\">7</span>  <span class=\"number\">8</span>  <span class=\"number\">9</span> <span class=\"number\">10</span></span><br><span class=\"line\">&gt; b</span><br><span class=\"line\"> [<span class=\"number\">1</span>]  <span class=\"number\">5</span>  <span class=\"number\">4</span>  <span class=\"number\">3</span>  <span class=\"number\">2</span>  <span class=\"number\">1</span>  <span class=\"number\">0</span> -<span class=\"number\">1</span> -<span class=\"number\">2</span> -<span class=\"number\">3</span> -<span class=\"number\">4</span></span><br><span class=\"line\">&gt; mapply(max, a, b)</span><br><span class=\"line\"> [<span class=\"number\">1</span>]  <span class=\"number\">5</span>  <span class=\"number\">4</span>  <span class=\"number\">3</span>  <span class=\"number\">4</span>  <span class=\"number\">5</span>  <span class=\"number\">6</span>  <span class=\"number\">7</span>  <span class=\"number\">8</span>  <span class=\"number\">9</span> <span class=\"number\">10</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg3-输入向量，返回值多个时返回matrix</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; mapply(<span class=\"keyword\">function</span>(x,y) c(x+y, x^y, x-y), c(<span class=\"number\">1</span>:<span class=\"number\">5</span>), c(<span class=\"number\">1</span>:<span class=\"number\">5</span>))</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>] [,<span class=\"number\">4</span>] [,<span class=\"number\">5</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">2</span>    <span class=\"number\">4</span>    <span class=\"number\">6</span>    <span class=\"number\">8</span>   <span class=\"number\">10</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">1</span>    <span class=\"number\">4</span>   <span class=\"number\">27</span>  <span class=\"number\">256</span> <span class=\"number\">3125</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">0</span>    <span class=\"number\">0</span>    <span class=\"number\">0</span>    <span class=\"number\">0</span>    <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"eapply\"><a href=\"#eapply\" class=\"headerlink\" title=\"eapply\"></a>eapply</h3><figure class=\"highlight r\"><figcaption><span>eapply-函数定义：对一个环境空间中的所有变量进行遍历</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">eapply(env, FUN, <span class=\"keyword\">...</span>, all.names = <span class=\"literal\">FALSE</span>, USE.NAMES = <span class=\"literal\">TRUE</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>env: 环境空间<br>FUN：要使用的函数<br>all.names: 匹配类型, ANY为所有类型<br>USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg-eapply操作示例</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; <span class=\"comment\"># 定义一个环境空间</span></span><br><span class=\"line\">&gt; env &lt;- new.env()</span><br><span class=\"line\">&gt; <span class=\"comment\"># 向这个环境空间中存入3个变量</span></span><br><span class=\"line\">&gt; env$a &lt;- <span class=\"number\">1</span>:<span class=\"number\">10</span></span><br><span class=\"line\">&gt; env$b &lt;- exp(-<span class=\"number\">3</span>:<span class=\"number\">3</span>)</span><br><span class=\"line\">&gt; env$logic &lt;- c(<span class=\"literal\">TRUE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">TRUE</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; ls(env)      <span class=\"comment\"># 查看env空间中的变量</span></span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"string\">\"a\"</span>     <span class=\"string\">\"b\"</span>     <span class=\"string\">\"logic\"</span></span><br><span class=\"line\">&gt; ls.str(env)  <span class=\"comment\"># 查看env空间中的变量字符串结构</span></span><br><span class=\"line\">a :  int [<span class=\"number\">1</span>:<span class=\"number\">10</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span> <span class=\"number\">5</span> <span class=\"number\">6</span> <span class=\"number\">7</span> <span class=\"number\">8</span> <span class=\"number\">9</span> <span class=\"number\">10</span></span><br><span class=\"line\">b :  num [<span class=\"number\">1</span>:<span class=\"number\">7</span>] <span class=\"number\">0.0498</span> <span class=\"number\">0.1353</span> <span class=\"number\">0.3679</span> <span class=\"number\">1</span> <span class=\"number\">2.7183</span> <span class=\"keyword\">...</span></span><br><span class=\"line\">logic :  logi [<span class=\"number\">1</span>:<span class=\"number\">4</span>] <span class=\"literal\">TRUE</span> <span class=\"literal\">FALSE</span> <span class=\"literal\">FALSE</span> <span class=\"literal\">TRUE</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; eapply(env, mean)   <span class=\"comment\"># 计算env环境空间中所有变量的均值</span></span><br><span class=\"line\">$a</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">5.5</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">4.535125</span></span><br><span class=\"line\">$logic</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">0.5</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<hr>\n<h2 id=\"应用及拓展\"><a href=\"#应用及拓展\" class=\"headerlink\" title=\"应用及拓展\"></a>应用及拓展</h2><h3 id=\"应用展示\"><a href=\"#应用展示\" class=\"headerlink\" title=\"应用展示\"></a>应用展示</h3><p>原始数据为按年份year、地区loc和商品类别type进行统计的销售量。我们要制作两个销售总量的crosstable，一个以年份为行、地区为列，一个以年份为行，类别为列。<br><figure class=\"highlight r\"><figcaption><span>应用1-tapply实现crosstable功能</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; df &lt;- data.frame(year=kronecker(<span class=\"number\">2001</span>:<span class=\"number\">2003</span>, rep(<span class=\"number\">1</span>,<span class=\"number\">4</span>)), </span><br><span class=\"line\">                 loc=c(<span class=\"string\">'beijing'</span>,<span class=\"string\">'beijing'</span>,<span class=\"string\">'shanghai'</span>,<span class=\"string\">'shanghai'</span>), </span><br><span class=\"line\">                 type=rep(c(<span class=\"string\">'A'</span>,<span class=\"string\">'B'</span>),<span class=\"number\">6</span>), sale=rep(<span class=\"number\">1</span>:<span class=\"number\">12</span>))</span><br><span class=\"line\">&gt; df</span><br><span class=\"line\">   year      loc type sale</span><br><span class=\"line\"><span class=\"number\">1</span>  <span class=\"number\">2001</span>  beijing    A    <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">2</span>  <span class=\"number\">2001</span>  beijing    B    <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"number\">3</span>  <span class=\"number\">2001</span> shanghai    A    <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"number\">4</span>  <span class=\"number\">2001</span> shanghai    B    <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">5</span>  <span class=\"number\">2002</span>  beijing    A    <span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"number\">6</span>  <span class=\"number\">2002</span>  beijing    B    <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"number\">7</span>  <span class=\"number\">2002</span> shanghai    A    <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"number\">8</span>  <span class=\"number\">2002</span> shanghai    B    <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"number\">9</span>  <span class=\"number\">2003</span>  beijing    A    <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"number\">10</span> <span class=\"number\">2003</span>  beijing    B   <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"number\">11</span> <span class=\"number\">2003</span> shanghai    A   <span class=\"number\">11</span></span><br><span class=\"line\"><span class=\"number\">12</span> <span class=\"number\">2003</span> shanghai    B   <span class=\"number\">12</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; tapply(df$sale, df[,c(<span class=\"string\">'year'</span>,<span class=\"string\">'loc'</span>)], sum)</span><br><span class=\"line\">      loc</span><br><span class=\"line\">year   beijing shanghai</span><br><span class=\"line\">  <span class=\"number\">2001</span>       <span class=\"number\">3</span>        <span class=\"number\">7</span></span><br><span class=\"line\">  <span class=\"number\">2002</span>      <span class=\"number\">11</span>       <span class=\"number\">15</span></span><br><span class=\"line\">  <span class=\"number\">2003</span>      <span class=\"number\">19</span>       <span class=\"number\">23</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; tapply(df$sale, df[,c(<span class=\"string\">'year'</span>,<span class=\"string\">'type'</span>)], sum)</span><br><span class=\"line\">      type</span><br><span class=\"line\">year    A  B</span><br><span class=\"line\">  <span class=\"number\">2001</span>  <span class=\"number\">4</span>  <span class=\"number\">6</span></span><br><span class=\"line\">  <span class=\"number\">2002</span> <span class=\"number\">12</span> <span class=\"number\">14</span></span><br><span class=\"line\">  <span class=\"number\">2003</span> <span class=\"number\">20</span> <span class=\"number\">22</span></span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight r\"><figcaption><span>应用2-mapply使两个嵌套列表对应项相加</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; list1 &lt;- list(a=<span class=\"number\">1</span>:<span class=\"number\">5</span>, b=list(c=<span class=\"number\">1</span>:<span class=\"number\">4</span>, d=<span class=\"number\">5</span>:<span class=\"number\">9</span>))</span><br><span class=\"line\">&gt; list1</span><br><span class=\"line\">$a</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span> <span class=\"number\">5</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">$b$c</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span></span><br><span class=\"line\">$b$d</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">5</span> <span class=\"number\">6</span> <span class=\"number\">7</span> <span class=\"number\">8</span> <span class=\"number\">9</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; list2 &lt;- list(a=<span class=\"number\">1</span>:<span class=\"number\">5</span>, b=list(c=<span class=\"number\">5</span>:<span class=\"number\">8</span>, d=<span class=\"number\">1</span>:<span class=\"number\">5</span>))</span><br><span class=\"line\">&gt; list2</span><br><span class=\"line\">$a</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span> <span class=\"number\">5</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">$b$c</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">5</span> <span class=\"number\">6</span> <span class=\"number\">7</span> <span class=\"number\">8</span></span><br><span class=\"line\">$b$d</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span> <span class=\"number\">5</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; <span class=\"string\">\"%+%\"</span> &lt;- <span class=\"keyword\">function</span>(x,y) mapply(<span class=\"string\">\"+\"</span>, x, y)</span><br><span class=\"line\">&gt; mapply(<span class=\"string\">\"%+%\"</span>, list1, list2)</span><br><span class=\"line\">$a</span><br><span class=\"line\">[<span class=\"number\">1</span>]  <span class=\"number\">2</span>  <span class=\"number\">4</span>  <span class=\"number\">6</span>  <span class=\"number\">8</span> <span class=\"number\">10</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">$b$c</span><br><span class=\"line\">[<span class=\"number\">1</span>]  <span class=\"number\">6</span>  <span class=\"number\">8</span> <span class=\"number\">10</span> <span class=\"number\">12</span></span><br><span class=\"line\">$b$d</span><br><span class=\"line\">[<span class=\"number\">1</span>]  <span class=\"number\">6</span>  <span class=\"number\">8</span> <span class=\"number\">10</span> <span class=\"number\">12</span> <span class=\"number\">14</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"相关函数\"><a href=\"#相关函数\" class=\"headerlink\" title=\"相关函数\"></a>相关函数</h3><h4 id=\"by\"><a href=\"#by\" class=\"headerlink\" title=\"by\"></a>by</h4><figure class=\"highlight r\"><figcaption><span>by-函数定义：by可以当成data.frame上的tapply，在数据框行上施用索引分组运算</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">by(data, INDICES, FUN, <span class=\"keyword\">...</span>, simplify = <span class=\"literal\">TRUE</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>data: 数据框<br>INDICES：与数据框行数等长的用于分组的索引<br>FUN：要使用的函数</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg-by对数据框进行按行索引分组计算</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; data &lt;- data.frame(a=c(<span class=\"number\">1</span>:<span class=\"number\">5</span>), b=c(<span class=\"number\">6</span>:<span class=\"number\">10</span>))</span><br><span class=\"line\">&gt; data</span><br><span class=\"line\">  a  b</span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"number\">1</span>  <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"number\">2</span> <span class=\"number\">2</span>  <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"number\">3</span> <span class=\"number\">3</span>  <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"number\">4</span> <span class=\"number\">4</span>  <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"number\">5</span> <span class=\"number\">5</span> <span class=\"number\">10</span></span><br><span class=\"line\">&gt; INDICES &lt;- c(<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">2</span>,<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; by(data, INDICES, colMeans)</span><br><span class=\"line\">INDICES: <span class=\"number\">1</span></span><br><span class=\"line\">  a   b </span><br><span class=\"line\"><span class=\"number\">1.5</span> <span class=\"number\">6.5</span> </span><br><span class=\"line\">-------------------------------------------------------------------------------</span><br><span class=\"line\">INDICES: <span class=\"number\">2</span></span><br><span class=\"line\">a b </span><br><span class=\"line\"><span class=\"number\">4</span> <span class=\"number\">9</span> </span><br><span class=\"line\">&gt; by(data, INDICES, rowMeans)</span><br><span class=\"line\">INDICES: <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"number\">1</span>   <span class=\"number\">2</span> </span><br><span class=\"line\"><span class=\"number\">3.5</span> <span class=\"number\">4.5</span> </span><br><span class=\"line\">-------------------------------------------------------------------------------</span><br><span class=\"line\">INDICES: <span class=\"number\">2</span></span><br><span class=\"line\">  <span class=\"number\">3</span>   <span class=\"number\">4</span>   <span class=\"number\">5</span> </span><br><span class=\"line\"><span class=\"number\">5.5</span> <span class=\"number\">6.5</span> <span class=\"number\">7.5</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"outer\"><a href=\"#outer\" class=\"headerlink\" title=\"outer\"></a>outer</h4><figure class=\"highlight r\"><figcaption><span>outer-函数定义：作用于数组的类似于矩阵外积运算方式的运算函数</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">outer(X, Y, FUN = <span class=\"string\">\"*\"</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>X、Y: 向量、数组<br>FUN：当为空时即为外积运算，否则为将FUN代替外积运算符进行类似外积的运算操作</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg-outer的使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; x &lt;- <span class=\"number\">1</span>:<span class=\"number\">4</span>; y &lt;- <span class=\"number\">2</span>:<span class=\"number\">4</span></span><br><span class=\"line\">&gt; x; y</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span></span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span></span><br><span class=\"line\">&gt; outer(x, y)</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">2</span>    <span class=\"number\">3</span>    <span class=\"number\">4</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">4</span>    <span class=\"number\">6</span>    <span class=\"number\">8</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">6</span>    <span class=\"number\">9</span>   <span class=\"number\">12</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,]    <span class=\"number\">8</span>   <span class=\"number\">12</span>   <span class=\"number\">16</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; month.abb</span><br><span class=\"line\"> [<span class=\"number\">1</span>] <span class=\"string\">\"Jan\"</span> <span class=\"string\">\"Feb\"</span> <span class=\"string\">\"Mar\"</span> <span class=\"string\">\"Apr\"</span> <span class=\"string\">\"May\"</span> <span class=\"string\">\"Jun\"</span> <span class=\"string\">\"Jul\"</span> <span class=\"string\">\"Aug\"</span> <span class=\"string\">\"Sep\"</span> <span class=\"string\">\"Oct\"</span> <span class=\"string\">\"Nov\"</span> <span class=\"string\">\"Dec\"</span></span><br><span class=\"line\">&gt; outer(month.abb, <span class=\"number\">1999</span>:<span class=\"number\">2003</span>, FUN = <span class=\"string\">\"paste\"</span>)</span><br><span class=\"line\">      [,<span class=\"number\">1</span>]       [,<span class=\"number\">2</span>]       [,<span class=\"number\">3</span>]       [,<span class=\"number\">4</span>]       [,<span class=\"number\">5</span>]      </span><br><span class=\"line\"> [<span class=\"number\">1</span>,] <span class=\"string\">\"Jan 1999\"</span> <span class=\"string\">\"Jan 2000\"</span> <span class=\"string\">\"Jan 2001\"</span> <span class=\"string\">\"Jan 2002\"</span> <span class=\"string\">\"Jan 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">2</span>,] <span class=\"string\">\"Feb 1999\"</span> <span class=\"string\">\"Feb 2000\"</span> <span class=\"string\">\"Feb 2001\"</span> <span class=\"string\">\"Feb 2002\"</span> <span class=\"string\">\"Feb 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">3</span>,] <span class=\"string\">\"Mar 1999\"</span> <span class=\"string\">\"Mar 2000\"</span> <span class=\"string\">\"Mar 2001\"</span> <span class=\"string\">\"Mar 2002\"</span> <span class=\"string\">\"Mar 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">4</span>,] <span class=\"string\">\"Apr 1999\"</span> <span class=\"string\">\"Apr 2000\"</span> <span class=\"string\">\"Apr 2001\"</span> <span class=\"string\">\"Apr 2002\"</span> <span class=\"string\">\"Apr 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">5</span>,] <span class=\"string\">\"May 1999\"</span> <span class=\"string\">\"May 2000\"</span> <span class=\"string\">\"May 2001\"</span> <span class=\"string\">\"May 2002\"</span> <span class=\"string\">\"May 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">6</span>,] <span class=\"string\">\"Jun 1999\"</span> <span class=\"string\">\"Jun 2000\"</span> <span class=\"string\">\"Jun 2001\"</span> <span class=\"string\">\"Jun 2002\"</span> <span class=\"string\">\"Jun 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">7</span>,] <span class=\"string\">\"Jul 1999\"</span> <span class=\"string\">\"Jul 2000\"</span> <span class=\"string\">\"Jul 2001\"</span> <span class=\"string\">\"Jul 2002\"</span> <span class=\"string\">\"Jul 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">8</span>,] <span class=\"string\">\"Aug 1999\"</span> <span class=\"string\">\"Aug 2000\"</span> <span class=\"string\">\"Aug 2001\"</span> <span class=\"string\">\"Aug 2002\"</span> <span class=\"string\">\"Aug 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">9</span>,] <span class=\"string\">\"Sep 1999\"</span> <span class=\"string\">\"Sep 2000\"</span> <span class=\"string\">\"Sep 2001\"</span> <span class=\"string\">\"Sep 2002\"</span> <span class=\"string\">\"Sep 2003\"</span></span><br><span class=\"line\">[<span class=\"number\">10</span>,] <span class=\"string\">\"Oct 1999\"</span> <span class=\"string\">\"Oct 2000\"</span> <span class=\"string\">\"Oct 2001\"</span> <span class=\"string\">\"Oct 2002\"</span> <span class=\"string\">\"Oct 2003\"</span></span><br><span class=\"line\">[<span class=\"number\">11</span>,] <span class=\"string\">\"Nov 1999\"</span> <span class=\"string\">\"Nov 2000\"</span> <span class=\"string\">\"Nov 2001\"</span> <span class=\"string\">\"Nov 2002\"</span> <span class=\"string\">\"Nov 2003\"</span></span><br><span class=\"line\">[<span class=\"number\">12</span>,] <span class=\"string\">\"Dec 1999\"</span> <span class=\"string\">\"Dec 2000\"</span> <span class=\"string\">\"Dec 2001\"</span> <span class=\"string\">\"Dec 2002\"</span> <span class=\"string\">\"Dec 2003\"</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h4 id=\"sweep\"><a href=\"#sweep\" class=\"headerlink\" title=\"sweep\"></a>sweep</h4><figure class=\"highlight r\"><figcaption><span>sweep-函数定义：对数组、矩阵按维度进行运算</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sweep(x, MARGIN, STATS, FUN = <span class=\"string\">\"-\"</span>, check.margin = <span class=\"literal\">TRUE</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>x: 数组、矩阵<br>MARGIN：运算维度，1表示行，2表示列，3即第三维度，以此类推<br>STATS：运算参数，类似于减法中的减数，除法中的除数<br>FUN：要使用的函数</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-对数组按行运算</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; mat &lt;- matrix(<span class=\"number\">1</span>:<span class=\"number\">9</span>, <span class=\"number\">3</span>)</span><br><span class=\"line\">&gt; mat</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">1</span>    <span class=\"number\">4</span>    <span class=\"number\">7</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">2</span>    <span class=\"number\">5</span>    <span class=\"number\">8</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">3</span>    <span class=\"number\">6</span>    <span class=\"number\">9</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; sweep(mat, <span class=\"number\">1</span>, c(<span class=\"number\">1</span>,<span class=\"number\">4</span>,<span class=\"number\">7</span>), <span class=\"string\">\"+\"</span>)  <span class=\"comment\"># 第一行都加1，第二行都加4，第三行都加7</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">2</span>    <span class=\"number\">5</span>    <span class=\"number\">8</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">6</span>    <span class=\"number\">9</span>   <span class=\"number\">12</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]   <span class=\"number\">10</span>   <span class=\"number\">13</span>   <span class=\"number\">16</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-STATS可为其他格式，但注意与取MARGIN后的X结构相符</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; A &lt;- array(<span class=\"number\">1</span>:<span class=\"number\">24</span>, dim = <span class=\"number\">4</span>:<span class=\"number\">2</span>)</span><br><span class=\"line\">&gt; median &lt;- apply(A, <span class=\"number\">1</span>:<span class=\"number\">2</span>, median)</span><br><span class=\"line\">&gt; A</span><br><span class=\"line\">, , <span class=\"number\">1</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">1</span>    <span class=\"number\">5</span>    <span class=\"number\">9</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">2</span>    <span class=\"number\">6</span>   <span class=\"number\">10</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">3</span>    <span class=\"number\">7</span>   <span class=\"number\">11</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,]    <span class=\"number\">4</span>    <span class=\"number\">8</span>   <span class=\"number\">12</span></span><br><span class=\"line\">, , <span class=\"number\">2</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]   <span class=\"number\">13</span>   <span class=\"number\">17</span>   <span class=\"number\">21</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]   <span class=\"number\">14</span>   <span class=\"number\">18</span>   <span class=\"number\">22</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]   <span class=\"number\">15</span>   <span class=\"number\">19</span>   <span class=\"number\">23</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,]   <span class=\"number\">16</span>   <span class=\"number\">20</span>   <span class=\"number\">24</span></span><br><span class=\"line\">&gt; median</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">7</span>   <span class=\"number\">11</span>   <span class=\"number\">15</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">8</span>   <span class=\"number\">12</span>   <span class=\"number\">16</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">9</span>   <span class=\"number\">13</span>   <span class=\"number\">17</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,]   <span class=\"number\">10</span>   <span class=\"number\">14</span>   <span class=\"number\">18</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; sweep(A, <span class=\"number\">1</span>:<span class=\"number\">2</span>, median)</span><br><span class=\"line\">, , <span class=\"number\">1</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]   -<span class=\"number\">6</span>   -<span class=\"number\">6</span>   -<span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]   -<span class=\"number\">6</span>   -<span class=\"number\">6</span>   -<span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]   -<span class=\"number\">6</span>   -<span class=\"number\">6</span>   -<span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,]   -<span class=\"number\">6</span>   -<span class=\"number\">6</span>   -<span class=\"number\">6</span></span><br><span class=\"line\">, , <span class=\"number\">2</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">6</span>    <span class=\"number\">6</span>    <span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">6</span>    <span class=\"number\">6</span>    <span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">6</span>    <span class=\"number\">6</span>    <span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,]    <span class=\"number\">6</span>    <span class=\"number\">6</span>    <span class=\"number\">6</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h4 id=\"replicate\"><a href=\"#replicate\" class=\"headerlink\" title=\"replicate\"></a>replicate</h4><figure class=\"highlight r\"><figcaption><span>replicate-函数定义：rep能把输入参数重复数次，replicate则能调用表达式数次</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">replicate(n, expr, simplify = <span class=\"string\">\"array\"</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>n: 调用的次数<br>expr：调用的表达式</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg-建立一个函数，模拟扔两个骰子的点数之和，然后重复运行10次</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; game &lt;- <span class=\"keyword\">function</span>() &#123;</span><br><span class=\"line\">+   n &lt;- sample(<span class=\"number\">1</span>:<span class=\"number\">6</span>,<span class=\"number\">2</span>,replace=<span class=\"literal\">T</span>)</span><br><span class=\"line\">+   <span class=\"keyword\">return</span>(sum(n))</span><br><span class=\"line\">+ &#125;</span><br><span class=\"line\">&gt; replicate(n=<span class=\"number\">10</span>, game())</span><br><span class=\"line\"> [<span class=\"number\">1</span>]  <span class=\"number\">6</span>  <span class=\"number\">6</span>  <span class=\"number\">6</span>  <span class=\"number\">7</span>  <span class=\"number\">7</span>  <span class=\"number\">7</span> <span class=\"number\">11</span>  <span class=\"number\">8</span>  <span class=\"number\">7</span>  <span class=\"number\">9</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h4 id=\"aggregate\"><a href=\"#aggregate\" class=\"headerlink\" title=\"aggregate\"></a>aggregate</h4><figure class=\"highlight r\"><figcaption><span>aggregate-函数定义：可按要求把数据分组，然后对分组后的数据进行各种操作</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aggregate(x, by, FUN, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>x: 一种R数据结构，通常为数据框<br>by：分组索引，必须为list格式<br>FUN：要使用的函数</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg-按性别分组查看年龄和身高的均值</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; data &lt;- data.frame(name=c(<span class=\"string\">\"张三\"</span>,<span class=\"string\">\"李四\"</span>,<span class=\"string\">\"王五\"</span>,<span class=\"string\">\"赵六\"</span>),</span><br><span class=\"line\">+              sex=c(<span class=\"string\">\"M\"</span>,<span class=\"string\">\"M\"</span>,<span class=\"string\">\"F\"</span>,<span class=\"string\">\"F\"</span>), age=c(<span class=\"number\">20</span>,<span class=\"number\">40</span>,<span class=\"number\">22</span>,<span class=\"number\">30</span>),</span><br><span class=\"line\">+              height=c(<span class=\"number\">166</span>,<span class=\"number\">170</span>,<span class=\"number\">150</span>,<span class=\"number\">155</span>))</span><br><span class=\"line\">&gt; data</span><br><span class=\"line\">  name sex age height</span><br><span class=\"line\"><span class=\"number\">1</span> 张三   M  <span class=\"number\">20</span>    <span class=\"number\">166</span></span><br><span class=\"line\"><span class=\"number\">2</span> 李四   M  <span class=\"number\">40</span>    <span class=\"number\">170</span></span><br><span class=\"line\"><span class=\"number\">3</span> 王五   <span class=\"literal\">F</span>  <span class=\"number\">22</span>    <span class=\"number\">150</span></span><br><span class=\"line\"><span class=\"number\">4</span> 赵六   <span class=\"literal\">F</span>  <span class=\"number\">30</span>    <span class=\"number\">155</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; aggregate(data[,<span class=\"number\">3</span>:<span class=\"number\">4</span>], by=list(data$sex), mean)</span><br><span class=\"line\">  Group.1 age height</span><br><span class=\"line\"><span class=\"number\">1</span>       <span class=\"literal\">F</span>  <span class=\"number\">26</span>  <span class=\"number\">152.5</span></span><br><span class=\"line\"><span class=\"number\">2</span>       M  <span class=\"number\">30</span>  <span class=\"number\">168.0</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<hr>\n<h2 id=\"致谢\"><a href=\"#致谢\" class=\"headerlink\" title=\"致谢\"></a>致谢</h2><blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><ul>\n<li><a href=\"https://www.cnblogs.com/aquastone/p/r-apply.html\" target=\"_blank\" rel=\"noopener\">R语言apply函数族笔记</a></li>\n<li><a href=\"http://blog.fens.me/r-apply/\" target=\"_blank\" rel=\"noopener\">掌握R语言中的apply函数族</a></li>\n<li><a href=\"https://feng.li/\" target=\"_blank\" rel=\"noopener\">Dr. Feng Li-Personal Site</a></li>\n</ul>\n</blockquote>\n","site":{"data":{}},"excerpt":"<center><i>\n    R 作为一种向量化的编程语言，一大特征便是以向量计算替代了循环计算，使效率大大提升。<br>\n    apply函数族正是为解决数据循环处理问题而生的 —— 面向不同数据类型，生成不同返回值的包含8个相关函数的函数族。\n</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/apply函数.PNG\" alt=\"apply函数.PNG\"><br>","more":"</p>\n<h2 id=\"为何要用apply？\"><a href=\"#为何要用apply？\" class=\"headerlink\" title=\"为何要用apply？\"></a>为何要用apply？</h2><p>在使用 R 时，要尽量用 array 的方式思考，避免 for 循环，写过多的 for 循环代码，最后把 R 代码写的跟 C 似得说明你没有进入 R 的思考方式，是一种费力不讨好的行为。那么不用循环怎么实现迭代呢？apply函数族是一把利器，它不是一个函数，而是一族功能类似的函数。</p>\n<p><br></p>\n<hr>\n<h2 id=\"语法详解\"><a href=\"#语法详解\" class=\"headerlink\" title=\"语法详解\"></a>语法详解</h2><h3 id=\"apply\"><a href=\"#apply\" class=\"headerlink\" title=\"apply\"></a>apply</h3><figure class=\"highlight r\"><figcaption><span>apply-函数定义：在 X 上，沿 margin 方向，依次调用 FUN</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apply(X, margin, FUN, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>X：数组、矩阵、数据框<br>margin：按维度运算，1表示按行，2表示按列，c(1,3)表示第1、3维<br>FUN：要使用的函数</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-矩阵按列求和</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; mat &lt;- matrix(<span class=\"number\">1</span>:<span class=\"number\">12</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>)</span><br><span class=\"line\">&gt; mat</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>] [,<span class=\"number\">4</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">1</span>    <span class=\"number\">4</span>    <span class=\"number\">7</span>   <span class=\"number\">10</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">2</span>    <span class=\"number\">5</span>    <span class=\"number\">8</span>   <span class=\"number\">11</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">3</span>    <span class=\"number\">6</span>    <span class=\"number\">9</span>   <span class=\"number\">12</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; apply(mat, <span class=\"number\">2</span>, sum)</span><br><span class=\"line\">[<span class=\"number\">1</span>]  <span class=\"number\">6</span> <span class=\"number\">15</span> <span class=\"number\">24</span> <span class=\"number\">33</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-数组第1、3维度组合求和</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; ary &lt;- array(<span class=\"number\">1</span>:<span class=\"number\">12</span>, c(<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">2</span>))</span><br><span class=\"line\">&gt; ary</span><br><span class=\"line\">, , <span class=\"number\">1</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">1</span>    <span class=\"number\">3</span>    <span class=\"number\">5</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">2</span>    <span class=\"number\">4</span>    <span class=\"number\">6</span></span><br><span class=\"line\">, , <span class=\"number\">2</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">7</span>    <span class=\"number\">9</span>   <span class=\"number\">11</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">8</span>   <span class=\"number\">10</span>   <span class=\"number\">12</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; apply(ary, c(<span class=\"number\">1</span>,<span class=\"number\">3</span>), sum)</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">9</span>   <span class=\"number\">27</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]   <span class=\"number\">12</span>   <span class=\"number\">30</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg3-数据框按列求均值</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; data &lt;- data.frame(x1=<span class=\"number\">1</span>:<span class=\"number\">5</span>, x2=<span class=\"number\">6</span>:<span class=\"number\">10</span>)</span><br><span class=\"line\">&gt; data</span><br><span class=\"line\">  x1 x2</span><br><span class=\"line\"><span class=\"number\">1</span>  <span class=\"number\">1</span>  <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"number\">2</span>  <span class=\"number\">2</span>  <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"number\">3</span>  <span class=\"number\">3</span>  <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"number\">4</span>  <span class=\"number\">4</span>  <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"number\">5</span>  <span class=\"number\">5</span> <span class=\"number\">10</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; apply(data, <span class=\"number\">2</span>, mean)</span><br><span class=\"line\">x1 x2 </span><br><span class=\"line\"> <span class=\"number\">3</span>  <span class=\"number\">8</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"tapply\"><a href=\"#tapply\" class=\"headerlink\" title=\"tapply\"></a>tapply</h3><figure class=\"highlight r\"><figcaption><span>tapply-函数定义：按 INDEX 值分组，相同值对应下标的 X 中的元素形成一个集合，应用到 FUN</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tapply(X, INDEX, FUN = <span class=\"literal\">NULL</span>, <span class=\"keyword\">...</span>, simplify = <span class=\"literal\">TRUE</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>X：向量、数组<br>INDEX：用于分组的索引<br>FUN：要使用的函数<br>simplify : 是否数组化，当值TRUE时，输出结果按数组进行分组输出</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-当FUN为NULL，返回分组的结果，返回值中相等的元素所对应的下标属于同一组</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; x &lt;- <span class=\"number\">1</span>:<span class=\"number\">6</span></span><br><span class=\"line\">&gt; INDEX &lt;- c(<span class=\"string\">'a'</span>,<span class=\"string\">'a'</span>,<span class=\"string\">'b'</span>,<span class=\"string\">'c'</span>,<span class=\"string\">'c'</span>,<span class=\"string\">'c'</span>)</span><br><span class=\"line\">&gt; tapply(x, INDEX)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">3</span> <span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-向量按 INDEX 分组求和</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; tapply(x, INDEX, sum)</span><br><span class=\"line\"> a  b  c </span><br><span class=\"line\"> <span class=\"number\">3</span>  <span class=\"number\">3</span> <span class=\"number\">15</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg3-矩阵按 INDEX 分组求均值</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; mat &lt;- matrix(<span class=\"number\">1</span>:<span class=\"number\">10</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\">&gt; mat</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>] [,<span class=\"number\">4</span>] [,<span class=\"number\">5</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">1</span>    <span class=\"number\">3</span>    <span class=\"number\">5</span>    <span class=\"number\">7</span>    <span class=\"number\">9</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">2</span>    <span class=\"number\">4</span>    <span class=\"number\">6</span>    <span class=\"number\">8</span>   <span class=\"number\">10</span></span><br><span class=\"line\">&gt; INDEX &lt;- matrix(c(rep(<span class=\"number\">1</span>,<span class=\"number\">5</span>), rep(<span class=\"number\">2</span>,<span class=\"number\">5</span>)), nrow=<span class=\"number\">2</span>)</span><br><span class=\"line\">&gt; INDEX</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>] [,<span class=\"number\">4</span>] [,<span class=\"number\">5</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">1</span>    <span class=\"number\">1</span>    <span class=\"number\">1</span>    <span class=\"number\">2</span>    <span class=\"number\">2</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">1</span>    <span class=\"number\">1</span>    <span class=\"number\">2</span>    <span class=\"number\">2</span>    <span class=\"number\">2</span></span><br><span class=\"line\">&gt; tapply(mat, INDEX)</span><br><span class=\"line\"> [<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">1</span> <span class=\"number\">1</span> <span class=\"number\">1</span> <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">2</span> <span class=\"number\">2</span> <span class=\"number\">2</span> <span class=\"number\">2</span></span><br><span class=\"line\">&gt; tapply(mat, INDEX, mean)</span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"number\">2</span> </span><br><span class=\"line\"><span class=\"number\">3</span> <span class=\"number\">8</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"lapply\"><a href=\"#lapply\" class=\"headerlink\" title=\"lapply\"></a>lapply</h3><figure class=\"highlight r\"><figcaption><span>lapply-函数定义：在 X 上逐个元素调用 FUN, 返回和 X 等长的 list 作为结果集</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lapply(X, FUN, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>X：列表、向量、数据框<br>FUN：要使用的函数</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-计算 list 中的每个 KEY 对应数据的均值</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; lst &lt;- list(a=<span class=\"number\">1</span>:<span class=\"number\">10</span>, b=seq(<span class=\"number\">0</span>,<span class=\"number\">7</span>,<span class=\"number\">2</span>), c=c(<span class=\"number\">2</span>,<span class=\"number\">5</span>,<span class=\"number\">8</span>))</span><br><span class=\"line\">&gt; lst</span><br><span class=\"line\">$a</span><br><span class=\"line\"> [<span class=\"number\">1</span>]  <span class=\"number\">1</span>  <span class=\"number\">2</span>  <span class=\"number\">3</span>  <span class=\"number\">4</span>  <span class=\"number\">5</span>  <span class=\"number\">6</span>  <span class=\"number\">7</span>  <span class=\"number\">8</span>  <span class=\"number\">9</span> <span class=\"number\">10</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">0</span> <span class=\"number\">2</span> <span class=\"number\">4</span> <span class=\"number\">6</span></span><br><span class=\"line\">$c</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">2</span> <span class=\"number\">5</span> <span class=\"number\">8</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; lapply(lst, mean)</span><br><span class=\"line\">$a</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">5.5</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">3</span></span><br><span class=\"line\">$c</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-对数据框的列求和</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; data &lt;- data.frame(x1=<span class=\"number\">1</span>:<span class=\"number\">5</span>, x2=<span class=\"number\">6</span>:<span class=\"number\">10</span>)</span><br><span class=\"line\">&gt; data</span><br><span class=\"line\">  x1 x2</span><br><span class=\"line\"><span class=\"number\">1</span>  <span class=\"number\">1</span>  <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"number\">2</span>  <span class=\"number\">2</span>  <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"number\">3</span>  <span class=\"number\">3</span>  <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"number\">4</span>  <span class=\"number\">4</span>  <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"number\">5</span>  <span class=\"number\">5</span> <span class=\"number\">10</span></span><br><span class=\"line\">&gt; lapply(data, sum)</span><br><span class=\"line\">$x1</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">15</span></span><br><span class=\"line\">$x2</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">40</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg3-找出闰年：对向量内各元素依次调用函数</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; isLeapYear &lt;- <span class=\"keyword\">function</span>(a)&#123;</span><br><span class=\"line\">+   <span class=\"keyword\">if</span>( (a%%<span class=\"number\">4</span>==<span class=\"number\">0</span> &amp; a%/%<span class=\"number\">100</span>!=<span class=\"number\">0</span>) | a%%<span class=\"number\">400</span>==<span class=\"number\">0</span> )</span><br><span class=\"line\">+     a</span><br><span class=\"line\">+ &#125;</span><br><span class=\"line\">&gt; a &lt;- <span class=\"number\">1900</span>:<span class=\"number\">1910</span></span><br><span class=\"line\">&gt; unlist(lapply(a, isLeapYear))</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1900</span> <span class=\"number\">1904</span> <span class=\"number\">1908</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"rapply\"><a href=\"#rapply\" class=\"headerlink\" title=\"rapply\"></a>rapply</h3><figure class=\"highlight r\"><figcaption><span>rapply-函数定义：递归版lapply，对list遍历直至无list，最终非list元素若类型是classes参数指定的类型，则调用FUN</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rapply(list, f, classes = <span class=\"string\">\"ANY\"</span>, deflt = <span class=\"literal\">NULL</span>,how = c(<span class=\"string\">\"unlist\"</span>, <span class=\"string\">\"replace\"</span>, <span class=\"string\">\"list\"</span>), <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>list：列表<br>f：要使用的函数<br>classes： 匹配类型, ANY为所有类型<br>deflt: 非匹配类型的默认值<br>how: 3种操作方式，</p>\n<ul>\n<li>replace：则用调用f后的结果替换原list中原来的元素；</li>\n<li>list：新建一个list，类型匹配调用f函数，不匹配赋值为deflt；</li>\n<li>unlist：执行一次unlist(recursive = TRUE)操作</li>\n</ul>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-遍历 list 分组求和</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; lst &lt;- list(a=list(aa=c(<span class=\"number\">1</span>:<span class=\"number\">5</span>), ab=c(<span class=\"number\">6</span>:<span class=\"number\">10</span>)), b=list(ba=c(<span class=\"number\">1</span>:<span class=\"number\">10</span>)))</span><br><span class=\"line\">&gt; lst</span><br><span class=\"line\">$a</span><br><span class=\"line\">$a$aa</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span> <span class=\"number\">5</span></span><br><span class=\"line\">$a$ab</span><br><span class=\"line\">[<span class=\"number\">1</span>]  <span class=\"number\">6</span>  <span class=\"number\">7</span>  <span class=\"number\">8</span>  <span class=\"number\">9</span> <span class=\"number\">10</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">$b$ba</span><br><span class=\"line\"> [<span class=\"number\">1</span>]  <span class=\"number\">1</span>  <span class=\"number\">2</span>  <span class=\"number\">3</span>  <span class=\"number\">4</span>  <span class=\"number\">5</span>  <span class=\"number\">6</span>  <span class=\"number\">7</span>  <span class=\"number\">8</span>  <span class=\"number\">9</span> <span class=\"number\">10</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; rapply(lst, sum, how=<span class=\"string\">\"replace\"</span>)  <span class=\"comment\"># 输出结果为list</span></span><br><span class=\"line\">$a</span><br><span class=\"line\">$a$aa</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">15</span></span><br><span class=\"line\">$a$ab</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">40</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">$b$ba</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">55</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; rapply(lst, sum, how=<span class=\"string\">\"unlist\"</span>)   <span class=\"comment\"># 输出结果为vector</span></span><br><span class=\"line\">a.aa a.ab b.ba </span><br><span class=\"line\">  <span class=\"number\">15</span>   <span class=\"number\">40</span>   <span class=\"number\">55</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"sapply\"><a href=\"#sapply\" class=\"headerlink\" title=\"sapply\"></a>sapply</h3><figure class=\"highlight r\"><figcaption><span>sapply-函数定义：简化版lapply，增加参数simplify和USE.NAMES，可设定输出类型</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sapply(X, FUN, <span class=\"keyword\">...</span>, simplify = <span class=\"literal\">TRUE</span>, USE.NAMES = <span class=\"literal\">TRUE</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>X：列表、向量、数据框<br>FUN：要使用的函数<br>simplify: 若FALSE，等价于lapply。否则，将lapply输出的list简化为vector或matrix<br>USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-simplify参数设定输出类型</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; lst &lt;- list(a=c(<span class=\"number\">1</span>:<span class=\"number\">5</span>), b=c(<span class=\"number\">6</span>:<span class=\"number\">10</span>))</span><br><span class=\"line\">&gt; sapply(lst, sum, simplify = <span class=\"literal\">F</span>)    <span class=\"comment\"># 输出list</span></span><br><span class=\"line\">$a</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">15</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">40</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; sapply(lst, sum)                  <span class=\"comment\"># 输出vector</span></span><br><span class=\"line\"> a  b </span><br><span class=\"line\"><span class=\"number\">15</span> <span class=\"number\">40</span> </span><br><span class=\"line\"></span><br><span class=\"line\">&gt; sapply(lst, fivenum)              <span class=\"comment\"># 输出matrix</span></span><br><span class=\"line\">     a  b</span><br><span class=\"line\">[<span class=\"number\">1</span>,] <span class=\"number\">1</span>  <span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,] <span class=\"number\">2</span>  <span class=\"number\">7</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,] <span class=\"number\">3</span>  <span class=\"number\">8</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,] <span class=\"number\">4</span>  <span class=\"number\">9</span></span><br><span class=\"line\">[<span class=\"number\">5</span>,] <span class=\"number\">5</span> <span class=\"number\">10</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-USE.NAMES参数作用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; val &lt;- head(letters)</span><br><span class=\"line\">&gt; val</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"string\">\"a\"</span> <span class=\"string\">\"b\"</span> <span class=\"string\">\"c\"</span> <span class=\"string\">\"d\"</span> <span class=\"string\">\"e\"</span> <span class=\"string\">\"f\"</span></span><br><span class=\"line\">&gt; sapply(val, paste)</span><br><span class=\"line\">  a   b   c   d   e   f </span><br><span class=\"line\"><span class=\"string\">\"a\"</span> <span class=\"string\">\"b\"</span> <span class=\"string\">\"c\"</span> <span class=\"string\">\"d\"</span> <span class=\"string\">\"e\"</span> <span class=\"string\">\"f\"</span> </span><br><span class=\"line\">&gt; sapply(val, paste, USE.NAMES = <span class=\"literal\">F</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"string\">\"a\"</span> <span class=\"string\">\"b\"</span> <span class=\"string\">\"c\"</span> <span class=\"string\">\"d\"</span> <span class=\"string\">\"e\"</span> <span class=\"string\">\"f\"</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"vapply\"><a href=\"#vapply\" class=\"headerlink\" title=\"vapply\"></a>vapply</h3><figure class=\"highlight r\"><figcaption><span>vapply-函数定义：类似sapply，但提供参数FUN.VALUE用以设定返回值的行名</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vapply(X, FUN, FUN.VALUE, <span class=\"keyword\">...</span>, USE.NAMES = <span class=\"literal\">TRUE</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>X：列表、数据框<br>FUN：要使用的函数<br>FUN.VALUE：定义返回值的行名row.names<br>USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-FUN.VALUE参数设置返回值行名</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; lst &lt;- list(a=c(<span class=\"number\">1</span>:<span class=\"number\">5</span>), b=c(<span class=\"number\">6</span>:<span class=\"number\">10</span>))</span><br><span class=\"line\">&gt; res &lt;- vapply(lst, <span class=\"keyword\">function</span>(x) c(min(x), max(x)), c(min.=<span class=\"number\">0</span>, max.=<span class=\"number\">0</span>))</span><br><span class=\"line\">&gt; res</span><br><span class=\"line\">     a  b</span><br><span class=\"line\">min. <span class=\"number\">1</span>  <span class=\"number\">6</span></span><br><span class=\"line\">max. <span class=\"number\">5</span> <span class=\"number\">10</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-对数据框的数据累计求和，并对每一行设置行名row.names</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; data &lt;- data.frame(cbind(x1=<span class=\"number\">3</span>, x2=c(<span class=\"number\">2</span>:<span class=\"number\">1</span>,<span class=\"number\">4</span>:<span class=\"number\">5</span>)))</span><br><span class=\"line\">&gt; data</span><br><span class=\"line\">  x1 x2</span><br><span class=\"line\"><span class=\"number\">1</span>  <span class=\"number\">3</span>  <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"number\">2</span>  <span class=\"number\">3</span>  <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">3</span>  <span class=\"number\">3</span>  <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">4</span>  <span class=\"number\">3</span>  <span class=\"number\">5</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; vapply(data, cumsum, FUN.VALUE=c(<span class=\"string\">'a'</span>=<span class=\"number\">0</span>,<span class=\"string\">'b'</span>=<span class=\"number\">0</span>,<span class=\"string\">'c'</span>=<span class=\"number\">0</span>,<span class=\"string\">'d'</span>=<span class=\"number\">0</span>))</span><br><span class=\"line\">  x1 x2</span><br><span class=\"line\">a  <span class=\"number\">3</span>  <span class=\"number\">2</span></span><br><span class=\"line\">b  <span class=\"number\">6</span>  <span class=\"number\">3</span></span><br><span class=\"line\">c  <span class=\"number\">9</span>  <span class=\"number\">7</span></span><br><span class=\"line\">d <span class=\"number\">12</span> <span class=\"number\">12</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"mapply\"><a href=\"#mapply\" class=\"headerlink\" title=\"mapply\"></a>mapply</h3><figure class=\"highlight r\"><figcaption><span>mapply-函数定义：多变量版sapply，将FUN应用于多个同结构数据第一个元素组成的数组，然后是第二个元素组成的数组，依此类推</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mapply(FUN, <span class=\"keyword\">...</span>, MoreArgs=<span class=\"literal\">NULL</span>, SIMPLIFY=<span class=\"literal\">TRUE</span>, USE.NAMES=<span class=\"literal\">TRUE</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>FUN：要使用的函数<br>…: 接收多个数据(list、vector)<br>MoreArgs: FUN的参数列表<br>simplify: 若FALSE，输出list。否则，将输出的list简化为vector或matrix<br>USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-输入两个list并分组求和</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; mapply(sum, list(a=<span class=\"number\">1</span>,b=<span class=\"number\">2</span>,c=<span class=\"number\">3</span>), list(a=<span class=\"number\">10</span>,b=<span class=\"number\">20</span>,d=<span class=\"number\">30</span>))</span><br><span class=\"line\"> a  b  c </span><br><span class=\"line\"><span class=\"number\">11</span> <span class=\"number\">22</span> <span class=\"number\">33</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-比较两个向量大小，按索引顺序取较大的值</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; a &lt;- <span class=\"number\">1</span>:<span class=\"number\">10</span></span><br><span class=\"line\">&gt; b &lt;- <span class=\"number\">5</span>:-<span class=\"number\">4</span></span><br><span class=\"line\">&gt; a</span><br><span class=\"line\"> [<span class=\"number\">1</span>]  <span class=\"number\">1</span>  <span class=\"number\">2</span>  <span class=\"number\">3</span>  <span class=\"number\">4</span>  <span class=\"number\">5</span>  <span class=\"number\">6</span>  <span class=\"number\">7</span>  <span class=\"number\">8</span>  <span class=\"number\">9</span> <span class=\"number\">10</span></span><br><span class=\"line\">&gt; b</span><br><span class=\"line\"> [<span class=\"number\">1</span>]  <span class=\"number\">5</span>  <span class=\"number\">4</span>  <span class=\"number\">3</span>  <span class=\"number\">2</span>  <span class=\"number\">1</span>  <span class=\"number\">0</span> -<span class=\"number\">1</span> -<span class=\"number\">2</span> -<span class=\"number\">3</span> -<span class=\"number\">4</span></span><br><span class=\"line\">&gt; mapply(max, a, b)</span><br><span class=\"line\"> [<span class=\"number\">1</span>]  <span class=\"number\">5</span>  <span class=\"number\">4</span>  <span class=\"number\">3</span>  <span class=\"number\">4</span>  <span class=\"number\">5</span>  <span class=\"number\">6</span>  <span class=\"number\">7</span>  <span class=\"number\">8</span>  <span class=\"number\">9</span> <span class=\"number\">10</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg3-输入向量，返回值多个时返回matrix</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; mapply(<span class=\"keyword\">function</span>(x,y) c(x+y, x^y, x-y), c(<span class=\"number\">1</span>:<span class=\"number\">5</span>), c(<span class=\"number\">1</span>:<span class=\"number\">5</span>))</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>] [,<span class=\"number\">4</span>] [,<span class=\"number\">5</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">2</span>    <span class=\"number\">4</span>    <span class=\"number\">6</span>    <span class=\"number\">8</span>   <span class=\"number\">10</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">1</span>    <span class=\"number\">4</span>   <span class=\"number\">27</span>  <span class=\"number\">256</span> <span class=\"number\">3125</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">0</span>    <span class=\"number\">0</span>    <span class=\"number\">0</span>    <span class=\"number\">0</span>    <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"eapply\"><a href=\"#eapply\" class=\"headerlink\" title=\"eapply\"></a>eapply</h3><figure class=\"highlight r\"><figcaption><span>eapply-函数定义：对一个环境空间中的所有变量进行遍历</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">eapply(env, FUN, <span class=\"keyword\">...</span>, all.names = <span class=\"literal\">FALSE</span>, USE.NAMES = <span class=\"literal\">TRUE</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>env: 环境空间<br>FUN：要使用的函数<br>all.names: 匹配类型, ANY为所有类型<br>USE.NAMES: 如果X为字符串，TRUE设置字符串为数据名，FALSE不设置</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg-eapply操作示例</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; <span class=\"comment\"># 定义一个环境空间</span></span><br><span class=\"line\">&gt; env &lt;- new.env()</span><br><span class=\"line\">&gt; <span class=\"comment\"># 向这个环境空间中存入3个变量</span></span><br><span class=\"line\">&gt; env$a &lt;- <span class=\"number\">1</span>:<span class=\"number\">10</span></span><br><span class=\"line\">&gt; env$b &lt;- exp(-<span class=\"number\">3</span>:<span class=\"number\">3</span>)</span><br><span class=\"line\">&gt; env$logic &lt;- c(<span class=\"literal\">TRUE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">TRUE</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; ls(env)      <span class=\"comment\"># 查看env空间中的变量</span></span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"string\">\"a\"</span>     <span class=\"string\">\"b\"</span>     <span class=\"string\">\"logic\"</span></span><br><span class=\"line\">&gt; ls.str(env)  <span class=\"comment\"># 查看env空间中的变量字符串结构</span></span><br><span class=\"line\">a :  int [<span class=\"number\">1</span>:<span class=\"number\">10</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span> <span class=\"number\">5</span> <span class=\"number\">6</span> <span class=\"number\">7</span> <span class=\"number\">8</span> <span class=\"number\">9</span> <span class=\"number\">10</span></span><br><span class=\"line\">b :  num [<span class=\"number\">1</span>:<span class=\"number\">7</span>] <span class=\"number\">0.0498</span> <span class=\"number\">0.1353</span> <span class=\"number\">0.3679</span> <span class=\"number\">1</span> <span class=\"number\">2.7183</span> <span class=\"keyword\">...</span></span><br><span class=\"line\">logic :  logi [<span class=\"number\">1</span>:<span class=\"number\">4</span>] <span class=\"literal\">TRUE</span> <span class=\"literal\">FALSE</span> <span class=\"literal\">FALSE</span> <span class=\"literal\">TRUE</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; eapply(env, mean)   <span class=\"comment\"># 计算env环境空间中所有变量的均值</span></span><br><span class=\"line\">$a</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">5.5</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">4.535125</span></span><br><span class=\"line\">$logic</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">0.5</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<hr>\n<h2 id=\"应用及拓展\"><a href=\"#应用及拓展\" class=\"headerlink\" title=\"应用及拓展\"></a>应用及拓展</h2><h3 id=\"应用展示\"><a href=\"#应用展示\" class=\"headerlink\" title=\"应用展示\"></a>应用展示</h3><p>原始数据为按年份year、地区loc和商品类别type进行统计的销售量。我们要制作两个销售总量的crosstable，一个以年份为行、地区为列，一个以年份为行，类别为列。<br><figure class=\"highlight r\"><figcaption><span>应用1-tapply实现crosstable功能</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; df &lt;- data.frame(year=kronecker(<span class=\"number\">2001</span>:<span class=\"number\">2003</span>, rep(<span class=\"number\">1</span>,<span class=\"number\">4</span>)), </span><br><span class=\"line\">                 loc=c(<span class=\"string\">'beijing'</span>,<span class=\"string\">'beijing'</span>,<span class=\"string\">'shanghai'</span>,<span class=\"string\">'shanghai'</span>), </span><br><span class=\"line\">                 type=rep(c(<span class=\"string\">'A'</span>,<span class=\"string\">'B'</span>),<span class=\"number\">6</span>), sale=rep(<span class=\"number\">1</span>:<span class=\"number\">12</span>))</span><br><span class=\"line\">&gt; df</span><br><span class=\"line\">   year      loc type sale</span><br><span class=\"line\"><span class=\"number\">1</span>  <span class=\"number\">2001</span>  beijing    A    <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">2</span>  <span class=\"number\">2001</span>  beijing    B    <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"number\">3</span>  <span class=\"number\">2001</span> shanghai    A    <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"number\">4</span>  <span class=\"number\">2001</span> shanghai    B    <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">5</span>  <span class=\"number\">2002</span>  beijing    A    <span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"number\">6</span>  <span class=\"number\">2002</span>  beijing    B    <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"number\">7</span>  <span class=\"number\">2002</span> shanghai    A    <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"number\">8</span>  <span class=\"number\">2002</span> shanghai    B    <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"number\">9</span>  <span class=\"number\">2003</span>  beijing    A    <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"number\">10</span> <span class=\"number\">2003</span>  beijing    B   <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"number\">11</span> <span class=\"number\">2003</span> shanghai    A   <span class=\"number\">11</span></span><br><span class=\"line\"><span class=\"number\">12</span> <span class=\"number\">2003</span> shanghai    B   <span class=\"number\">12</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; tapply(df$sale, df[,c(<span class=\"string\">'year'</span>,<span class=\"string\">'loc'</span>)], sum)</span><br><span class=\"line\">      loc</span><br><span class=\"line\">year   beijing shanghai</span><br><span class=\"line\">  <span class=\"number\">2001</span>       <span class=\"number\">3</span>        <span class=\"number\">7</span></span><br><span class=\"line\">  <span class=\"number\">2002</span>      <span class=\"number\">11</span>       <span class=\"number\">15</span></span><br><span class=\"line\">  <span class=\"number\">2003</span>      <span class=\"number\">19</span>       <span class=\"number\">23</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; tapply(df$sale, df[,c(<span class=\"string\">'year'</span>,<span class=\"string\">'type'</span>)], sum)</span><br><span class=\"line\">      type</span><br><span class=\"line\">year    A  B</span><br><span class=\"line\">  <span class=\"number\">2001</span>  <span class=\"number\">4</span>  <span class=\"number\">6</span></span><br><span class=\"line\">  <span class=\"number\">2002</span> <span class=\"number\">12</span> <span class=\"number\">14</span></span><br><span class=\"line\">  <span class=\"number\">2003</span> <span class=\"number\">20</span> <span class=\"number\">22</span></span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight r\"><figcaption><span>应用2-mapply使两个嵌套列表对应项相加</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; list1 &lt;- list(a=<span class=\"number\">1</span>:<span class=\"number\">5</span>, b=list(c=<span class=\"number\">1</span>:<span class=\"number\">4</span>, d=<span class=\"number\">5</span>:<span class=\"number\">9</span>))</span><br><span class=\"line\">&gt; list1</span><br><span class=\"line\">$a</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span> <span class=\"number\">5</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">$b$c</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span></span><br><span class=\"line\">$b$d</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">5</span> <span class=\"number\">6</span> <span class=\"number\">7</span> <span class=\"number\">8</span> <span class=\"number\">9</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; list2 &lt;- list(a=<span class=\"number\">1</span>:<span class=\"number\">5</span>, b=list(c=<span class=\"number\">5</span>:<span class=\"number\">8</span>, d=<span class=\"number\">1</span>:<span class=\"number\">5</span>))</span><br><span class=\"line\">&gt; list2</span><br><span class=\"line\">$a</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span> <span class=\"number\">5</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">$b$c</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">5</span> <span class=\"number\">6</span> <span class=\"number\">7</span> <span class=\"number\">8</span></span><br><span class=\"line\">$b$d</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span> <span class=\"number\">5</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; <span class=\"string\">\"%+%\"</span> &lt;- <span class=\"keyword\">function</span>(x,y) mapply(<span class=\"string\">\"+\"</span>, x, y)</span><br><span class=\"line\">&gt; mapply(<span class=\"string\">\"%+%\"</span>, list1, list2)</span><br><span class=\"line\">$a</span><br><span class=\"line\">[<span class=\"number\">1</span>]  <span class=\"number\">2</span>  <span class=\"number\">4</span>  <span class=\"number\">6</span>  <span class=\"number\">8</span> <span class=\"number\">10</span></span><br><span class=\"line\">$b</span><br><span class=\"line\">$b$c</span><br><span class=\"line\">[<span class=\"number\">1</span>]  <span class=\"number\">6</span>  <span class=\"number\">8</span> <span class=\"number\">10</span> <span class=\"number\">12</span></span><br><span class=\"line\">$b$d</span><br><span class=\"line\">[<span class=\"number\">1</span>]  <span class=\"number\">6</span>  <span class=\"number\">8</span> <span class=\"number\">10</span> <span class=\"number\">12</span> <span class=\"number\">14</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"相关函数\"><a href=\"#相关函数\" class=\"headerlink\" title=\"相关函数\"></a>相关函数</h3><h4 id=\"by\"><a href=\"#by\" class=\"headerlink\" title=\"by\"></a>by</h4><figure class=\"highlight r\"><figcaption><span>by-函数定义：by可以当成data.frame上的tapply，在数据框行上施用索引分组运算</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">by(data, INDICES, FUN, <span class=\"keyword\">...</span>, simplify = <span class=\"literal\">TRUE</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>data: 数据框<br>INDICES：与数据框行数等长的用于分组的索引<br>FUN：要使用的函数</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg-by对数据框进行按行索引分组计算</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; data &lt;- data.frame(a=c(<span class=\"number\">1</span>:<span class=\"number\">5</span>), b=c(<span class=\"number\">6</span>:<span class=\"number\">10</span>))</span><br><span class=\"line\">&gt; data</span><br><span class=\"line\">  a  b</span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"number\">1</span>  <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"number\">2</span> <span class=\"number\">2</span>  <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"number\">3</span> <span class=\"number\">3</span>  <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"number\">4</span> <span class=\"number\">4</span>  <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"number\">5</span> <span class=\"number\">5</span> <span class=\"number\">10</span></span><br><span class=\"line\">&gt; INDICES &lt;- c(<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">2</span>,<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; by(data, INDICES, colMeans)</span><br><span class=\"line\">INDICES: <span class=\"number\">1</span></span><br><span class=\"line\">  a   b </span><br><span class=\"line\"><span class=\"number\">1.5</span> <span class=\"number\">6.5</span> </span><br><span class=\"line\">-------------------------------------------------------------------------------</span><br><span class=\"line\">INDICES: <span class=\"number\">2</span></span><br><span class=\"line\">a b </span><br><span class=\"line\"><span class=\"number\">4</span> <span class=\"number\">9</span> </span><br><span class=\"line\">&gt; by(data, INDICES, rowMeans)</span><br><span class=\"line\">INDICES: <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"number\">1</span>   <span class=\"number\">2</span> </span><br><span class=\"line\"><span class=\"number\">3.5</span> <span class=\"number\">4.5</span> </span><br><span class=\"line\">-------------------------------------------------------------------------------</span><br><span class=\"line\">INDICES: <span class=\"number\">2</span></span><br><span class=\"line\">  <span class=\"number\">3</span>   <span class=\"number\">4</span>   <span class=\"number\">5</span> </span><br><span class=\"line\"><span class=\"number\">5.5</span> <span class=\"number\">6.5</span> <span class=\"number\">7.5</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"outer\"><a href=\"#outer\" class=\"headerlink\" title=\"outer\"></a>outer</h4><figure class=\"highlight r\"><figcaption><span>outer-函数定义：作用于数组的类似于矩阵外积运算方式的运算函数</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">outer(X, Y, FUN = <span class=\"string\">\"*\"</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>X、Y: 向量、数组<br>FUN：当为空时即为外积运算，否则为将FUN代替外积运算符进行类似外积的运算操作</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg-outer的使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; x &lt;- <span class=\"number\">1</span>:<span class=\"number\">4</span>; y &lt;- <span class=\"number\">2</span>:<span class=\"number\">4</span></span><br><span class=\"line\">&gt; x; y</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span></span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span></span><br><span class=\"line\">&gt; outer(x, y)</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">2</span>    <span class=\"number\">3</span>    <span class=\"number\">4</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">4</span>    <span class=\"number\">6</span>    <span class=\"number\">8</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">6</span>    <span class=\"number\">9</span>   <span class=\"number\">12</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,]    <span class=\"number\">8</span>   <span class=\"number\">12</span>   <span class=\"number\">16</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; month.abb</span><br><span class=\"line\"> [<span class=\"number\">1</span>] <span class=\"string\">\"Jan\"</span> <span class=\"string\">\"Feb\"</span> <span class=\"string\">\"Mar\"</span> <span class=\"string\">\"Apr\"</span> <span class=\"string\">\"May\"</span> <span class=\"string\">\"Jun\"</span> <span class=\"string\">\"Jul\"</span> <span class=\"string\">\"Aug\"</span> <span class=\"string\">\"Sep\"</span> <span class=\"string\">\"Oct\"</span> <span class=\"string\">\"Nov\"</span> <span class=\"string\">\"Dec\"</span></span><br><span class=\"line\">&gt; outer(month.abb, <span class=\"number\">1999</span>:<span class=\"number\">2003</span>, FUN = <span class=\"string\">\"paste\"</span>)</span><br><span class=\"line\">      [,<span class=\"number\">1</span>]       [,<span class=\"number\">2</span>]       [,<span class=\"number\">3</span>]       [,<span class=\"number\">4</span>]       [,<span class=\"number\">5</span>]      </span><br><span class=\"line\"> [<span class=\"number\">1</span>,] <span class=\"string\">\"Jan 1999\"</span> <span class=\"string\">\"Jan 2000\"</span> <span class=\"string\">\"Jan 2001\"</span> <span class=\"string\">\"Jan 2002\"</span> <span class=\"string\">\"Jan 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">2</span>,] <span class=\"string\">\"Feb 1999\"</span> <span class=\"string\">\"Feb 2000\"</span> <span class=\"string\">\"Feb 2001\"</span> <span class=\"string\">\"Feb 2002\"</span> <span class=\"string\">\"Feb 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">3</span>,] <span class=\"string\">\"Mar 1999\"</span> <span class=\"string\">\"Mar 2000\"</span> <span class=\"string\">\"Mar 2001\"</span> <span class=\"string\">\"Mar 2002\"</span> <span class=\"string\">\"Mar 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">4</span>,] <span class=\"string\">\"Apr 1999\"</span> <span class=\"string\">\"Apr 2000\"</span> <span class=\"string\">\"Apr 2001\"</span> <span class=\"string\">\"Apr 2002\"</span> <span class=\"string\">\"Apr 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">5</span>,] <span class=\"string\">\"May 1999\"</span> <span class=\"string\">\"May 2000\"</span> <span class=\"string\">\"May 2001\"</span> <span class=\"string\">\"May 2002\"</span> <span class=\"string\">\"May 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">6</span>,] <span class=\"string\">\"Jun 1999\"</span> <span class=\"string\">\"Jun 2000\"</span> <span class=\"string\">\"Jun 2001\"</span> <span class=\"string\">\"Jun 2002\"</span> <span class=\"string\">\"Jun 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">7</span>,] <span class=\"string\">\"Jul 1999\"</span> <span class=\"string\">\"Jul 2000\"</span> <span class=\"string\">\"Jul 2001\"</span> <span class=\"string\">\"Jul 2002\"</span> <span class=\"string\">\"Jul 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">8</span>,] <span class=\"string\">\"Aug 1999\"</span> <span class=\"string\">\"Aug 2000\"</span> <span class=\"string\">\"Aug 2001\"</span> <span class=\"string\">\"Aug 2002\"</span> <span class=\"string\">\"Aug 2003\"</span></span><br><span class=\"line\"> [<span class=\"number\">9</span>,] <span class=\"string\">\"Sep 1999\"</span> <span class=\"string\">\"Sep 2000\"</span> <span class=\"string\">\"Sep 2001\"</span> <span class=\"string\">\"Sep 2002\"</span> <span class=\"string\">\"Sep 2003\"</span></span><br><span class=\"line\">[<span class=\"number\">10</span>,] <span class=\"string\">\"Oct 1999\"</span> <span class=\"string\">\"Oct 2000\"</span> <span class=\"string\">\"Oct 2001\"</span> <span class=\"string\">\"Oct 2002\"</span> <span class=\"string\">\"Oct 2003\"</span></span><br><span class=\"line\">[<span class=\"number\">11</span>,] <span class=\"string\">\"Nov 1999\"</span> <span class=\"string\">\"Nov 2000\"</span> <span class=\"string\">\"Nov 2001\"</span> <span class=\"string\">\"Nov 2002\"</span> <span class=\"string\">\"Nov 2003\"</span></span><br><span class=\"line\">[<span class=\"number\">12</span>,] <span class=\"string\">\"Dec 1999\"</span> <span class=\"string\">\"Dec 2000\"</span> <span class=\"string\">\"Dec 2001\"</span> <span class=\"string\">\"Dec 2002\"</span> <span class=\"string\">\"Dec 2003\"</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h4 id=\"sweep\"><a href=\"#sweep\" class=\"headerlink\" title=\"sweep\"></a>sweep</h4><figure class=\"highlight r\"><figcaption><span>sweep-函数定义：对数组、矩阵按维度进行运算</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sweep(x, MARGIN, STATS, FUN = <span class=\"string\">\"-\"</span>, check.margin = <span class=\"literal\">TRUE</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>x: 数组、矩阵<br>MARGIN：运算维度，1表示行，2表示列，3即第三维度，以此类推<br>STATS：运算参数，类似于减法中的减数，除法中的除数<br>FUN：要使用的函数</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg1-对数组按行运算</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; mat &lt;- matrix(<span class=\"number\">1</span>:<span class=\"number\">9</span>, <span class=\"number\">3</span>)</span><br><span class=\"line\">&gt; mat</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">1</span>    <span class=\"number\">4</span>    <span class=\"number\">7</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">2</span>    <span class=\"number\">5</span>    <span class=\"number\">8</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">3</span>    <span class=\"number\">6</span>    <span class=\"number\">9</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; sweep(mat, <span class=\"number\">1</span>, c(<span class=\"number\">1</span>,<span class=\"number\">4</span>,<span class=\"number\">7</span>), <span class=\"string\">\"+\"</span>)  <span class=\"comment\"># 第一行都加1，第二行都加4，第三行都加7</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">2</span>    <span class=\"number\">5</span>    <span class=\"number\">8</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">6</span>    <span class=\"number\">9</span>   <span class=\"number\">12</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]   <span class=\"number\">10</span>   <span class=\"number\">13</span>   <span class=\"number\">16</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight r\"><figcaption><span>eg2-STATS可为其他格式，但注意与取MARGIN后的X结构相符</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; A &lt;- array(<span class=\"number\">1</span>:<span class=\"number\">24</span>, dim = <span class=\"number\">4</span>:<span class=\"number\">2</span>)</span><br><span class=\"line\">&gt; median &lt;- apply(A, <span class=\"number\">1</span>:<span class=\"number\">2</span>, median)</span><br><span class=\"line\">&gt; A</span><br><span class=\"line\">, , <span class=\"number\">1</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">1</span>    <span class=\"number\">5</span>    <span class=\"number\">9</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">2</span>    <span class=\"number\">6</span>   <span class=\"number\">10</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">3</span>    <span class=\"number\">7</span>   <span class=\"number\">11</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,]    <span class=\"number\">4</span>    <span class=\"number\">8</span>   <span class=\"number\">12</span></span><br><span class=\"line\">, , <span class=\"number\">2</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]   <span class=\"number\">13</span>   <span class=\"number\">17</span>   <span class=\"number\">21</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]   <span class=\"number\">14</span>   <span class=\"number\">18</span>   <span class=\"number\">22</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]   <span class=\"number\">15</span>   <span class=\"number\">19</span>   <span class=\"number\">23</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,]   <span class=\"number\">16</span>   <span class=\"number\">20</span>   <span class=\"number\">24</span></span><br><span class=\"line\">&gt; median</span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">7</span>   <span class=\"number\">11</span>   <span class=\"number\">15</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">8</span>   <span class=\"number\">12</span>   <span class=\"number\">16</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">9</span>   <span class=\"number\">13</span>   <span class=\"number\">17</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,]   <span class=\"number\">10</span>   <span class=\"number\">14</span>   <span class=\"number\">18</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; sweep(A, <span class=\"number\">1</span>:<span class=\"number\">2</span>, median)</span><br><span class=\"line\">, , <span class=\"number\">1</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]   -<span class=\"number\">6</span>   -<span class=\"number\">6</span>   -<span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]   -<span class=\"number\">6</span>   -<span class=\"number\">6</span>   -<span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]   -<span class=\"number\">6</span>   -<span class=\"number\">6</span>   -<span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,]   -<span class=\"number\">6</span>   -<span class=\"number\">6</span>   -<span class=\"number\">6</span></span><br><span class=\"line\">, , <span class=\"number\">2</span></span><br><span class=\"line\">     [,<span class=\"number\">1</span>] [,<span class=\"number\">2</span>] [,<span class=\"number\">3</span>]</span><br><span class=\"line\">[<span class=\"number\">1</span>,]    <span class=\"number\">6</span>    <span class=\"number\">6</span>    <span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">2</span>,]    <span class=\"number\">6</span>    <span class=\"number\">6</span>    <span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">3</span>,]    <span class=\"number\">6</span>    <span class=\"number\">6</span>    <span class=\"number\">6</span></span><br><span class=\"line\">[<span class=\"number\">4</span>,]    <span class=\"number\">6</span>    <span class=\"number\">6</span>    <span class=\"number\">6</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h4 id=\"replicate\"><a href=\"#replicate\" class=\"headerlink\" title=\"replicate\"></a>replicate</h4><figure class=\"highlight r\"><figcaption><span>replicate-函数定义：rep能把输入参数重复数次，replicate则能调用表达式数次</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">replicate(n, expr, simplify = <span class=\"string\">\"array\"</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>n: 调用的次数<br>expr：调用的表达式</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg-建立一个函数，模拟扔两个骰子的点数之和，然后重复运行10次</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; game &lt;- <span class=\"keyword\">function</span>() &#123;</span><br><span class=\"line\">+   n &lt;- sample(<span class=\"number\">1</span>:<span class=\"number\">6</span>,<span class=\"number\">2</span>,replace=<span class=\"literal\">T</span>)</span><br><span class=\"line\">+   <span class=\"keyword\">return</span>(sum(n))</span><br><span class=\"line\">+ &#125;</span><br><span class=\"line\">&gt; replicate(n=<span class=\"number\">10</span>, game())</span><br><span class=\"line\"> [<span class=\"number\">1</span>]  <span class=\"number\">6</span>  <span class=\"number\">6</span>  <span class=\"number\">6</span>  <span class=\"number\">7</span>  <span class=\"number\">7</span>  <span class=\"number\">7</span> <span class=\"number\">11</span>  <span class=\"number\">8</span>  <span class=\"number\">7</span>  <span class=\"number\">9</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h4 id=\"aggregate\"><a href=\"#aggregate\" class=\"headerlink\" title=\"aggregate\"></a>aggregate</h4><figure class=\"highlight r\"><figcaption><span>aggregate-函数定义：可按要求把数据分组，然后对分组后的数据进行各种操作</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aggregate(x, by, FUN, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><strong>参数列表：</strong><br>x: 一种R数据结构，通常为数据框<br>by：分组索引，必须为list格式<br>FUN：要使用的函数</p>\n</blockquote>\n<span class=\"label info\"><b>举例阐释</b></span>\n<figure class=\"highlight r\"><figcaption><span>eg-按性别分组查看年龄和身高的均值</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; data &lt;- data.frame(name=c(<span class=\"string\">\"张三\"</span>,<span class=\"string\">\"李四\"</span>,<span class=\"string\">\"王五\"</span>,<span class=\"string\">\"赵六\"</span>),</span><br><span class=\"line\">+              sex=c(<span class=\"string\">\"M\"</span>,<span class=\"string\">\"M\"</span>,<span class=\"string\">\"F\"</span>,<span class=\"string\">\"F\"</span>), age=c(<span class=\"number\">20</span>,<span class=\"number\">40</span>,<span class=\"number\">22</span>,<span class=\"number\">30</span>),</span><br><span class=\"line\">+              height=c(<span class=\"number\">166</span>,<span class=\"number\">170</span>,<span class=\"number\">150</span>,<span class=\"number\">155</span>))</span><br><span class=\"line\">&gt; data</span><br><span class=\"line\">  name sex age height</span><br><span class=\"line\"><span class=\"number\">1</span> 张三   M  <span class=\"number\">20</span>    <span class=\"number\">166</span></span><br><span class=\"line\"><span class=\"number\">2</span> 李四   M  <span class=\"number\">40</span>    <span class=\"number\">170</span></span><br><span class=\"line\"><span class=\"number\">3</span> 王五   <span class=\"literal\">F</span>  <span class=\"number\">22</span>    <span class=\"number\">150</span></span><br><span class=\"line\"><span class=\"number\">4</span> 赵六   <span class=\"literal\">F</span>  <span class=\"number\">30</span>    <span class=\"number\">155</span></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; aggregate(data[,<span class=\"number\">3</span>:<span class=\"number\">4</span>], by=list(data$sex), mean)</span><br><span class=\"line\">  Group.1 age height</span><br><span class=\"line\"><span class=\"number\">1</span>       <span class=\"literal\">F</span>  <span class=\"number\">26</span>  <span class=\"number\">152.5</span></span><br><span class=\"line\"><span class=\"number\">2</span>       M  <span class=\"number\">30</span>  <span class=\"number\">168.0</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<hr>\n<h2 id=\"致谢\"><a href=\"#致谢\" class=\"headerlink\" title=\"致谢\"></a>致谢</h2><blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><ul>\n<li><a href=\"https://www.cnblogs.com/aquastone/p/r-apply.html\" target=\"_blank\" rel=\"noopener\">R语言apply函数族笔记</a></li>\n<li><a href=\"http://blog.fens.me/r-apply/\" target=\"_blank\" rel=\"noopener\">掌握R语言中的apply函数族</a></li>\n<li><a href=\"https://feng.li/\" target=\"_blank\" rel=\"noopener\">Dr. Feng Li-Personal Site</a></li>\n</ul>\n</blockquote>"},{"title":"数据可视化-formattable包","date":"2018-03-22T06:00:11.000Z","copyright":true,"_content":"\n<center><i>\n    该软件包使用预定义的格式化规则更加丰富形象地展示数据，<br />\n    在存储原始数据的同时将输出结果用格式化输出，使数据在保留原有属性的基础上更加易读\n</i></center>\n\n<br>![formattable.png](http://p31gihke0.bkt.clouddn.com/formattable.png)\n<!--more-->\n\n## 加载包\n这个包的功能很简单，但是却很具创意性，它颠覆了 R 语言数据以及数据表的呈现方式，数据方面提供了百分数、会计技术等多个 R 尚未支持的数据格式；数据表方面支持自定义视觉化元素，如对某一列数据进行字号、颜色、背景、以及图形化处理，整体的版式仍然保留表格的样式，但是已经具有了表和图结合的意味。\n\n首先加载所需的程序包：\n```r 安装formattable包\ndevtools::install_github(\"renkun-ken/formattable\")\ninstall.packages(\"formattable\")\nlibrary(\"formattable\")\n```\n\n<br />\n\n---\n## 格式化数据\n该包提供了几个典型的可格式化对象，它们包括：`percent`, `comma`, `currency`, `accounting` 和 `scientific` 。这些对象实质上是具有预定义格式规则和参数的数值型向量。\n\n### percent\n```r percent-函数定义：将输出向量自定义为百分比数字格式\npercent(x, digits = 2L, format = \"f\", ...)\n\n## Default S3 method:\npercent(x, digits = 2L, format = \"f\", ...)\n\n## S3 method for class 'character'\npercent(x, digits = NA, format = \"f\", ...)\n```\n\n> 参数列表：\n> x：数值型向量\n> digits：一个整数，用于指示百分比字符串的位数\n> format：格式类型，传递给formatC\n\n```r Examples-函数使用\np <- percent(c(0.1, 0.02, 0.03, 0.12))\np\n\n> # 函数保留了保留其数学运算属性\n> p + 0.05\n[1] 15.00% 7.00%  8.00%  17.00%\n> mean(p)\n[1] 6.75%\n\n> # formattable格式继承了numeric属性，因而保留了数学运算能力\n> class(p)\n[1] \"formattable\" \"numeric\" \n```\n\n\n---\n### comma\n```r comma-函数定义：将输出向量自定义为千位分隔符数字格式\ncomma(x, digits, format = \"f\", big.mark = \",\", ...)\n\n## Default S3 method:\ncomma(x, digits = 2L, format = \"f\", big.mark = \",\", ...)\n\n## S3 method for class 'character'\ncomma(x, digits = max(get_digits(x)), format = \"f\",\n  big.mark = \",\", ...)\n```\n\n> 参数列表：\n> x：数值型向量\n> digits：一个整数，用于指示百分比字符串的位数\n> format：格式类型，传递给formatC\n\n```r Examples-函数使用\n> comma(1000000)\n[1] 1,000,000.00\n> comma(c(1250000, 225000))\n[1] 1,250,000.00 225,000.00  \n> comma(c(1250000, 225000), format = \"d\")\n[1] 1,250,000 225,000  \n> comma(\"123,345.123\")\n[1] 123,345.123\n```\n\n\n---\n### currency\n```r currency-函数定义：将输出向量自定义为百分比数字格式\ncurrency(x, symbol, digits, format = \"f\", big.mark = \",\", ..., sep = \"\")\n\n## Default S3 method:\ncurrency(x, symbol = \"$\", digits = 2L, format = \"f\",\n  big.mark = \",\", ..., sep = \"\")\n\n## S3 method for class 'character'\ncurrency(x, symbol = get_currency_symbol(x),\n  digits = max(get_digits(x)), format = \"f\", big.mark = \",\", ...)\n```\n\n> 参数列表：\n> x：数值型向量\n> symbol：货币符号\n> digits：一个整数，用于指示百分比字符串的位数\n> format：格式类型，传递给formatC\n> big.mark：千分隔符\n> sep：符号和值之间的分隔符\n\n```r Examples-函数使用\n> currency(200000)\n[1] $200,000.00\n> currency(1200000, \"USD\", format = \"d\", sep = \" \")\n[1] USD 1,200,000\n> currency(\"$ 120,250.50\")\n[1] $120,250.50\n> currency(\"HK$ 120, 250.50\")\n[1] HK$120,250.50\n```\n\n\n---\n### accounting\n```r accounting-函数定义：将输出向量自定义为会计数字格式\naccounting(x, digits = 2L, format = \"f\", big.mark = \",\", ...)\n\n## Default S3 method:\naccounting(x, digits = 2L, format = \"f\", big.mark = \",\",\n  ...)\n\n## S3 method for class 'character'\naccounting(x, digits = max(get_digits(x)), format = \"f\",\n  big.mark = \",\", ...)\n```\n\n> 参数列表：\n> x：数值型向量\n> digits：一个整数，用于指示小数位数\n> format：格式类型，传递给formatC\n> big.mark：千分隔符\n\n```r Examples-函数使用\n> # 两位小数，同时负值加括号\n> balance <- accounting(c(1000, 500, 200, -150, 0, 1200))\n> balance\n[1] 1,000.00 500.00   200.00   (150.00) 0.00     1,200.00\n> accounting(c(1200, -3500, 2600), format = \"d\")\n[1] 1,200   (3,500) 2,600  \n\n> # 函数保留了保留其数学运算属性\n> balance + 1000\n[1] 2,000.00 1,500.00 1,200.00 850.00   1,000.00 2,200.00\n```\n\n\n---\n### scientific\n```r scientific-函数定义：\nscientific(x, format = c(\"e\", \"E\"), digits = 4, ...)\n```\n\n> 参数列表：\n> x：数值型向量\n> digits：一个整数，用于指示小数位数\n> format：格式类型，传递给formatC\n\n```r Examples-函数使用\n> scientific(1253421, digits = 8)\n[1] 1.25342100e+06\n> scientific(1253421, digits = 8, format = \"E\")\n[1] 1.25342100E+06\n```\n\n---\n### 复杂数据结构\n`formattable()` 将高度可定制的格式应用于各种类的对象，如 `numeric`, `logical`, `factor`, `Date`, `data.frame` 等。例如，数据框可能也可存储格式化的列向量（这是自然地，因为数据框就是由若干个等长的向量组成的）：\n\n```r 数据框数据格式化\n> df <- data.frame(\n+   id = c(1, 2, 3, 4, 5), \n+   name = c(\"A1\", \"A2\", \"B1\", \"B2\", \"C1\"),\n+   balance = accounting(c(52500, 36150, 25000, 18300, 7600), format = \"d\"),\n+   growth = percent(c(0.3, 0.3, 0.1, 0.15, 0.15), format = \"d\"),\n+   ready = formattable(c(TRUE, TRUE, FALSE, FALSE, TRUE), \"yes\", \"no\"))\n> df\n  id name balance growth ready\n1  1   A1  52,500    30%   yes\n2  2   A2  36,150    30%   yes\n3  3   B1  25,000    10%    no\n4  4   B2  18,300    15%    no\n5  5   C1   7,600    15%   yes\n```\n\n<br />\n\n---\n\n\n## 格式化数据表\n### 举个栗子\n普通的表格数据如下所示：\n```r 普通表格\n> df <- data.frame(\n+   id = 1:10,\n+   name = c(\"Bob\", \"Ashley\", \"James\", \"David\", \"Jenny\", \n+            \"Hans\", \"Leo\", \"John\", \"Emily\", \"Lee\"), \n+   age = c(28, 27, 30, 28, 29, 29, 27, 27, 31, 30),\n+   grade = c(\"C\", \"A\", \"A\", \"C\", \"B\", \"B\", \"B\", \"A\", \"C\", \"C\"),\n+   test1_score = c(8.9, 9.5, 9.6, 8.9, 9.1, 9.3, 9.3, 9.9, 8.5, 8.6),\n+   test2_score = c(9.1, 9.1, 9.2, 9.1, 8.9, 8.5, 9.2, 9.3, 9.1, 8.8),\n+   final_score = c(9, 9.3, 9.4, 9, 9, 8.9, 9.25, 9.6, 8.8, 8.7),\n+   registered = c(TRUE, FALSE, TRUE, FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE),\n+   stringsAsFactors = FALSE)\n> df\n   id   name age grade test1_score test2_score final_score registered\n1   1    Bob  28     C         8.9         9.1        9.00       TRUE\n2   2 Ashley  27     A         9.5         9.1        9.30      FALSE\n3   3  James  30     A         9.6         9.2        9.40       TRUE\n4   4  David  28     C         8.9         9.1        9.00      FALSE\n5   5  Jenny  29     B         9.1         8.9        9.00       TRUE\n6   6   Hans  29     B         9.3         8.5        8.90       TRUE\n7   7    Leo  27     B         9.3         9.2        9.25       TRUE\n8   8   John  27     A         9.9         9.3        9.60      FALSE\n9   9  Emily  31     C         8.5         9.1        8.80      FALSE\n10 10    Lee  30     C         8.6         8.8        8.70      FALSE\n```\n\n格式化表格，具有以下可视化效果：\n```r 格式化表格\n> formattable(df, \n+             list(\n+               age = color_tile(\"white\", \"orange\"),\n+               grade = formatter(\n+                 \"span\", \n+                 style = x ~ ifelse(x == \"A\", style(color = \"green\", font.weight = \"bold\"), NA)\n+               ),\n+               area(col = c(test1_score, test2_score)) ~ normalize_bar(\"pink\", 0.2),\n+               final_score = formatter(\n+                 \"span\",\n+                 style = x ~ style(color = ifelse(rank(-x) <= 3, \"green\", \"gray\")),\n+                 x ~ sprintf(\"%.2f (rank: %02d)\", x, rank(-x))\n+               ),\n+               registered = formatter(\n+                 \"span\",\n+                 style = x ~ style(color = ifelse(x, \"green\", \"red\")),\n+                 x ~ icontext(ifelse(x, \"ok\", \"remove\"), ifelse(x, \"Yes\", \"No\"))\n+               )\n+             )\n+ )\n```\n\n![formattable.png](http://p31gihke0.bkt.clouddn.com/formattable.png)\n\n表格中使用的图标集由[GLYPHICONS.com](GLYPHICONS.com)提供并包含在[Bootstrap](https://getbootstrap.com/docs/3.3/components/)中。\n\n注意到一共用了 `文字格式自定义、文字背景自定义、文本自定义` 三种自定义可视化类型：\n> color_tile函数用于输出按照数值量级进行颜色背景填充的列。\n>\n> formatter函数提供字体显示格式的自定义，grade列自定义了值为A的记录显示绿色，并将字体加粗，否则忽略。\n> test1_score, test2_score两列通过area函数在对应字体背景位置使用条形图来代表指标量级大小，颜色填充粉色。\n> final_score列对指标按照top3显示绿色，其余显示灰色，同时将内容显示格式自定义为浮点型+(rank:名次)进行显示。\n> registered列则在对填充颜色按照对应布尔值进行显示（TRUE显示绿色、FALSE显示红色）之外，在左侧添加了对用的icon文本（TRUE显示绿色对号，FALSE显示红色叉号）。\n\n\n---\n### 文字格式自定义\n#### color_text\n```r eg-color_text(\"color1\", \"color2\")：输出按照数值量级进行字体颜色填充的列\nformattable(mtcars, list(mpg = color_text(\"black\", \"red\")))\n```\n\n#### formatter\n```r formatter-函数定义：创建一个HTML元素制作的格式化函数\nformatter(.tag, style = ...)\n```\n\n> 参数列表：\n> .tag：HTML 标签，默认为 span\n> style：CSS语句\n> 注：类似 x ~ expr 的公式将表现得像 function(x) expr\n\n诸多CSS样式于此可见：[List of CSS properties](https://www.w3.org/Style/CSS/all-properties)\n\n\n### 文字背景自定义\n#### 色块函数\n```r 色块函数\n# color_tile(\"color1\", \"color2\")\n# 输出按照数值量级进行颜色背景填充的列\nformattable(mtcars, list(mpg = color_tile(\"white\", \"pink\")))\n\n# color_bar(color = \"lightgray\", fun = \"proportion\", ...)\n# 输出有颜色填充的，大小以数值量级为比例的色块\nformattable(mtcars, list(mpg = color_bar(\"lightgray\", proportion)))\n\n# normalize_bar(color = \"lightgray\", ...)\n# proportion_bar(color = \"lightgray\", ...)\n# 按正常配置输出大小以数值量级为比例的色块\nformattable(mtcars, list(mpg = normalize_bar()))\nformattable(mtcars, list(mpg = proportion_bar()))\n```\n\n#### area\n```r area-函数定义：选取特定表格区域进行格式化\narea(row, col) ~ formatter/normalize_bar……\n```\n\n> 参数列表：\n> row/col：选取的行与列，默认为全选\n\n### 文本自定义\n#### icontext\n```r icontext-函数定义：文本修饰函数-添加图标、更改内容\nicontext(icon, text = list(NULL), ...)\n```\n\n> 参数列表：\n> icon：图标名称的字符矢量或字符矢量列表\n> text：文本的字符向量\n\n使用的图标集由[GLYPHICONS.com](GLYPHICONS.com)提供并包含在[Bootstrap](https://getbootstrap.com/docs/3.3/components/)中。\n\n<br />\n\n---\n## 致谢\n\n> ### 参考文章\n> * [Github：任坤的formattable项目](https://github.com/renkun-ken/formattable)\n> * [杜雨：一款脑洞大开的表格可视化神器](https://mp.weixin.qq.com/s/QAr7LYx4jgvOlNBVAUZX5g)","source":"_posts/2018-03-22-数据可视化-formattable包.md","raw":"---\ntitle: 数据可视化-formattable包\ndate: 2018-03-22 14:00:11\ncategories: R\ntags: \n    - R\n    - formattable\n    - 数据展示\n    - 数据可视化\ncopyright: true\n---\n\n<center><i>\n    该软件包使用预定义的格式化规则更加丰富形象地展示数据，<br />\n    在存储原始数据的同时将输出结果用格式化输出，使数据在保留原有属性的基础上更加易读\n</i></center>\n\n<br>![formattable.png](http://p31gihke0.bkt.clouddn.com/formattable.png)\n<!--more-->\n\n## 加载包\n这个包的功能很简单，但是却很具创意性，它颠覆了 R 语言数据以及数据表的呈现方式，数据方面提供了百分数、会计技术等多个 R 尚未支持的数据格式；数据表方面支持自定义视觉化元素，如对某一列数据进行字号、颜色、背景、以及图形化处理，整体的版式仍然保留表格的样式，但是已经具有了表和图结合的意味。\n\n首先加载所需的程序包：\n```r 安装formattable包\ndevtools::install_github(\"renkun-ken/formattable\")\ninstall.packages(\"formattable\")\nlibrary(\"formattable\")\n```\n\n<br />\n\n---\n## 格式化数据\n该包提供了几个典型的可格式化对象，它们包括：`percent`, `comma`, `currency`, `accounting` 和 `scientific` 。这些对象实质上是具有预定义格式规则和参数的数值型向量。\n\n### percent\n```r percent-函数定义：将输出向量自定义为百分比数字格式\npercent(x, digits = 2L, format = \"f\", ...)\n\n## Default S3 method:\npercent(x, digits = 2L, format = \"f\", ...)\n\n## S3 method for class 'character'\npercent(x, digits = NA, format = \"f\", ...)\n```\n\n> 参数列表：\n> x：数值型向量\n> digits：一个整数，用于指示百分比字符串的位数\n> format：格式类型，传递给formatC\n\n```r Examples-函数使用\np <- percent(c(0.1, 0.02, 0.03, 0.12))\np\n\n> # 函数保留了保留其数学运算属性\n> p + 0.05\n[1] 15.00% 7.00%  8.00%  17.00%\n> mean(p)\n[1] 6.75%\n\n> # formattable格式继承了numeric属性，因而保留了数学运算能力\n> class(p)\n[1] \"formattable\" \"numeric\" \n```\n\n\n---\n### comma\n```r comma-函数定义：将输出向量自定义为千位分隔符数字格式\ncomma(x, digits, format = \"f\", big.mark = \",\", ...)\n\n## Default S3 method:\ncomma(x, digits = 2L, format = \"f\", big.mark = \",\", ...)\n\n## S3 method for class 'character'\ncomma(x, digits = max(get_digits(x)), format = \"f\",\n  big.mark = \",\", ...)\n```\n\n> 参数列表：\n> x：数值型向量\n> digits：一个整数，用于指示百分比字符串的位数\n> format：格式类型，传递给formatC\n\n```r Examples-函数使用\n> comma(1000000)\n[1] 1,000,000.00\n> comma(c(1250000, 225000))\n[1] 1,250,000.00 225,000.00  \n> comma(c(1250000, 225000), format = \"d\")\n[1] 1,250,000 225,000  \n> comma(\"123,345.123\")\n[1] 123,345.123\n```\n\n\n---\n### currency\n```r currency-函数定义：将输出向量自定义为百分比数字格式\ncurrency(x, symbol, digits, format = \"f\", big.mark = \",\", ..., sep = \"\")\n\n## Default S3 method:\ncurrency(x, symbol = \"$\", digits = 2L, format = \"f\",\n  big.mark = \",\", ..., sep = \"\")\n\n## S3 method for class 'character'\ncurrency(x, symbol = get_currency_symbol(x),\n  digits = max(get_digits(x)), format = \"f\", big.mark = \",\", ...)\n```\n\n> 参数列表：\n> x：数值型向量\n> symbol：货币符号\n> digits：一个整数，用于指示百分比字符串的位数\n> format：格式类型，传递给formatC\n> big.mark：千分隔符\n> sep：符号和值之间的分隔符\n\n```r Examples-函数使用\n> currency(200000)\n[1] $200,000.00\n> currency(1200000, \"USD\", format = \"d\", sep = \" \")\n[1] USD 1,200,000\n> currency(\"$ 120,250.50\")\n[1] $120,250.50\n> currency(\"HK$ 120, 250.50\")\n[1] HK$120,250.50\n```\n\n\n---\n### accounting\n```r accounting-函数定义：将输出向量自定义为会计数字格式\naccounting(x, digits = 2L, format = \"f\", big.mark = \",\", ...)\n\n## Default S3 method:\naccounting(x, digits = 2L, format = \"f\", big.mark = \",\",\n  ...)\n\n## S3 method for class 'character'\naccounting(x, digits = max(get_digits(x)), format = \"f\",\n  big.mark = \",\", ...)\n```\n\n> 参数列表：\n> x：数值型向量\n> digits：一个整数，用于指示小数位数\n> format：格式类型，传递给formatC\n> big.mark：千分隔符\n\n```r Examples-函数使用\n> # 两位小数，同时负值加括号\n> balance <- accounting(c(1000, 500, 200, -150, 0, 1200))\n> balance\n[1] 1,000.00 500.00   200.00   (150.00) 0.00     1,200.00\n> accounting(c(1200, -3500, 2600), format = \"d\")\n[1] 1,200   (3,500) 2,600  \n\n> # 函数保留了保留其数学运算属性\n> balance + 1000\n[1] 2,000.00 1,500.00 1,200.00 850.00   1,000.00 2,200.00\n```\n\n\n---\n### scientific\n```r scientific-函数定义：\nscientific(x, format = c(\"e\", \"E\"), digits = 4, ...)\n```\n\n> 参数列表：\n> x：数值型向量\n> digits：一个整数，用于指示小数位数\n> format：格式类型，传递给formatC\n\n```r Examples-函数使用\n> scientific(1253421, digits = 8)\n[1] 1.25342100e+06\n> scientific(1253421, digits = 8, format = \"E\")\n[1] 1.25342100E+06\n```\n\n---\n### 复杂数据结构\n`formattable()` 将高度可定制的格式应用于各种类的对象，如 `numeric`, `logical`, `factor`, `Date`, `data.frame` 等。例如，数据框可能也可存储格式化的列向量（这是自然地，因为数据框就是由若干个等长的向量组成的）：\n\n```r 数据框数据格式化\n> df <- data.frame(\n+   id = c(1, 2, 3, 4, 5), \n+   name = c(\"A1\", \"A2\", \"B1\", \"B2\", \"C1\"),\n+   balance = accounting(c(52500, 36150, 25000, 18300, 7600), format = \"d\"),\n+   growth = percent(c(0.3, 0.3, 0.1, 0.15, 0.15), format = \"d\"),\n+   ready = formattable(c(TRUE, TRUE, FALSE, FALSE, TRUE), \"yes\", \"no\"))\n> df\n  id name balance growth ready\n1  1   A1  52,500    30%   yes\n2  2   A2  36,150    30%   yes\n3  3   B1  25,000    10%    no\n4  4   B2  18,300    15%    no\n5  5   C1   7,600    15%   yes\n```\n\n<br />\n\n---\n\n\n## 格式化数据表\n### 举个栗子\n普通的表格数据如下所示：\n```r 普通表格\n> df <- data.frame(\n+   id = 1:10,\n+   name = c(\"Bob\", \"Ashley\", \"James\", \"David\", \"Jenny\", \n+            \"Hans\", \"Leo\", \"John\", \"Emily\", \"Lee\"), \n+   age = c(28, 27, 30, 28, 29, 29, 27, 27, 31, 30),\n+   grade = c(\"C\", \"A\", \"A\", \"C\", \"B\", \"B\", \"B\", \"A\", \"C\", \"C\"),\n+   test1_score = c(8.9, 9.5, 9.6, 8.9, 9.1, 9.3, 9.3, 9.9, 8.5, 8.6),\n+   test2_score = c(9.1, 9.1, 9.2, 9.1, 8.9, 8.5, 9.2, 9.3, 9.1, 8.8),\n+   final_score = c(9, 9.3, 9.4, 9, 9, 8.9, 9.25, 9.6, 8.8, 8.7),\n+   registered = c(TRUE, FALSE, TRUE, FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE),\n+   stringsAsFactors = FALSE)\n> df\n   id   name age grade test1_score test2_score final_score registered\n1   1    Bob  28     C         8.9         9.1        9.00       TRUE\n2   2 Ashley  27     A         9.5         9.1        9.30      FALSE\n3   3  James  30     A         9.6         9.2        9.40       TRUE\n4   4  David  28     C         8.9         9.1        9.00      FALSE\n5   5  Jenny  29     B         9.1         8.9        9.00       TRUE\n6   6   Hans  29     B         9.3         8.5        8.90       TRUE\n7   7    Leo  27     B         9.3         9.2        9.25       TRUE\n8   8   John  27     A         9.9         9.3        9.60      FALSE\n9   9  Emily  31     C         8.5         9.1        8.80      FALSE\n10 10    Lee  30     C         8.6         8.8        8.70      FALSE\n```\n\n格式化表格，具有以下可视化效果：\n```r 格式化表格\n> formattable(df, \n+             list(\n+               age = color_tile(\"white\", \"orange\"),\n+               grade = formatter(\n+                 \"span\", \n+                 style = x ~ ifelse(x == \"A\", style(color = \"green\", font.weight = \"bold\"), NA)\n+               ),\n+               area(col = c(test1_score, test2_score)) ~ normalize_bar(\"pink\", 0.2),\n+               final_score = formatter(\n+                 \"span\",\n+                 style = x ~ style(color = ifelse(rank(-x) <= 3, \"green\", \"gray\")),\n+                 x ~ sprintf(\"%.2f (rank: %02d)\", x, rank(-x))\n+               ),\n+               registered = formatter(\n+                 \"span\",\n+                 style = x ~ style(color = ifelse(x, \"green\", \"red\")),\n+                 x ~ icontext(ifelse(x, \"ok\", \"remove\"), ifelse(x, \"Yes\", \"No\"))\n+               )\n+             )\n+ )\n```\n\n![formattable.png](http://p31gihke0.bkt.clouddn.com/formattable.png)\n\n表格中使用的图标集由[GLYPHICONS.com](GLYPHICONS.com)提供并包含在[Bootstrap](https://getbootstrap.com/docs/3.3/components/)中。\n\n注意到一共用了 `文字格式自定义、文字背景自定义、文本自定义` 三种自定义可视化类型：\n> color_tile函数用于输出按照数值量级进行颜色背景填充的列。\n>\n> formatter函数提供字体显示格式的自定义，grade列自定义了值为A的记录显示绿色，并将字体加粗，否则忽略。\n> test1_score, test2_score两列通过area函数在对应字体背景位置使用条形图来代表指标量级大小，颜色填充粉色。\n> final_score列对指标按照top3显示绿色，其余显示灰色，同时将内容显示格式自定义为浮点型+(rank:名次)进行显示。\n> registered列则在对填充颜色按照对应布尔值进行显示（TRUE显示绿色、FALSE显示红色）之外，在左侧添加了对用的icon文本（TRUE显示绿色对号，FALSE显示红色叉号）。\n\n\n---\n### 文字格式自定义\n#### color_text\n```r eg-color_text(\"color1\", \"color2\")：输出按照数值量级进行字体颜色填充的列\nformattable(mtcars, list(mpg = color_text(\"black\", \"red\")))\n```\n\n#### formatter\n```r formatter-函数定义：创建一个HTML元素制作的格式化函数\nformatter(.tag, style = ...)\n```\n\n> 参数列表：\n> .tag：HTML 标签，默认为 span\n> style：CSS语句\n> 注：类似 x ~ expr 的公式将表现得像 function(x) expr\n\n诸多CSS样式于此可见：[List of CSS properties](https://www.w3.org/Style/CSS/all-properties)\n\n\n### 文字背景自定义\n#### 色块函数\n```r 色块函数\n# color_tile(\"color1\", \"color2\")\n# 输出按照数值量级进行颜色背景填充的列\nformattable(mtcars, list(mpg = color_tile(\"white\", \"pink\")))\n\n# color_bar(color = \"lightgray\", fun = \"proportion\", ...)\n# 输出有颜色填充的，大小以数值量级为比例的色块\nformattable(mtcars, list(mpg = color_bar(\"lightgray\", proportion)))\n\n# normalize_bar(color = \"lightgray\", ...)\n# proportion_bar(color = \"lightgray\", ...)\n# 按正常配置输出大小以数值量级为比例的色块\nformattable(mtcars, list(mpg = normalize_bar()))\nformattable(mtcars, list(mpg = proportion_bar()))\n```\n\n#### area\n```r area-函数定义：选取特定表格区域进行格式化\narea(row, col) ~ formatter/normalize_bar……\n```\n\n> 参数列表：\n> row/col：选取的行与列，默认为全选\n\n### 文本自定义\n#### icontext\n```r icontext-函数定义：文本修饰函数-添加图标、更改内容\nicontext(icon, text = list(NULL), ...)\n```\n\n> 参数列表：\n> icon：图标名称的字符矢量或字符矢量列表\n> text：文本的字符向量\n\n使用的图标集由[GLYPHICONS.com](GLYPHICONS.com)提供并包含在[Bootstrap](https://getbootstrap.com/docs/3.3/components/)中。\n\n<br />\n\n---\n## 致谢\n\n> ### 参考文章\n> * [Github：任坤的formattable项目](https://github.com/renkun-ken/formattable)\n> * [杜雨：一款脑洞大开的表格可视化神器](https://mp.weixin.qq.com/s/QAr7LYx4jgvOlNBVAUZX5g)","slug":"2018-03-22-数据可视化-formattable包","published":1,"updated":"2018-03-27T09:57:24.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60j8000djsuvsc857fkv","content":"<center><i>\n    该软件包使用预定义的格式化规则更加丰富形象地展示数据，<br>\n    在存储原始数据的同时将输出结果用格式化输出，使数据在保留原有属性的基础上更加易读\n</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/formattable.png\" alt=\"formattable.png\"><br><a id=\"more\"></a></p>\n<h2 id=\"加载包\"><a href=\"#加载包\" class=\"headerlink\" title=\"加载包\"></a>加载包</h2><p>这个包的功能很简单，但是却很具创意性，它颠覆了 R 语言数据以及数据表的呈现方式，数据方面提供了百分数、会计技术等多个 R 尚未支持的数据格式；数据表方面支持自定义视觉化元素，如对某一列数据进行字号、颜色、背景、以及图形化处理，整体的版式仍然保留表格的样式，但是已经具有了表和图结合的意味。</p>\n<p>首先加载所需的程序包：<br><figure class=\"highlight r\"><figcaption><span>安装formattable包</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">devtools::install_github(<span class=\"string\">\"renkun-ken/formattable\"</span>)</span><br><span class=\"line\">install.packages(<span class=\"string\">\"formattable\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">library</span>(<span class=\"string\">\"formattable\"</span>)</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<hr>\n<h2 id=\"格式化数据\"><a href=\"#格式化数据\" class=\"headerlink\" title=\"格式化数据\"></a>格式化数据</h2><p>该包提供了几个典型的可格式化对象，它们包括：<code>percent</code>, <code>comma</code>, <code>currency</code>, <code>accounting</code> 和 <code>scientific</code> 。这些对象实质上是具有预定义格式规则和参数的数值型向量。</p>\n<h3 id=\"percent\"><a href=\"#percent\" class=\"headerlink\" title=\"percent\"></a>percent</h3><figure class=\"highlight r\"><figcaption><span>percent-函数定义：将输出向量自定义为百分比数字格式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">percent(x, digits = <span class=\"number\">2L</span>, format = <span class=\"string\">\"f\"</span>, <span class=\"keyword\">...</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## Default S3 method:</span></span><br><span class=\"line\">percent(x, digits = <span class=\"number\">2L</span>, format = <span class=\"string\">\"f\"</span>, <span class=\"keyword\">...</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## S3 method for class 'character'</span></span><br><span class=\"line\">percent(x, digits = <span class=\"literal\">NA</span>, format = <span class=\"string\">\"f\"</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>x：数值型向量<br>digits：一个整数，用于指示百分比字符串的位数<br>format：格式类型，传递给formatC</p>\n</blockquote>\n<figure class=\"highlight r\"><figcaption><span>Examples-函数使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">p &lt;- percent(c(<span class=\"number\">0.1</span>, <span class=\"number\">0.02</span>, <span class=\"number\">0.03</span>, <span class=\"number\">0.12</span>))</span><br><span class=\"line\">p</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; <span class=\"comment\"># 函数保留了保留其数学运算属性</span></span><br><span class=\"line\">&gt; p + <span class=\"number\">0.05</span></span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">15.00</span>% <span class=\"number\">7.00</span>%  <span class=\"number\">8.00</span>%  <span class=\"number\">17.00</span>%</span><br><span class=\"line\">&gt; mean(p)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">6.75</span>%</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; <span class=\"comment\"># formattable格式继承了numeric属性，因而保留了数学运算能力</span></span><br><span class=\"line\">&gt; class(p)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"string\">\"formattable\"</span> <span class=\"string\">\"numeric\"</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"comma\"><a href=\"#comma\" class=\"headerlink\" title=\"comma\"></a>comma</h3><figure class=\"highlight r\"><figcaption><span>comma-函数定义：将输出向量自定义为千位分隔符数字格式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">comma(x, digits, format = <span class=\"string\">\"f\"</span>, big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## Default S3 method:</span></span><br><span class=\"line\">comma(x, digits = <span class=\"number\">2L</span>, format = <span class=\"string\">\"f\"</span>, big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## S3 method for class 'character'</span></span><br><span class=\"line\">comma(x, digits = max(get_digits(x)), format = <span class=\"string\">\"f\"</span>,</span><br><span class=\"line\">  big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>x：数值型向量<br>digits：一个整数，用于指示百分比字符串的位数<br>format：格式类型，传递给formatC</p>\n</blockquote>\n<figure class=\"highlight r\"><figcaption><span>Examples-函数使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; comma(<span class=\"number\">1000000</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span>,<span class=\"number\">000</span>,<span class=\"number\">000.00</span></span><br><span class=\"line\">&gt; comma(c(<span class=\"number\">1250000</span>, <span class=\"number\">225000</span>))</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span>,<span class=\"number\">250</span>,<span class=\"number\">000.00</span> <span class=\"number\">225</span>,<span class=\"number\">000.00</span>  </span><br><span class=\"line\">&gt; comma(c(<span class=\"number\">1250000</span>, <span class=\"number\">225000</span>), format = <span class=\"string\">\"d\"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span>,<span class=\"number\">250</span>,<span class=\"number\">000</span> <span class=\"number\">225</span>,<span class=\"number\">000</span>  </span><br><span class=\"line\">&gt; comma(<span class=\"string\">\"123,345.123\"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">123</span>,<span class=\"number\">345.123</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"currency\"><a href=\"#currency\" class=\"headerlink\" title=\"currency\"></a>currency</h3><figure class=\"highlight r\"><figcaption><span>currency-函数定义：将输出向量自定义为百分比数字格式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">currency(x, symbol, digits, format = <span class=\"string\">\"f\"</span>, big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>, sep = <span class=\"string\">\"\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## Default S3 method:</span></span><br><span class=\"line\">currency(x, symbol = <span class=\"string\">\"$\"</span>, digits = <span class=\"number\">2L</span>, format = <span class=\"string\">\"f\"</span>,</span><br><span class=\"line\">  big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>, sep = <span class=\"string\">\"\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## S3 method for class 'character'</span></span><br><span class=\"line\">currency(x, symbol = get_currency_symbol(x),</span><br><span class=\"line\">  digits = max(get_digits(x)), format = <span class=\"string\">\"f\"</span>, big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>x：数值型向量<br>symbol：货币符号<br>digits：一个整数，用于指示百分比字符串的位数<br>format：格式类型，传递给formatC<br>big.mark：千分隔符<br>sep：符号和值之间的分隔符</p>\n</blockquote>\n<figure class=\"highlight r\"><figcaption><span>Examples-函数使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; currency(<span class=\"number\">200000</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] $<span class=\"number\">200</span>,<span class=\"number\">000.00</span></span><br><span class=\"line\">&gt; currency(<span class=\"number\">1200000</span>, <span class=\"string\">\"USD\"</span>, format = <span class=\"string\">\"d\"</span>, sep = <span class=\"string\">\" \"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] USD <span class=\"number\">1</span>,<span class=\"number\">200</span>,<span class=\"number\">000</span></span><br><span class=\"line\">&gt; currency(<span class=\"string\">\"$ 120,250.50\"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] $<span class=\"number\">120</span>,<span class=\"number\">250.50</span></span><br><span class=\"line\">&gt; currency(<span class=\"string\">\"HK$ 120, 250.50\"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] HK$<span class=\"number\">120</span>,<span class=\"number\">250.50</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"accounting\"><a href=\"#accounting\" class=\"headerlink\" title=\"accounting\"></a>accounting</h3><figure class=\"highlight r\"><figcaption><span>accounting-函数定义：将输出向量自定义为会计数字格式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">accounting(x, digits = <span class=\"number\">2L</span>, format = <span class=\"string\">\"f\"</span>, big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## Default S3 method:</span></span><br><span class=\"line\">accounting(x, digits = <span class=\"number\">2L</span>, format = <span class=\"string\">\"f\"</span>, big.mark = <span class=\"string\">\",\"</span>,</span><br><span class=\"line\">  <span class=\"keyword\">...</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## S3 method for class 'character'</span></span><br><span class=\"line\">accounting(x, digits = max(get_digits(x)), format = <span class=\"string\">\"f\"</span>,</span><br><span class=\"line\">  big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>x：数值型向量<br>digits：一个整数，用于指示小数位数<br>format：格式类型，传递给formatC<br>big.mark：千分隔符</p>\n</blockquote>\n<figure class=\"highlight r\"><figcaption><span>Examples-函数使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; <span class=\"comment\"># 两位小数，同时负值加括号</span></span><br><span class=\"line\">&gt; balance &lt;- accounting(c(<span class=\"number\">1000</span>, <span class=\"number\">500</span>, <span class=\"number\">200</span>, -<span class=\"number\">150</span>, <span class=\"number\">0</span>, <span class=\"number\">1200</span>))</span><br><span class=\"line\">&gt; balance</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span>,<span class=\"number\">000.00</span> <span class=\"number\">500.00</span>   <span class=\"number\">200.00</span>   (<span class=\"number\">150.00</span>) <span class=\"number\">0.00</span>     <span class=\"number\">1</span>,<span class=\"number\">200.00</span></span><br><span class=\"line\">&gt; accounting(c(<span class=\"number\">1200</span>, -<span class=\"number\">3500</span>, <span class=\"number\">2600</span>), format = <span class=\"string\">\"d\"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span>,<span class=\"number\">200</span>   (<span class=\"number\">3</span>,<span class=\"number\">500</span>) <span class=\"number\">2</span>,<span class=\"number\">600</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">&gt; <span class=\"comment\"># 函数保留了保留其数学运算属性</span></span><br><span class=\"line\">&gt; balance + <span class=\"number\">1000</span></span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">2</span>,<span class=\"number\">000.00</span> <span class=\"number\">1</span>,<span class=\"number\">500.00</span> <span class=\"number\">1</span>,<span class=\"number\">200.00</span> <span class=\"number\">850.00</span>   <span class=\"number\">1</span>,<span class=\"number\">000.00</span> <span class=\"number\">2</span>,<span class=\"number\">200.00</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"scientific\"><a href=\"#scientific\" class=\"headerlink\" title=\"scientific\"></a>scientific</h3><figure class=\"highlight r\"><figcaption><span>scientific-函数定义：</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scientific(x, format = c(<span class=\"string\">\"e\"</span>, <span class=\"string\">\"E\"</span>), digits = <span class=\"number\">4</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>x：数值型向量<br>digits：一个整数，用于指示小数位数<br>format：格式类型，传递给formatC</p>\n</blockquote>\n<figure class=\"highlight r\"><figcaption><span>Examples-函数使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; scientific(<span class=\"number\">1253421</span>, digits = <span class=\"number\">8</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1.25342100e+06</span></span><br><span class=\"line\">&gt; scientific(<span class=\"number\">1253421</span>, digits = <span class=\"number\">8</span>, format = <span class=\"string\">\"E\"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1.25342100E+06</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"复杂数据结构\"><a href=\"#复杂数据结构\" class=\"headerlink\" title=\"复杂数据结构\"></a>复杂数据结构</h3><p><code>formattable()</code> 将高度可定制的格式应用于各种类的对象，如 <code>numeric</code>, <code>logical</code>, <code>factor</code>, <code>Date</code>, <code>data.frame</code> 等。例如，数据框可能也可存储格式化的列向量（这是自然地，因为数据框就是由若干个等长的向量组成的）：</p>\n<figure class=\"highlight r\"><figcaption><span>数据框数据格式化</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; df &lt;- data.frame(</span><br><span class=\"line\">+   id = c(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>), </span><br><span class=\"line\">+   name = c(<span class=\"string\">\"A1\"</span>, <span class=\"string\">\"A2\"</span>, <span class=\"string\">\"B1\"</span>, <span class=\"string\">\"B2\"</span>, <span class=\"string\">\"C1\"</span>),</span><br><span class=\"line\">+   balance = accounting(c(<span class=\"number\">52500</span>, <span class=\"number\">36150</span>, <span class=\"number\">25000</span>, <span class=\"number\">18300</span>, <span class=\"number\">7600</span>), format = <span class=\"string\">\"d\"</span>),</span><br><span class=\"line\">+   growth = percent(c(<span class=\"number\">0.3</span>, <span class=\"number\">0.3</span>, <span class=\"number\">0.1</span>, <span class=\"number\">0.15</span>, <span class=\"number\">0.15</span>), format = <span class=\"string\">\"d\"</span>),</span><br><span class=\"line\">+   ready = formattable(c(<span class=\"literal\">TRUE</span>, <span class=\"literal\">TRUE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">TRUE</span>), <span class=\"string\">\"yes\"</span>, <span class=\"string\">\"no\"</span>))</span><br><span class=\"line\">&gt; df</span><br><span class=\"line\">  id name balance growth ready</span><br><span class=\"line\"><span class=\"number\">1</span>  <span class=\"number\">1</span>   A1  <span class=\"number\">52</span>,<span class=\"number\">500</span>    <span class=\"number\">30</span>%   yes</span><br><span class=\"line\"><span class=\"number\">2</span>  <span class=\"number\">2</span>   A2  <span class=\"number\">36</span>,<span class=\"number\">150</span>    <span class=\"number\">30</span>%   yes</span><br><span class=\"line\"><span class=\"number\">3</span>  <span class=\"number\">3</span>   B1  <span class=\"number\">25</span>,<span class=\"number\">000</span>    <span class=\"number\">10</span>%    no</span><br><span class=\"line\"><span class=\"number\">4</span>  <span class=\"number\">4</span>   B2  <span class=\"number\">18</span>,<span class=\"number\">300</span>    <span class=\"number\">15</span>%    no</span><br><span class=\"line\"><span class=\"number\">5</span>  <span class=\"number\">5</span>   C1   <span class=\"number\">7</span>,<span class=\"number\">600</span>    <span class=\"number\">15</span>%   yes</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<hr>\n<h2 id=\"格式化数据表\"><a href=\"#格式化数据表\" class=\"headerlink\" title=\"格式化数据表\"></a>格式化数据表</h2><h3 id=\"举个栗子\"><a href=\"#举个栗子\" class=\"headerlink\" title=\"举个栗子\"></a>举个栗子</h3><p>普通的表格数据如下所示：<br><figure class=\"highlight r\"><figcaption><span>普通表格</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; df &lt;- data.frame(</span><br><span class=\"line\">+   id = <span class=\"number\">1</span>:<span class=\"number\">10</span>,</span><br><span class=\"line\">+   name = c(<span class=\"string\">\"Bob\"</span>, <span class=\"string\">\"Ashley\"</span>, <span class=\"string\">\"James\"</span>, <span class=\"string\">\"David\"</span>, <span class=\"string\">\"Jenny\"</span>, </span><br><span class=\"line\">+            <span class=\"string\">\"Hans\"</span>, <span class=\"string\">\"Leo\"</span>, <span class=\"string\">\"John\"</span>, <span class=\"string\">\"Emily\"</span>, <span class=\"string\">\"Lee\"</span>), </span><br><span class=\"line\">+   age = c(<span class=\"number\">28</span>, <span class=\"number\">27</span>, <span class=\"number\">30</span>, <span class=\"number\">28</span>, <span class=\"number\">29</span>, <span class=\"number\">29</span>, <span class=\"number\">27</span>, <span class=\"number\">27</span>, <span class=\"number\">31</span>, <span class=\"number\">30</span>),</span><br><span class=\"line\">+   grade = c(<span class=\"string\">\"C\"</span>, <span class=\"string\">\"A\"</span>, <span class=\"string\">\"A\"</span>, <span class=\"string\">\"C\"</span>, <span class=\"string\">\"B\"</span>, <span class=\"string\">\"B\"</span>, <span class=\"string\">\"B\"</span>, <span class=\"string\">\"A\"</span>, <span class=\"string\">\"C\"</span>, <span class=\"string\">\"C\"</span>),</span><br><span class=\"line\">+   test1_score = c(<span class=\"number\">8.9</span>, <span class=\"number\">9.5</span>, <span class=\"number\">9.6</span>, <span class=\"number\">8.9</span>, <span class=\"number\">9.1</span>, <span class=\"number\">9.3</span>, <span class=\"number\">9.3</span>, <span class=\"number\">9.9</span>, <span class=\"number\">8.5</span>, <span class=\"number\">8.6</span>),</span><br><span class=\"line\">+   test2_score = c(<span class=\"number\">9.1</span>, <span class=\"number\">9.1</span>, <span class=\"number\">9.2</span>, <span class=\"number\">9.1</span>, <span class=\"number\">8.9</span>, <span class=\"number\">8.5</span>, <span class=\"number\">9.2</span>, <span class=\"number\">9.3</span>, <span class=\"number\">9.1</span>, <span class=\"number\">8.8</span>),</span><br><span class=\"line\">+   final_score = c(<span class=\"number\">9</span>, <span class=\"number\">9.3</span>, <span class=\"number\">9.4</span>, <span class=\"number\">9</span>, <span class=\"number\">9</span>, <span class=\"number\">8.9</span>, <span class=\"number\">9.25</span>, <span class=\"number\">9.6</span>, <span class=\"number\">8.8</span>, <span class=\"number\">8.7</span>),</span><br><span class=\"line\">+   registered = c(<span class=\"literal\">TRUE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">TRUE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">TRUE</span>, <span class=\"literal\">TRUE</span>, <span class=\"literal\">TRUE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">FALSE</span>),</span><br><span class=\"line\">+   stringsAsFactors = <span class=\"literal\">FALSE</span>)</span><br><span class=\"line\">&gt; df</span><br><span class=\"line\">   id   name age grade test1_score test2_score final_score registered</span><br><span class=\"line\"><span class=\"number\">1</span>   <span class=\"number\">1</span>    Bob  <span class=\"number\">28</span>     C         <span class=\"number\">8.9</span>         <span class=\"number\">9.1</span>        <span class=\"number\">9.00</span>       <span class=\"literal\">TRUE</span></span><br><span class=\"line\"><span class=\"number\">2</span>   <span class=\"number\">2</span> Ashley  <span class=\"number\">27</span>     A         <span class=\"number\">9.5</span>         <span class=\"number\">9.1</span>        <span class=\"number\">9.30</span>      <span class=\"literal\">FALSE</span></span><br><span class=\"line\"><span class=\"number\">3</span>   <span class=\"number\">3</span>  James  <span class=\"number\">30</span>     A         <span class=\"number\">9.6</span>         <span class=\"number\">9.2</span>        <span class=\"number\">9.40</span>       <span class=\"literal\">TRUE</span></span><br><span class=\"line\"><span class=\"number\">4</span>   <span class=\"number\">4</span>  David  <span class=\"number\">28</span>     C         <span class=\"number\">8.9</span>         <span class=\"number\">9.1</span>        <span class=\"number\">9.00</span>      <span class=\"literal\">FALSE</span></span><br><span class=\"line\"><span class=\"number\">5</span>   <span class=\"number\">5</span>  Jenny  <span class=\"number\">29</span>     B         <span class=\"number\">9.1</span>         <span class=\"number\">8.9</span>        <span class=\"number\">9.00</span>       <span class=\"literal\">TRUE</span></span><br><span class=\"line\"><span class=\"number\">6</span>   <span class=\"number\">6</span>   Hans  <span class=\"number\">29</span>     B         <span class=\"number\">9.3</span>         <span class=\"number\">8.5</span>        <span class=\"number\">8.90</span>       <span class=\"literal\">TRUE</span></span><br><span class=\"line\"><span class=\"number\">7</span>   <span class=\"number\">7</span>    Leo  <span class=\"number\">27</span>     B         <span class=\"number\">9.3</span>         <span class=\"number\">9.2</span>        <span class=\"number\">9.25</span>       <span class=\"literal\">TRUE</span></span><br><span class=\"line\"><span class=\"number\">8</span>   <span class=\"number\">8</span>   John  <span class=\"number\">27</span>     A         <span class=\"number\">9.9</span>         <span class=\"number\">9.3</span>        <span class=\"number\">9.60</span>      <span class=\"literal\">FALSE</span></span><br><span class=\"line\"><span class=\"number\">9</span>   <span class=\"number\">9</span>  Emily  <span class=\"number\">31</span>     C         <span class=\"number\">8.5</span>         <span class=\"number\">9.1</span>        <span class=\"number\">8.80</span>      <span class=\"literal\">FALSE</span></span><br><span class=\"line\"><span class=\"number\">10</span> <span class=\"number\">10</span>    Lee  <span class=\"number\">30</span>     C         <span class=\"number\">8.6</span>         <span class=\"number\">8.8</span>        <span class=\"number\">8.70</span>      <span class=\"literal\">FALSE</span></span><br></pre></td></tr></table></figure></p>\n<p>格式化表格，具有以下可视化效果：<br><figure class=\"highlight r\"><figcaption><span>格式化表格</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; formattable(df, </span><br><span class=\"line\">+             list(</span><br><span class=\"line\">+               age = color_tile(<span class=\"string\">\"white\"</span>, <span class=\"string\">\"orange\"</span>),</span><br><span class=\"line\">+               grade = formatter(</span><br><span class=\"line\">+                 <span class=\"string\">\"span\"</span>, </span><br><span class=\"line\">+                 style = x ~ ifelse(x == <span class=\"string\">\"A\"</span>, style(color = <span class=\"string\">\"green\"</span>, font.weight = <span class=\"string\">\"bold\"</span>), <span class=\"literal\">NA</span>)</span><br><span class=\"line\">+               ),</span><br><span class=\"line\">+               area(col = c(test1_score, test2_score)) ~ normalize_bar(<span class=\"string\">\"pink\"</span>, <span class=\"number\">0.2</span>),</span><br><span class=\"line\">+               final_score = formatter(</span><br><span class=\"line\">+                 <span class=\"string\">\"span\"</span>,</span><br><span class=\"line\">+                 style = x ~ style(color = ifelse(rank(-x) &lt;= <span class=\"number\">3</span>, <span class=\"string\">\"green\"</span>, <span class=\"string\">\"gray\"</span>)),</span><br><span class=\"line\">+                 x ~ sprintf(<span class=\"string\">\"%.2f (rank: %02d)\"</span>, x, rank(-x))</span><br><span class=\"line\">+               ),</span><br><span class=\"line\">+               registered = formatter(</span><br><span class=\"line\">+                 <span class=\"string\">\"span\"</span>,</span><br><span class=\"line\">+                 style = x ~ style(color = ifelse(x, <span class=\"string\">\"green\"</span>, <span class=\"string\">\"red\"</span>)),</span><br><span class=\"line\">+                 x ~ icontext(ifelse(x, <span class=\"string\">\"ok\"</span>, <span class=\"string\">\"remove\"</span>), ifelse(x, <span class=\"string\">\"Yes\"</span>, <span class=\"string\">\"No\"</span>))</span><br><span class=\"line\">+               )</span><br><span class=\"line\">+             )</span><br><span class=\"line\">+ )</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"http://p31gihke0.bkt.clouddn.com/formattable.png\" alt=\"formattable.png\"></p>\n<p>表格中使用的图标集由<a href=\"GLYPHICONS.com\">GLYPHICONS.com</a>提供并包含在<a href=\"https://getbootstrap.com/docs/3.3/components/\" target=\"_blank\" rel=\"noopener\">Bootstrap</a>中。</p>\n<p>注意到一共用了 <code>文字格式自定义、文字背景自定义、文本自定义</code> 三种自定义可视化类型：</p>\n<blockquote>\n<p>color_tile函数用于输出按照数值量级进行颜色背景填充的列。</p>\n<p>formatter函数提供字体显示格式的自定义，grade列自定义了值为A的记录显示绿色，并将字体加粗，否则忽略。<br>test1_score, test2_score两列通过area函数在对应字体背景位置使用条形图来代表指标量级大小，颜色填充粉色。<br>final_score列对指标按照top3显示绿色，其余显示灰色，同时将内容显示格式自定义为浮点型+(rank:名次)进行显示。<br>registered列则在对填充颜色按照对应布尔值进行显示（TRUE显示绿色、FALSE显示红色）之外，在左侧添加了对用的icon文本（TRUE显示绿色对号，FALSE显示红色叉号）。</p>\n</blockquote>\n<hr>\n<h3 id=\"文字格式自定义\"><a href=\"#文字格式自定义\" class=\"headerlink\" title=\"文字格式自定义\"></a>文字格式自定义</h3><h4 id=\"color-text\"><a href=\"#color-text\" class=\"headerlink\" title=\"color_text\"></a>color_text</h4><figure class=\"highlight r\"><figcaption><span>eg-color_text(\"color1\", \"color2\")：输出按照数值量级进行字体颜色填充的列</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">formattable(mtcars, list(mpg = color_text(<span class=\"string\">\"black\"</span>, <span class=\"string\">\"red\"</span>)))</span><br></pre></td></tr></table></figure>\n<h4 id=\"formatter\"><a href=\"#formatter\" class=\"headerlink\" title=\"formatter\"></a>formatter</h4><figure class=\"highlight r\"><figcaption><span>formatter-函数定义：创建一个HTML元素制作的格式化函数</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">formatter(.tag, style = <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>.tag：HTML 标签，默认为 span<br>style：CSS语句<br>注：类似 x ~ expr 的公式将表现得像 function(x) expr</p>\n</blockquote>\n<p>诸多CSS样式于此可见：<a href=\"https://www.w3.org/Style/CSS/all-properties\" target=\"_blank\" rel=\"noopener\">List of CSS properties</a></p>\n<h3 id=\"文字背景自定义\"><a href=\"#文字背景自定义\" class=\"headerlink\" title=\"文字背景自定义\"></a>文字背景自定义</h3><h4 id=\"色块函数\"><a href=\"#色块函数\" class=\"headerlink\" title=\"色块函数\"></a>色块函数</h4><figure class=\"highlight r\"><figcaption><span>色块函数</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># color_tile(\"color1\", \"color2\")</span></span><br><span class=\"line\"><span class=\"comment\"># 输出按照数值量级进行颜色背景填充的列</span></span><br><span class=\"line\">formattable(mtcars, list(mpg = color_tile(<span class=\"string\">\"white\"</span>, <span class=\"string\">\"pink\"</span>)))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># color_bar(color = \"lightgray\", fun = \"proportion\", ...)</span></span><br><span class=\"line\"><span class=\"comment\"># 输出有颜色填充的，大小以数值量级为比例的色块</span></span><br><span class=\"line\">formattable(mtcars, list(mpg = color_bar(<span class=\"string\">\"lightgray\"</span>, proportion)))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># normalize_bar(color = \"lightgray\", ...)</span></span><br><span class=\"line\"><span class=\"comment\"># proportion_bar(color = \"lightgray\", ...)</span></span><br><span class=\"line\"><span class=\"comment\"># 按正常配置输出大小以数值量级为比例的色块</span></span><br><span class=\"line\">formattable(mtcars, list(mpg = normalize_bar()))</span><br><span class=\"line\">formattable(mtcars, list(mpg = proportion_bar()))</span><br></pre></td></tr></table></figure>\n<h4 id=\"area\"><a href=\"#area\" class=\"headerlink\" title=\"area\"></a>area</h4><figure class=\"highlight r\"><figcaption><span>area-函数定义：选取特定表格区域进行格式化</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">area(row, col) ~ formatter/normalize_bar……</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>row/col：选取的行与列，默认为全选</p>\n</blockquote>\n<h3 id=\"文本自定义\"><a href=\"#文本自定义\" class=\"headerlink\" title=\"文本自定义\"></a>文本自定义</h3><h4 id=\"icontext\"><a href=\"#icontext\" class=\"headerlink\" title=\"icontext\"></a>icontext</h4><figure class=\"highlight r\"><figcaption><span>icontext-函数定义：文本修饰函数-添加图标、更改内容</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">icontext(icon, text = list(<span class=\"literal\">NULL</span>), <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>icon：图标名称的字符矢量或字符矢量列表<br>text：文本的字符向量</p>\n</blockquote>\n<p>使用的图标集由<a href=\"GLYPHICONS.com\">GLYPHICONS.com</a>提供并包含在<a href=\"https://getbootstrap.com/docs/3.3/components/\" target=\"_blank\" rel=\"noopener\">Bootstrap</a>中。</p>\n<p><br></p>\n<hr>\n<h2 id=\"致谢\"><a href=\"#致谢\" class=\"headerlink\" title=\"致谢\"></a>致谢</h2><blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><ul>\n<li><a href=\"https://github.com/renkun-ken/formattable\" target=\"_blank\" rel=\"noopener\">Github：任坤的formattable项目</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/QAr7LYx4jgvOlNBVAUZX5g\" target=\"_blank\" rel=\"noopener\">杜雨：一款脑洞大开的表格可视化神器</a></li>\n</ul>\n</blockquote>\n","site":{"data":{}},"excerpt":"<center><i>\n    该软件包使用预定义的格式化规则更加丰富形象地展示数据，<br>\n    在存储原始数据的同时将输出结果用格式化输出，使数据在保留原有属性的基础上更加易读\n</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/formattable.png\" alt=\"formattable.png\"><br>","more":"</p>\n<h2 id=\"加载包\"><a href=\"#加载包\" class=\"headerlink\" title=\"加载包\"></a>加载包</h2><p>这个包的功能很简单，但是却很具创意性，它颠覆了 R 语言数据以及数据表的呈现方式，数据方面提供了百分数、会计技术等多个 R 尚未支持的数据格式；数据表方面支持自定义视觉化元素，如对某一列数据进行字号、颜色、背景、以及图形化处理，整体的版式仍然保留表格的样式，但是已经具有了表和图结合的意味。</p>\n<p>首先加载所需的程序包：<br><figure class=\"highlight r\"><figcaption><span>安装formattable包</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">devtools::install_github(<span class=\"string\">\"renkun-ken/formattable\"</span>)</span><br><span class=\"line\">install.packages(<span class=\"string\">\"formattable\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">library</span>(<span class=\"string\">\"formattable\"</span>)</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<hr>\n<h2 id=\"格式化数据\"><a href=\"#格式化数据\" class=\"headerlink\" title=\"格式化数据\"></a>格式化数据</h2><p>该包提供了几个典型的可格式化对象，它们包括：<code>percent</code>, <code>comma</code>, <code>currency</code>, <code>accounting</code> 和 <code>scientific</code> 。这些对象实质上是具有预定义格式规则和参数的数值型向量。</p>\n<h3 id=\"percent\"><a href=\"#percent\" class=\"headerlink\" title=\"percent\"></a>percent</h3><figure class=\"highlight r\"><figcaption><span>percent-函数定义：将输出向量自定义为百分比数字格式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">percent(x, digits = <span class=\"number\">2L</span>, format = <span class=\"string\">\"f\"</span>, <span class=\"keyword\">...</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## Default S3 method:</span></span><br><span class=\"line\">percent(x, digits = <span class=\"number\">2L</span>, format = <span class=\"string\">\"f\"</span>, <span class=\"keyword\">...</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## S3 method for class 'character'</span></span><br><span class=\"line\">percent(x, digits = <span class=\"literal\">NA</span>, format = <span class=\"string\">\"f\"</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>x：数值型向量<br>digits：一个整数，用于指示百分比字符串的位数<br>format：格式类型，传递给formatC</p>\n</blockquote>\n<figure class=\"highlight r\"><figcaption><span>Examples-函数使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">p &lt;- percent(c(<span class=\"number\">0.1</span>, <span class=\"number\">0.02</span>, <span class=\"number\">0.03</span>, <span class=\"number\">0.12</span>))</span><br><span class=\"line\">p</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; <span class=\"comment\"># 函数保留了保留其数学运算属性</span></span><br><span class=\"line\">&gt; p + <span class=\"number\">0.05</span></span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">15.00</span>% <span class=\"number\">7.00</span>%  <span class=\"number\">8.00</span>%  <span class=\"number\">17.00</span>%</span><br><span class=\"line\">&gt; mean(p)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">6.75</span>%</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; <span class=\"comment\"># formattable格式继承了numeric属性，因而保留了数学运算能力</span></span><br><span class=\"line\">&gt; class(p)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"string\">\"formattable\"</span> <span class=\"string\">\"numeric\"</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"comma\"><a href=\"#comma\" class=\"headerlink\" title=\"comma\"></a>comma</h3><figure class=\"highlight r\"><figcaption><span>comma-函数定义：将输出向量自定义为千位分隔符数字格式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">comma(x, digits, format = <span class=\"string\">\"f\"</span>, big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## Default S3 method:</span></span><br><span class=\"line\">comma(x, digits = <span class=\"number\">2L</span>, format = <span class=\"string\">\"f\"</span>, big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## S3 method for class 'character'</span></span><br><span class=\"line\">comma(x, digits = max(get_digits(x)), format = <span class=\"string\">\"f\"</span>,</span><br><span class=\"line\">  big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>x：数值型向量<br>digits：一个整数，用于指示百分比字符串的位数<br>format：格式类型，传递给formatC</p>\n</blockquote>\n<figure class=\"highlight r\"><figcaption><span>Examples-函数使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; comma(<span class=\"number\">1000000</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span>,<span class=\"number\">000</span>,<span class=\"number\">000.00</span></span><br><span class=\"line\">&gt; comma(c(<span class=\"number\">1250000</span>, <span class=\"number\">225000</span>))</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span>,<span class=\"number\">250</span>,<span class=\"number\">000.00</span> <span class=\"number\">225</span>,<span class=\"number\">000.00</span>  </span><br><span class=\"line\">&gt; comma(c(<span class=\"number\">1250000</span>, <span class=\"number\">225000</span>), format = <span class=\"string\">\"d\"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span>,<span class=\"number\">250</span>,<span class=\"number\">000</span> <span class=\"number\">225</span>,<span class=\"number\">000</span>  </span><br><span class=\"line\">&gt; comma(<span class=\"string\">\"123,345.123\"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">123</span>,<span class=\"number\">345.123</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"currency\"><a href=\"#currency\" class=\"headerlink\" title=\"currency\"></a>currency</h3><figure class=\"highlight r\"><figcaption><span>currency-函数定义：将输出向量自定义为百分比数字格式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">currency(x, symbol, digits, format = <span class=\"string\">\"f\"</span>, big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>, sep = <span class=\"string\">\"\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## Default S3 method:</span></span><br><span class=\"line\">currency(x, symbol = <span class=\"string\">\"$\"</span>, digits = <span class=\"number\">2L</span>, format = <span class=\"string\">\"f\"</span>,</span><br><span class=\"line\">  big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>, sep = <span class=\"string\">\"\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## S3 method for class 'character'</span></span><br><span class=\"line\">currency(x, symbol = get_currency_symbol(x),</span><br><span class=\"line\">  digits = max(get_digits(x)), format = <span class=\"string\">\"f\"</span>, big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>x：数值型向量<br>symbol：货币符号<br>digits：一个整数，用于指示百分比字符串的位数<br>format：格式类型，传递给formatC<br>big.mark：千分隔符<br>sep：符号和值之间的分隔符</p>\n</blockquote>\n<figure class=\"highlight r\"><figcaption><span>Examples-函数使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; currency(<span class=\"number\">200000</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] $<span class=\"number\">200</span>,<span class=\"number\">000.00</span></span><br><span class=\"line\">&gt; currency(<span class=\"number\">1200000</span>, <span class=\"string\">\"USD\"</span>, format = <span class=\"string\">\"d\"</span>, sep = <span class=\"string\">\" \"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] USD <span class=\"number\">1</span>,<span class=\"number\">200</span>,<span class=\"number\">000</span></span><br><span class=\"line\">&gt; currency(<span class=\"string\">\"$ 120,250.50\"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] $<span class=\"number\">120</span>,<span class=\"number\">250.50</span></span><br><span class=\"line\">&gt; currency(<span class=\"string\">\"HK$ 120, 250.50\"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] HK$<span class=\"number\">120</span>,<span class=\"number\">250.50</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"accounting\"><a href=\"#accounting\" class=\"headerlink\" title=\"accounting\"></a>accounting</h3><figure class=\"highlight r\"><figcaption><span>accounting-函数定义：将输出向量自定义为会计数字格式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">accounting(x, digits = <span class=\"number\">2L</span>, format = <span class=\"string\">\"f\"</span>, big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## Default S3 method:</span></span><br><span class=\"line\">accounting(x, digits = <span class=\"number\">2L</span>, format = <span class=\"string\">\"f\"</span>, big.mark = <span class=\"string\">\",\"</span>,</span><br><span class=\"line\">  <span class=\"keyword\">...</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## S3 method for class 'character'</span></span><br><span class=\"line\">accounting(x, digits = max(get_digits(x)), format = <span class=\"string\">\"f\"</span>,</span><br><span class=\"line\">  big.mark = <span class=\"string\">\",\"</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>x：数值型向量<br>digits：一个整数，用于指示小数位数<br>format：格式类型，传递给formatC<br>big.mark：千分隔符</p>\n</blockquote>\n<figure class=\"highlight r\"><figcaption><span>Examples-函数使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; <span class=\"comment\"># 两位小数，同时负值加括号</span></span><br><span class=\"line\">&gt; balance &lt;- accounting(c(<span class=\"number\">1000</span>, <span class=\"number\">500</span>, <span class=\"number\">200</span>, -<span class=\"number\">150</span>, <span class=\"number\">0</span>, <span class=\"number\">1200</span>))</span><br><span class=\"line\">&gt; balance</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span>,<span class=\"number\">000.00</span> <span class=\"number\">500.00</span>   <span class=\"number\">200.00</span>   (<span class=\"number\">150.00</span>) <span class=\"number\">0.00</span>     <span class=\"number\">1</span>,<span class=\"number\">200.00</span></span><br><span class=\"line\">&gt; accounting(c(<span class=\"number\">1200</span>, -<span class=\"number\">3500</span>, <span class=\"number\">2600</span>), format = <span class=\"string\">\"d\"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1</span>,<span class=\"number\">200</span>   (<span class=\"number\">3</span>,<span class=\"number\">500</span>) <span class=\"number\">2</span>,<span class=\"number\">600</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">&gt; <span class=\"comment\"># 函数保留了保留其数学运算属性</span></span><br><span class=\"line\">&gt; balance + <span class=\"number\">1000</span></span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">2</span>,<span class=\"number\">000.00</span> <span class=\"number\">1</span>,<span class=\"number\">500.00</span> <span class=\"number\">1</span>,<span class=\"number\">200.00</span> <span class=\"number\">850.00</span>   <span class=\"number\">1</span>,<span class=\"number\">000.00</span> <span class=\"number\">2</span>,<span class=\"number\">200.00</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"scientific\"><a href=\"#scientific\" class=\"headerlink\" title=\"scientific\"></a>scientific</h3><figure class=\"highlight r\"><figcaption><span>scientific-函数定义：</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scientific(x, format = c(<span class=\"string\">\"e\"</span>, <span class=\"string\">\"E\"</span>), digits = <span class=\"number\">4</span>, <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>x：数值型向量<br>digits：一个整数，用于指示小数位数<br>format：格式类型，传递给formatC</p>\n</blockquote>\n<figure class=\"highlight r\"><figcaption><span>Examples-函数使用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; scientific(<span class=\"number\">1253421</span>, digits = <span class=\"number\">8</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1.25342100e+06</span></span><br><span class=\"line\">&gt; scientific(<span class=\"number\">1253421</span>, digits = <span class=\"number\">8</span>, format = <span class=\"string\">\"E\"</span>)</span><br><span class=\"line\">[<span class=\"number\">1</span>] <span class=\"number\">1.25342100E+06</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"复杂数据结构\"><a href=\"#复杂数据结构\" class=\"headerlink\" title=\"复杂数据结构\"></a>复杂数据结构</h3><p><code>formattable()</code> 将高度可定制的格式应用于各种类的对象，如 <code>numeric</code>, <code>logical</code>, <code>factor</code>, <code>Date</code>, <code>data.frame</code> 等。例如，数据框可能也可存储格式化的列向量（这是自然地，因为数据框就是由若干个等长的向量组成的）：</p>\n<figure class=\"highlight r\"><figcaption><span>数据框数据格式化</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; df &lt;- data.frame(</span><br><span class=\"line\">+   id = c(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>), </span><br><span class=\"line\">+   name = c(<span class=\"string\">\"A1\"</span>, <span class=\"string\">\"A2\"</span>, <span class=\"string\">\"B1\"</span>, <span class=\"string\">\"B2\"</span>, <span class=\"string\">\"C1\"</span>),</span><br><span class=\"line\">+   balance = accounting(c(<span class=\"number\">52500</span>, <span class=\"number\">36150</span>, <span class=\"number\">25000</span>, <span class=\"number\">18300</span>, <span class=\"number\">7600</span>), format = <span class=\"string\">\"d\"</span>),</span><br><span class=\"line\">+   growth = percent(c(<span class=\"number\">0.3</span>, <span class=\"number\">0.3</span>, <span class=\"number\">0.1</span>, <span class=\"number\">0.15</span>, <span class=\"number\">0.15</span>), format = <span class=\"string\">\"d\"</span>),</span><br><span class=\"line\">+   ready = formattable(c(<span class=\"literal\">TRUE</span>, <span class=\"literal\">TRUE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">TRUE</span>), <span class=\"string\">\"yes\"</span>, <span class=\"string\">\"no\"</span>))</span><br><span class=\"line\">&gt; df</span><br><span class=\"line\">  id name balance growth ready</span><br><span class=\"line\"><span class=\"number\">1</span>  <span class=\"number\">1</span>   A1  <span class=\"number\">52</span>,<span class=\"number\">500</span>    <span class=\"number\">30</span>%   yes</span><br><span class=\"line\"><span class=\"number\">2</span>  <span class=\"number\">2</span>   A2  <span class=\"number\">36</span>,<span class=\"number\">150</span>    <span class=\"number\">30</span>%   yes</span><br><span class=\"line\"><span class=\"number\">3</span>  <span class=\"number\">3</span>   B1  <span class=\"number\">25</span>,<span class=\"number\">000</span>    <span class=\"number\">10</span>%    no</span><br><span class=\"line\"><span class=\"number\">4</span>  <span class=\"number\">4</span>   B2  <span class=\"number\">18</span>,<span class=\"number\">300</span>    <span class=\"number\">15</span>%    no</span><br><span class=\"line\"><span class=\"number\">5</span>  <span class=\"number\">5</span>   C1   <span class=\"number\">7</span>,<span class=\"number\">600</span>    <span class=\"number\">15</span>%   yes</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<hr>\n<h2 id=\"格式化数据表\"><a href=\"#格式化数据表\" class=\"headerlink\" title=\"格式化数据表\"></a>格式化数据表</h2><h3 id=\"举个栗子\"><a href=\"#举个栗子\" class=\"headerlink\" title=\"举个栗子\"></a>举个栗子</h3><p>普通的表格数据如下所示：<br><figure class=\"highlight r\"><figcaption><span>普通表格</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; df &lt;- data.frame(</span><br><span class=\"line\">+   id = <span class=\"number\">1</span>:<span class=\"number\">10</span>,</span><br><span class=\"line\">+   name = c(<span class=\"string\">\"Bob\"</span>, <span class=\"string\">\"Ashley\"</span>, <span class=\"string\">\"James\"</span>, <span class=\"string\">\"David\"</span>, <span class=\"string\">\"Jenny\"</span>, </span><br><span class=\"line\">+            <span class=\"string\">\"Hans\"</span>, <span class=\"string\">\"Leo\"</span>, <span class=\"string\">\"John\"</span>, <span class=\"string\">\"Emily\"</span>, <span class=\"string\">\"Lee\"</span>), </span><br><span class=\"line\">+   age = c(<span class=\"number\">28</span>, <span class=\"number\">27</span>, <span class=\"number\">30</span>, <span class=\"number\">28</span>, <span class=\"number\">29</span>, <span class=\"number\">29</span>, <span class=\"number\">27</span>, <span class=\"number\">27</span>, <span class=\"number\">31</span>, <span class=\"number\">30</span>),</span><br><span class=\"line\">+   grade = c(<span class=\"string\">\"C\"</span>, <span class=\"string\">\"A\"</span>, <span class=\"string\">\"A\"</span>, <span class=\"string\">\"C\"</span>, <span class=\"string\">\"B\"</span>, <span class=\"string\">\"B\"</span>, <span class=\"string\">\"B\"</span>, <span class=\"string\">\"A\"</span>, <span class=\"string\">\"C\"</span>, <span class=\"string\">\"C\"</span>),</span><br><span class=\"line\">+   test1_score = c(<span class=\"number\">8.9</span>, <span class=\"number\">9.5</span>, <span class=\"number\">9.6</span>, <span class=\"number\">8.9</span>, <span class=\"number\">9.1</span>, <span class=\"number\">9.3</span>, <span class=\"number\">9.3</span>, <span class=\"number\">9.9</span>, <span class=\"number\">8.5</span>, <span class=\"number\">8.6</span>),</span><br><span class=\"line\">+   test2_score = c(<span class=\"number\">9.1</span>, <span class=\"number\">9.1</span>, <span class=\"number\">9.2</span>, <span class=\"number\">9.1</span>, <span class=\"number\">8.9</span>, <span class=\"number\">8.5</span>, <span class=\"number\">9.2</span>, <span class=\"number\">9.3</span>, <span class=\"number\">9.1</span>, <span class=\"number\">8.8</span>),</span><br><span class=\"line\">+   final_score = c(<span class=\"number\">9</span>, <span class=\"number\">9.3</span>, <span class=\"number\">9.4</span>, <span class=\"number\">9</span>, <span class=\"number\">9</span>, <span class=\"number\">8.9</span>, <span class=\"number\">9.25</span>, <span class=\"number\">9.6</span>, <span class=\"number\">8.8</span>, <span class=\"number\">8.7</span>),</span><br><span class=\"line\">+   registered = c(<span class=\"literal\">TRUE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">TRUE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">TRUE</span>, <span class=\"literal\">TRUE</span>, <span class=\"literal\">TRUE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">FALSE</span>, <span class=\"literal\">FALSE</span>),</span><br><span class=\"line\">+   stringsAsFactors = <span class=\"literal\">FALSE</span>)</span><br><span class=\"line\">&gt; df</span><br><span class=\"line\">   id   name age grade test1_score test2_score final_score registered</span><br><span class=\"line\"><span class=\"number\">1</span>   <span class=\"number\">1</span>    Bob  <span class=\"number\">28</span>     C         <span class=\"number\">8.9</span>         <span class=\"number\">9.1</span>        <span class=\"number\">9.00</span>       <span class=\"literal\">TRUE</span></span><br><span class=\"line\"><span class=\"number\">2</span>   <span class=\"number\">2</span> Ashley  <span class=\"number\">27</span>     A         <span class=\"number\">9.5</span>         <span class=\"number\">9.1</span>        <span class=\"number\">9.30</span>      <span class=\"literal\">FALSE</span></span><br><span class=\"line\"><span class=\"number\">3</span>   <span class=\"number\">3</span>  James  <span class=\"number\">30</span>     A         <span class=\"number\">9.6</span>         <span class=\"number\">9.2</span>        <span class=\"number\">9.40</span>       <span class=\"literal\">TRUE</span></span><br><span class=\"line\"><span class=\"number\">4</span>   <span class=\"number\">4</span>  David  <span class=\"number\">28</span>     C         <span class=\"number\">8.9</span>         <span class=\"number\">9.1</span>        <span class=\"number\">9.00</span>      <span class=\"literal\">FALSE</span></span><br><span class=\"line\"><span class=\"number\">5</span>   <span class=\"number\">5</span>  Jenny  <span class=\"number\">29</span>     B         <span class=\"number\">9.1</span>         <span class=\"number\">8.9</span>        <span class=\"number\">9.00</span>       <span class=\"literal\">TRUE</span></span><br><span class=\"line\"><span class=\"number\">6</span>   <span class=\"number\">6</span>   Hans  <span class=\"number\">29</span>     B         <span class=\"number\">9.3</span>         <span class=\"number\">8.5</span>        <span class=\"number\">8.90</span>       <span class=\"literal\">TRUE</span></span><br><span class=\"line\"><span class=\"number\">7</span>   <span class=\"number\">7</span>    Leo  <span class=\"number\">27</span>     B         <span class=\"number\">9.3</span>         <span class=\"number\">9.2</span>        <span class=\"number\">9.25</span>       <span class=\"literal\">TRUE</span></span><br><span class=\"line\"><span class=\"number\">8</span>   <span class=\"number\">8</span>   John  <span class=\"number\">27</span>     A         <span class=\"number\">9.9</span>         <span class=\"number\">9.3</span>        <span class=\"number\">9.60</span>      <span class=\"literal\">FALSE</span></span><br><span class=\"line\"><span class=\"number\">9</span>   <span class=\"number\">9</span>  Emily  <span class=\"number\">31</span>     C         <span class=\"number\">8.5</span>         <span class=\"number\">9.1</span>        <span class=\"number\">8.80</span>      <span class=\"literal\">FALSE</span></span><br><span class=\"line\"><span class=\"number\">10</span> <span class=\"number\">10</span>    Lee  <span class=\"number\">30</span>     C         <span class=\"number\">8.6</span>         <span class=\"number\">8.8</span>        <span class=\"number\">8.70</span>      <span class=\"literal\">FALSE</span></span><br></pre></td></tr></table></figure></p>\n<p>格式化表格，具有以下可视化效果：<br><figure class=\"highlight r\"><figcaption><span>格式化表格</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; formattable(df, </span><br><span class=\"line\">+             list(</span><br><span class=\"line\">+               age = color_tile(<span class=\"string\">\"white\"</span>, <span class=\"string\">\"orange\"</span>),</span><br><span class=\"line\">+               grade = formatter(</span><br><span class=\"line\">+                 <span class=\"string\">\"span\"</span>, </span><br><span class=\"line\">+                 style = x ~ ifelse(x == <span class=\"string\">\"A\"</span>, style(color = <span class=\"string\">\"green\"</span>, font.weight = <span class=\"string\">\"bold\"</span>), <span class=\"literal\">NA</span>)</span><br><span class=\"line\">+               ),</span><br><span class=\"line\">+               area(col = c(test1_score, test2_score)) ~ normalize_bar(<span class=\"string\">\"pink\"</span>, <span class=\"number\">0.2</span>),</span><br><span class=\"line\">+               final_score = formatter(</span><br><span class=\"line\">+                 <span class=\"string\">\"span\"</span>,</span><br><span class=\"line\">+                 style = x ~ style(color = ifelse(rank(-x) &lt;= <span class=\"number\">3</span>, <span class=\"string\">\"green\"</span>, <span class=\"string\">\"gray\"</span>)),</span><br><span class=\"line\">+                 x ~ sprintf(<span class=\"string\">\"%.2f (rank: %02d)\"</span>, x, rank(-x))</span><br><span class=\"line\">+               ),</span><br><span class=\"line\">+               registered = formatter(</span><br><span class=\"line\">+                 <span class=\"string\">\"span\"</span>,</span><br><span class=\"line\">+                 style = x ~ style(color = ifelse(x, <span class=\"string\">\"green\"</span>, <span class=\"string\">\"red\"</span>)),</span><br><span class=\"line\">+                 x ~ icontext(ifelse(x, <span class=\"string\">\"ok\"</span>, <span class=\"string\">\"remove\"</span>), ifelse(x, <span class=\"string\">\"Yes\"</span>, <span class=\"string\">\"No\"</span>))</span><br><span class=\"line\">+               )</span><br><span class=\"line\">+             )</span><br><span class=\"line\">+ )</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"http://p31gihke0.bkt.clouddn.com/formattable.png\" alt=\"formattable.png\"></p>\n<p>表格中使用的图标集由<a href=\"GLYPHICONS.com\">GLYPHICONS.com</a>提供并包含在<a href=\"https://getbootstrap.com/docs/3.3/components/\" target=\"_blank\" rel=\"noopener\">Bootstrap</a>中。</p>\n<p>注意到一共用了 <code>文字格式自定义、文字背景自定义、文本自定义</code> 三种自定义可视化类型：</p>\n<blockquote>\n<p>color_tile函数用于输出按照数值量级进行颜色背景填充的列。</p>\n<p>formatter函数提供字体显示格式的自定义，grade列自定义了值为A的记录显示绿色，并将字体加粗，否则忽略。<br>test1_score, test2_score两列通过area函数在对应字体背景位置使用条形图来代表指标量级大小，颜色填充粉色。<br>final_score列对指标按照top3显示绿色，其余显示灰色，同时将内容显示格式自定义为浮点型+(rank:名次)进行显示。<br>registered列则在对填充颜色按照对应布尔值进行显示（TRUE显示绿色、FALSE显示红色）之外，在左侧添加了对用的icon文本（TRUE显示绿色对号，FALSE显示红色叉号）。</p>\n</blockquote>\n<hr>\n<h3 id=\"文字格式自定义\"><a href=\"#文字格式自定义\" class=\"headerlink\" title=\"文字格式自定义\"></a>文字格式自定义</h3><h4 id=\"color-text\"><a href=\"#color-text\" class=\"headerlink\" title=\"color_text\"></a>color_text</h4><figure class=\"highlight r\"><figcaption><span>eg-color_text(\"color1\", \"color2\")：输出按照数值量级进行字体颜色填充的列</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">formattable(mtcars, list(mpg = color_text(<span class=\"string\">\"black\"</span>, <span class=\"string\">\"red\"</span>)))</span><br></pre></td></tr></table></figure>\n<h4 id=\"formatter\"><a href=\"#formatter\" class=\"headerlink\" title=\"formatter\"></a>formatter</h4><figure class=\"highlight r\"><figcaption><span>formatter-函数定义：创建一个HTML元素制作的格式化函数</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">formatter(.tag, style = <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>.tag：HTML 标签，默认为 span<br>style：CSS语句<br>注：类似 x ~ expr 的公式将表现得像 function(x) expr</p>\n</blockquote>\n<p>诸多CSS样式于此可见：<a href=\"https://www.w3.org/Style/CSS/all-properties\" target=\"_blank\" rel=\"noopener\">List of CSS properties</a></p>\n<h3 id=\"文字背景自定义\"><a href=\"#文字背景自定义\" class=\"headerlink\" title=\"文字背景自定义\"></a>文字背景自定义</h3><h4 id=\"色块函数\"><a href=\"#色块函数\" class=\"headerlink\" title=\"色块函数\"></a>色块函数</h4><figure class=\"highlight r\"><figcaption><span>色块函数</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># color_tile(\"color1\", \"color2\")</span></span><br><span class=\"line\"><span class=\"comment\"># 输出按照数值量级进行颜色背景填充的列</span></span><br><span class=\"line\">formattable(mtcars, list(mpg = color_tile(<span class=\"string\">\"white\"</span>, <span class=\"string\">\"pink\"</span>)))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># color_bar(color = \"lightgray\", fun = \"proportion\", ...)</span></span><br><span class=\"line\"><span class=\"comment\"># 输出有颜色填充的，大小以数值量级为比例的色块</span></span><br><span class=\"line\">formattable(mtcars, list(mpg = color_bar(<span class=\"string\">\"lightgray\"</span>, proportion)))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># normalize_bar(color = \"lightgray\", ...)</span></span><br><span class=\"line\"><span class=\"comment\"># proportion_bar(color = \"lightgray\", ...)</span></span><br><span class=\"line\"><span class=\"comment\"># 按正常配置输出大小以数值量级为比例的色块</span></span><br><span class=\"line\">formattable(mtcars, list(mpg = normalize_bar()))</span><br><span class=\"line\">formattable(mtcars, list(mpg = proportion_bar()))</span><br></pre></td></tr></table></figure>\n<h4 id=\"area\"><a href=\"#area\" class=\"headerlink\" title=\"area\"></a>area</h4><figure class=\"highlight r\"><figcaption><span>area-函数定义：选取特定表格区域进行格式化</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">area(row, col) ~ formatter/normalize_bar……</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>row/col：选取的行与列，默认为全选</p>\n</blockquote>\n<h3 id=\"文本自定义\"><a href=\"#文本自定义\" class=\"headerlink\" title=\"文本自定义\"></a>文本自定义</h3><h4 id=\"icontext\"><a href=\"#icontext\" class=\"headerlink\" title=\"icontext\"></a>icontext</h4><figure class=\"highlight r\"><figcaption><span>icontext-函数定义：文本修饰函数-添加图标、更改内容</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">icontext(icon, text = list(<span class=\"literal\">NULL</span>), <span class=\"keyword\">...</span>)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>参数列表：<br>icon：图标名称的字符矢量或字符矢量列表<br>text：文本的字符向量</p>\n</blockquote>\n<p>使用的图标集由<a href=\"GLYPHICONS.com\">GLYPHICONS.com</a>提供并包含在<a href=\"https://getbootstrap.com/docs/3.3/components/\" target=\"_blank\" rel=\"noopener\">Bootstrap</a>中。</p>\n<p><br></p>\n<hr>\n<h2 id=\"致谢\"><a href=\"#致谢\" class=\"headerlink\" title=\"致谢\"></a>致谢</h2><blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><ul>\n<li><a href=\"https://github.com/renkun-ken/formattable\" target=\"_blank\" rel=\"noopener\">Github：任坤的formattable项目</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/QAr7LYx4jgvOlNBVAUZX5g\" target=\"_blank\" rel=\"noopener\">杜雨：一款脑洞大开的表格可视化神器</a></li>\n</ul>\n</blockquote>"},{"title":"DT：DataTables 库的 R 接口","date":"2018-04-05T07:00:11.000Z","_content":"\n<center><i>\n    R 包 <b>DT</b> 为 JavaScript 的 <a href=\"https://datatables.net/\" target=\"_blank\" style=\"font-weight: bold;color:#18bc9c;\" >DataTable</a> 库提供了一个 R 接口。<br />R 对象（矩阵或数据框）可在 HTML 页面上显示为表格，<b>DataTable</b> 在表格中提供过滤，分页，排序和许多其他功能。\n</i></center>\n\n<br>![DT包封面图](http://p31gihke0.bkt.clouddn.com/DT%E5%8C%85%E5%B0%81%E9%9D%A2.PNG)\n<!--more-->\n\n此文章翻译自 [DT包官方文档](https://rstudio.github.io/DT)，十分感谢谢益辉大神提供了如此方便的 HTML 页面数据表展现包。\n\n> 译文列表：\n> * [DT：DataTables 库的 R 接口](http://pgitmm68m.bkt.clouddn.com/DT.html)","source":"_posts/2018-04-05-DT-DataTables库的R接口.md","raw":"---\ntitle: DT：DataTables 库的 R 接口\ndate: 2018-04-05 15:00:11\ncategories: R\ntags: \n    - R\n    - DT\n    - 数据处理\n---\n\n<center><i>\n    R 包 <b>DT</b> 为 JavaScript 的 <a href=\"https://datatables.net/\" target=\"_blank\" style=\"font-weight: bold;color:#18bc9c;\" >DataTable</a> 库提供了一个 R 接口。<br />R 对象（矩阵或数据框）可在 HTML 页面上显示为表格，<b>DataTable</b> 在表格中提供过滤，分页，排序和许多其他功能。\n</i></center>\n\n<br>![DT包封面图](http://p31gihke0.bkt.clouddn.com/DT%E5%8C%85%E5%B0%81%E9%9D%A2.PNG)\n<!--more-->\n\n此文章翻译自 [DT包官方文档](https://rstudio.github.io/DT)，十分感谢谢益辉大神提供了如此方便的 HTML 页面数据表展现包。\n\n> 译文列表：\n> * [DT：DataTables 库的 R 接口](http://pgitmm68m.bkt.clouddn.com/DT.html)","slug":"2018-04-05-DT-DataTables库的R接口","published":1,"updated":"2018-10-13T04:53:24.599Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60jc000hjsuv0ghmnklp","content":"<center><i>\n    R 包 <b>DT</b> 为 JavaScript 的 <a href=\"https://datatables.net/\" target=\"_blank\" style=\"font-weight: bold;color:#18bc9c;\">DataTable</a> 库提供了一个 R 接口。<br>R 对象（矩阵或数据框）可在 HTML 页面上显示为表格，<b>DataTable</b> 在表格中提供过滤，分页，排序和许多其他功能。\n</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/DT%E5%8C%85%E5%B0%81%E9%9D%A2.PNG\" alt=\"DT包封面图\"><br><a id=\"more\"></a></p>\n<p>此文章翻译自 <a href=\"https://rstudio.github.io/DT\" target=\"_blank\" rel=\"noopener\">DT包官方文档</a>，十分感谢谢益辉大神提供了如此方便的 HTML 页面数据表展现包。</p>\n<blockquote>\n<p>译文列表：</p>\n<ul>\n<li><a href=\"http://pgitmm68m.bkt.clouddn.com/DT.html\" target=\"_blank\" rel=\"noopener\">DT：DataTables 库的 R 接口</a></li>\n</ul>\n</blockquote>\n","site":{"data":{}},"excerpt":"<center><i>\n    R 包 <b>DT</b> 为 JavaScript 的 <a href=\"https://datatables.net/\" target=\"_blank\" style=\"font-weight: bold;color:#18bc9c;\">DataTable</a> 库提供了一个 R 接口。<br>R 对象（矩阵或数据框）可在 HTML 页面上显示为表格，<b>DataTable</b> 在表格中提供过滤，分页，排序和许多其他功能。\n</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/DT%E5%8C%85%E5%B0%81%E9%9D%A2.PNG\" alt=\"DT包封面图\"><br>","more":"</p>\n<p>此文章翻译自 <a href=\"https://rstudio.github.io/DT\" target=\"_blank\" rel=\"noopener\">DT包官方文档</a>，十分感谢谢益辉大神提供了如此方便的 HTML 页面数据表展现包。</p>\n<blockquote>\n<p>译文列表：</p>\n<ul>\n<li><a href=\"http://pgitmm68m.bkt.clouddn.com/DT.html\" target=\"_blank\" rel=\"noopener\">DT：DataTables 库的 R 接口</a></li>\n</ul>\n</blockquote>"},{"title":"数据可视化 - 地图可视化系列文章","date":"2018-04-05T14:30:49.000Z","copyright":true,"_content":"\n<center><i> \n    可视化的形式也五彩缤纷，星现多维化的局面，并正在发展，<br />地图可视化是空间信息可视化的最主要形式，这种数据表达方式让人一目了然，方便挖掘深层信息，更好的辅助决策\n</i></center>\n<iframe height=\"450\" src=\"http://lchiffon.github.io/REmap/REmapExamples/demo1.html\" width=\"100%\"></iframe>\n\n<!--more-->\n\n\n此系列文章主要介绍地图类 API 的使用以及诸多地图可视化包的使用。\n\n> 文章列表：\n> * [REmap + BaidumapAPI：交互式地图](http://pgitmm68m.bkt.clouddn.com/intro.html)\n> * [百度地图 API 那些事]()  待写\n> * …………","source":"_posts/2018-04-05-数据可视化-地图可视化系列文章.md","raw":"---\ntitle: 数据可视化 - 地图可视化系列文章\ndate: 2018-04-05 22:30:49\ncategories: R\ntags: \n    - R\n    - API\n    - REmap\n    - 数据可视化\n    - 地图可视化\ncopyright: true\n---\n\n<center><i> \n    可视化的形式也五彩缤纷，星现多维化的局面，并正在发展，<br />地图可视化是空间信息可视化的最主要形式，这种数据表达方式让人一目了然，方便挖掘深层信息，更好的辅助决策\n</i></center>\n<iframe height=\"450\" src=\"http://lchiffon.github.io/REmap/REmapExamples/demo1.html\" width=\"100%\"></iframe>\n\n<!--more-->\n\n\n此系列文章主要介绍地图类 API 的使用以及诸多地图可视化包的使用。\n\n> 文章列表：\n> * [REmap + BaidumapAPI：交互式地图](http://pgitmm68m.bkt.clouddn.com/intro.html)\n> * [百度地图 API 那些事]()  待写\n> * …………","slug":"2018-04-05-数据可视化-地图可视化系列文章","published":1,"updated":"2018-10-13T04:53:38.609Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60je000jjsuvva5b943i","content":"<p><center><i> \n    可视化的形式也五彩缤纷，星现多维化的局面，并正在发展，<br>地图可视化是空间信息可视化的最主要形式，这种数据表达方式让人一目了然，方便挖掘深层信息，更好的辅助决策\n</i></center></p>\n<iframe height=\"450\" src=\"http://lchiffon.github.io/REmap/REmapExamples/demo1.html\" width=\"100%\"></iframe>\n\n<a id=\"more\"></a>\n<p>此系列文章主要介绍地图类 API 的使用以及诸多地图可视化包的使用。</p>\n<blockquote>\n<p>文章列表：</p>\n<ul>\n<li><a href=\"http://pgitmm68m.bkt.clouddn.com/intro.html\" target=\"_blank\" rel=\"noopener\">REmap + BaidumapAPI：交互式地图</a></li>\n<li><a href=\"\">百度地图 API 那些事</a>  待写</li>\n<li>…………</li>\n</ul>\n</blockquote>\n","site":{"data":{}},"excerpt":"<p><center><i> \n    可视化的形式也五彩缤纷，星现多维化的局面，并正在发展，<br>地图可视化是空间信息可视化的最主要形式，这种数据表达方式让人一目了然，方便挖掘深层信息，更好的辅助决策\n</i></center></p>\n<iframe height=\"450\" src=\"http://lchiffon.github.io/REmap/REmapExamples/demo1.html\" width=\"100%\"></iframe>","more":"<p>此系列文章主要介绍地图类 API 的使用以及诸多地图可视化包的使用。</p>\n<blockquote>\n<p>文章列表：</p>\n<ul>\n<li><a href=\"http://pgitmm68m.bkt.clouddn.com/intro.html\" target=\"_blank\" rel=\"noopener\">REmap + BaidumapAPI：交互式地图</a></li>\n<li><a href=\"\">百度地图 API 那些事</a>  待写</li>\n<li>…………</li>\n</ul>\n</blockquote>"},{"title":"那么长的暑假，该怎么过？","password":true,"date":"2018-07-06T01:51:27.000Z","notshow":true,"_content":"\n<center>\n    <i>   \n        近两个月的暑假，如果不好好规划一番，恐怕又要让时光白白流逝掉，在这里写下暑假的个人计划，权当做个思路的整理，当然也是行动的督促了。\n    </i>\n</center>\n\n<br>![](http://p31gihke0.bkt.clouddn.com/)\n<!--more-->\n## \n\n------\n\n## \n\n------\n\n##\n\n------\n\n## 致谢\n\n\n> ### 参考文章\n> * []()","source":"_posts/2018-07-06-那么长的暑假该，该怎么过？.md","raw":"---\ntitle: 那么长的暑假，该怎么过？\npassword: true\ndate: 2018-07-06 09:51:27\ncategories:\n    - 碎碎念\ntags:\n    - 日志\n    - 随笔\n    - 计划\nnotshow: true\n---\n\n<center>\n    <i>   \n        近两个月的暑假，如果不好好规划一番，恐怕又要让时光白白流逝掉，在这里写下暑假的个人计划，权当做个思路的整理，当然也是行动的督促了。\n    </i>\n</center>\n\n<br>![](http://p31gihke0.bkt.clouddn.com/)\n<!--more-->\n## \n\n------\n\n## \n\n------\n\n##\n\n------\n\n## 致谢\n\n\n> ### 参考文章\n> * []()","slug":"2018-07-06-那么长的暑假该，该怎么过？","published":1,"updated":"2018-07-06T03:18:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60jh000njsuv7tu54hke","content":"<center>\n    <i>   \n        近两个月的暑假，如果不好好规划一番，恐怕又要让时光白白流逝掉，在这里写下暑假的个人计划，权当做个思路的整理，当然也是行动的督促了。\n    </i>\n</center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/\" alt=\"\"><br><a id=\"more\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\" \"></a> </h2><hr>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\" \"></a> </h2><hr>\n<h1 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"#\"></a>#</h1><hr>\n<h2 id=\"致谢\"><a href=\"#致谢\" class=\"headerlink\" title=\"致谢\"></a>致谢</h2><blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><ul>\n<li><a href=\"\"></a></li>\n</ul>\n</blockquote>\n","site":{"data":{}},"excerpt":"<center>\n    <i>   \n        近两个月的暑假，如果不好好规划一番，恐怕又要让时光白白流逝掉，在这里写下暑假的个人计划，权当做个思路的整理，当然也是行动的督促了。\n    </i>\n</center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/\" alt=\"\"><br>","more":"</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\" \"></a> </h2><hr>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\" \"></a> </h2><hr>\n<h1 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"#\"></a>#</h1><hr>\n<h2 id=\"致谢\"><a href=\"#致谢\" class=\"headerlink\" title=\"致谢\"></a>致谢</h2><blockquote>\n<h3 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h3><ul>\n<li><a href=\"\"></a></li>\n</ul>\n</blockquote>"},{"title":"经济学人-人工智能系列1","date":"2018-05-23T10:39:18.000Z","notshow":true,"_content":"\n<center><i>\n    本文选自伦敦经济学人报纸有限公司出版的杂志 《The Economist》 MARCH 31ST–APRIL 6TH 2018 中的特别报道部分，文章总括性地介绍了人工智能技术给各行各业带来的机遇与挑战，属于人工智能专题系列报道中的第一部分。\n</i></center>\n\n<br />![人工智能](http://p961k62e6.bkt.clouddn.com/20180331/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD.jpg)\n<!--more-->\n\n*Artificial intelligence in business*  \n\n# GrAIt expectations | 伟大前程 \n\n**Artificial intelligence is spreading beyond the technology sector, with big consequences for companies, workers and consumers,  says Alexandra Suich Bass**\n\n> 人工智能的传播已超越技术领域，给企业、员工和消费者带来了重大影响，本文作者亚历山德拉·苏伊希·巴斯观察认为\n\n![ai2](http://p961k62e6.bkt.clouddn.com/20180331/ai2.jpg)\n\n\n\n`LIE DETECTORS` are not widely used in business, but PingAn, a Chinese insurance company, thinks it can spot dishonesty. The company lets customers apply for `loans` through its app. `Prospective` borrowers answer questions about their income and `plans for repayment` by video, which monitors around 50 tiny facial expressions to determine whether they are telling the truth. The program, enabled by artificial intelligence (AI), helps `pinpoint` customers who require further `scrutiny`.\n\n> 测谎仪并未在企业中得到广泛应用，但中国平安保险公司相信自己能探测谎言。这家公司让客户通过它的一款应用程序来申请贷款。预期的贷款人在视频中回答有关收入和还款计划的问题。视频会监视他们的大概50个细微面部表情，依此判断他们是否在说真话。这套由人工智能驱动的程序帮助筛查出需要进一步详细审核的客户。\n\n\n\nAI will change more than borrowers’ bank balances. Johnson & Johnson, a consumer-goods firm, and Accenture, a `consultancy`, use AI to sort through job applications and pick the best `candidates`. AI helps Caesars, a `casino` and hotel group, guess customers’ likely spending and offer `personalised promotions` to draw them in. Bloomberg, a media and financial-information firm, uses AI to scan `companies’ earnings releases` and automatically generate news articles. Vodafone, a `mobile operator`, can predict problems with its network and with users’ `devices` before they arise. Companies in every industry use AI to monitor `cyber-security threats` and other risks, such as `disgruntled` employees.\n\n> AI 将改变的不仅仅是贷款人的账户余额。消费品公司强生（ Johnson & Johnson ）和咨询公司埃森哲（ Accenture ）用 AI 查看应聘申请书，筛选出最佳人选。AI 帮助赌场和酒店集团凯撒娱乐（ Caesars ）估测客人的消费水平，提供个性化促销来吸引他们。媒体和金融信息公司彭博（ Bloomberg ）用 AI 扫描企业财报，自动生成新闻报道。移动运营商沃达丰（ Vodafone ）用 AI 监测其网络和用户设备，提前预警故障。各行各业的公司都在使用 AI 监控网络安全威胁和其他风险，比如心怀不满的员工。\n\n\n\nInstead of relying on `gut instinct` and `rough estimates`, cleverer and speedier AI-powered predictions promise to make businesses much more efficient. At Leroy Merlin, a French home-improvement `retailer`, managers used to order new stock on Fridays, but defaulted to the same items as the week before so they could start their weekend sooner. The firm now uses `algorithms` to take in past sales data and other information that could affect sales, such as weather forecasts, in order to `stock shelves` more effectively. That has helped it reduce its `inventory` by 8% even as sales have risen by 2%, says Manuel Davy of Vekia, the AI `startup` that engineered the program.\n\n> 相比依赖直觉和粗略的估算，更聪明也更快速的 AI 预测将帮助企业大幅提高效率。法国家居装饰零售商乐华梅兰（ Leroy Merlin ）的管理层以前每周五下新订单，默认的设置是重复前一周的订单，这样大家可以早点下班过周末。现在，公司用算法来斟酌历史销售数据和天气预报等其他可能影响销售的信息，以更有效地安排库存。按创建该算法的 AI 创业公司 Vekia 的曼纽尔·戴维说，这帮助该公司将库存减少了8%，同时销售额却增长了2%。\n\n\n\nAI and machine learning (terms that are often used `interchangeably`) involve computers crunchingvast quantities ofdata to find `patterns` and make predictions without being `explicitly` programmed to do so. Larger quantities of data, more `sophisticated` algorithms and `sheer` computing power have given AI greater force and capability. The outcomes are often similar to what `an army of` statisticians with unlimited time and resources might have come up with, but they are achieved far more quickly, cheaply and efficiently.\n\n> AI 和机器学习（这两个术语常被混用）用计算机处理查看海量数据，从中找出模式并做出预测，而不需要编程来作出明确的指示。更多数据、更复杂的算法和更高的计算能力已经赋予了 AI 更强大的能力。它得出的结果往往和一大批拥有无限时间和资源的统计师所得的差不多，但它远为快速、便宜和高效。\n\n\n\nOne of AI’s main effects will be a `dramatic drop` in the cost of making predictions, says Ajay Agrawal of the University of Toronto and co-author of a new book, “Prediction Machines”. Just as electricity made lighting much more affordable—a given level of lighting now costs around 400 times less than it did in 1800—so AI will make forecasting more affordable, reliable and widely available.\n\n> AI 的主要成果之一是将令预测的成本大幅下降，新书《预测机器》的合著者、多伦多大学的阿杰伊·阿格拉沃尔表示。就像电力让照明成本比 1800 年时降低了 400 倍左右——AI 会让做预测更便宜、更可靠、更普及。\n\n\n\nComputers have been able to read text and numbers for decades, but have only recently learned to see, hear and speak. AI is an `omnibus term` for a “salad bowl” of different segments and `disciplines`, says Fei-Fei Li, director of Stanford’s AI Lab and an `executive` at Google’s cloud-computing unit. `Subsections` of AI include robotics, which is changing factories and `assembly` lines, and computer vision, used in applications from identifying something or someone in a photo to self-driving-car technology. Computer vision is AI’s “killer app”, saysMs Li, because it can be used in so many settings, but AI has also become more adept at `recognising speech`. It `underlies` voice assistants on phones and home speakers and allows algorithms to listen to calls and take in the speaker’s `tone` and content.\n\n> 计算机几十年前就已经可以阅读文本和数字了，但直到最近才学会了看、听、说。AI 是一个综合性术语，就像是涵盖了不同领域和学科的“一碗色拉”，斯坦福大学人工智能实验室主管、谷歌云计算部门负责人李飞飞说。AI 的下属分支包括正在改变工厂和装配线的机器人技术，以及部署在各种应用程序中的计算机视觉——从识别照片中的人或物到无人驾驶汽车技术等。李飞飞说，计算机视觉是 AI 的“杀手级应用”，因为运用场合是如此之多，但 AI 在语音识别方面也已变得更加娴熟。它在配备在手机和家用音响上的语音助理的技术基础，还让算法能够监听来电并识别说话者的语调和内容。\n\n\n\n## Techtonic shifts | 技术板块迁移\n\nUntil now the main `beneficiary` of AI has been the technology sector. Most of today’s leading tech firms, such as Google and Amazon in the West and Alibaba and Baidu in China, would not be as big and successful without AI for `product recommendations`, `targeted advertising` and `forecasting demand`. Amazon, for example, uses AI widely, for tasks such as guiding robots in its warehouses and optimising `packing` and `delivery`, as well as detecting `counterfeit goods` and powering its speaker, Alexa. Alibaba, a Chinese `rival`, also `makes extensive use of` AI, for example in `logistics`; and its online-payments `affiliate`, Ant Financial, is `experimenting` with facial recognition for `approving transactions`. Sundar Pichai, Google’s boss, has said that AI will have a “more `profound`” impact than electricity or fire.\n\n> 到目前为止，AI 的主要受益者一直是技术部门。若果没有 AI 帮助实现产品推荐、定向广告和需求预测，那么当今大多数科技领军企业，比如西方的谷歌和亚马逊以及中国的阿里巴巴和百度，都不会发展到今天这般庞大且成功。举例来说，亚马逊广泛使用 AI 来完成各种任务，诸如在仓库中指示机器人工作、优化包装和运送、检测假货，支持其智能音箱 Alexa 等。它的竞争对手，中国的阿里巴巴也在物流等部门广泛运用 AI，其在线支付分支机构蚂蚁金服正测试使用面部识别来核准交易。谷歌执行长桑达尔·皮查伊曾经说过，AI 将产生比电或火“更深远”的影响。\n\n\n\nBosses of non-tech companies in `a broad range of` industries are starting to worry that AI could `scorch` or even `incinerate` them, and have been buying up `promising` young tech firms to ensure they do not fall behind. In 2017 firms worldwide spent around \\$21.8bn on `mergers and acquisitions` related to AI, according to PitchBook, a data provider, about 26 times more than in 2015 (see chart). They are doing this partly to `secure` talent, <u>which is thin on the ground</u>. Startups without revenue are `fetching prices` that amount to \\$5m-10m per AI expert.\n\n> 然而各行各业的非科技公司老板们已经开始担心，AI 可能会冲击甚至毁灭自己，因而他们纷纷收购看起来颇有前途的年轻科技公司，以确保自己不落人后。据数据供应商 PitchBook 统计，2017 年全球企业在 AI 相关并购上的支出约达 218 亿美元，比 2015 年增长约 26 倍（见图表）。它们这样做的部分原因是为获得目前仍相当稀缺的 AI 人才。尚未产生收入的创业公司为聘请一名 AI 专家花费多达 500 万至 1000 万美元。\n\n![Artificial sweeteners](http://p961k62e6.bkt.clouddn.com/20180331/Artificial_sweeteners.PNG)\n\n\n\nAs AI spreads beyond the tech sector, it will `fuel` the rise of new firms that challenge `incumbents`. This is already happening in the car industry, with `autonomous-vehicle` startups and `ride-hailing` firms such as Uber. But it will also change the way other companies work, transforming traditional functions such as supply-chain management, customer service and `recruitment`.\n\n> 随着 AI 传播到科技行业之外，它将推动新企业的崛起，为成熟企业带来挑战。这已经在汽车产业里发生——AI 催生了无人驾驶汽车创业公司和优步等网约车公司。但它也将改变其他企业的运作方式，改变供应链管理、客服和招聘等传统职能。\n\n\n\nThe path ahead is `exhilarating but perilous`. Around 85% of companies think AI will offer a competitive advantage, but only one in 20 is “`extensively`” employing it today, according to a report by MIT’s *Sloan*\n*Management Review* and the Boston Consulting Group. Large companies and industries, such as finance, that generate a lot of data, tend to be ahead and often build their own `AI-enhanced systems`. But many firms will choose to work with `the growing array of` independent AI `vendors`, including cloud providers, `consultants` and startups.\n\n>前路令人振奋却也危险重重。根据麻省理工学院的《斯隆管理评论》和波士顿咨询集团联合撰写的报告，约 85% 的企业认为 AI 将带来竞争优势，但只有 5% 的公司正在“广泛”地使用它。生成大量数据的大企业和金融等行业往往走在前头，常常建立自己的 AI 增强系统。但许多企业会选择与队伍不断扩大的独立 AI 供应商合作，包括云供应商、咨询公司和创业公司等。\n\n\n\nThis is not just a `corporate race` but an international one, too, especially between America and China. <u>Chinese firms have an early edge</u>, `not least` because the government keeps a vast database of faces that can help train facial-recognition algorithms; and `privacy` is less of a concern than in the West.\n\n> 这不仅是一项企业竞赛，也是一场国际竞逐——尤其在中美之间。中国企业有一个先发优势，这主要是因为中国政府拥有一个庞大的人脸数据库，可以用来训练面部识别算法。而且，与西方相比，中国人对隐私也不那么关切。\n\n\n\nThere will be plenty of opportunities to `stumble`. One difficult issue for companies will be `timing`. Roy Bahat of Bloomberg Beta, a `venture-capital firm`, <u>draws a parallel between now and the first dotcom boom of the late 1990s</u>: “Companies are flailing to figure out what to spend money on.” If they invest huge sums in AI early on, they run the risk of `overcommitting themselves` or paying large amounts for worthless startups, as many did in the early days of the internet. But if they wait too long, they may leave themselves open to `disruption` from upstarts, as well as from `rivals` that were quicker to harness technology.\n\n> 跌跤的机会很多。企业面临的难题之一是对时机的把握。风险投资公司 Bloomberg Beta 的罗伊·巴哈特把眼下的状况比作上世纪 90 年代末的首个互联网泡沫期：“对于该往哪儿投钱，企业无所适从。”如果它们早早地在 AI 上投入巨资，就要冒对一文不值的创业公司过度依赖或为之浪费大笔金钱的风险，就像互联网早期许多公司的经历那样。但如果它们等得太久，又有可能把自己置于被市场新贵颠覆的境地，还可能被更快掌握了新技术的竞争对手冲击。\n\n\n\nSome may have been `misled` by `glowing` media reports, believing AI to be a magic wand that can be installed as easily as a piece of Microsoft software, says Gautam Schroff of Tata Consultancy Services, an Indian firm. AI systems require `thorough` preparation of data, `intensive` monitoring of algorithms and a lot of `customisation` to be useful. Gurdeep Singh of Microsoft speaks of AI systems as “`idiots savants`”; they can easily do jobs that humans find `mind-boggling`, such as detecting tiny `flaws` in `manufactured goods` or quickly categorising millions of photos of faces, but have trouble with things that people find easy, such as basic `reasoning`. Back in 1956, when `academic` researchers held their first `gathering to discuss AI`, they were looking for a way to `imbue` machines with human-like “general” intelligence, including complex reasoning. But that remains a `distant aspiration`.\n\n> 还有些企业可能被媒体天花乱坠的报道误导，以为 AI 就是一根魔法棒，像微软的软件一样容易安装，印度公司塔塔咨询服务的高塔姆·施罗夫说。AI 系统需要全面细致地准备数据、深入地监测算法和大量的定制才能发挥用处。微软的格迪普·辛格称 AI 系统为“白痴专家”——它们能轻易完成让人类望而却步的艰巨任务，比如检测制成品中的细小瑕疵，或给数百万人脸照片快速分类，但在那些对人类而言轻而易举的任务上（比如基础推理）却遇到麻烦。早在 1956 年学术研究人员举行首次 AI 研讨会时，他们就在寻找办法来赋予机器像人类那样的“一般”智能，包括复杂推理的能力。但直到今天，这仍是一种遥遥无期的向往。\n\n\n\nThe `excitement` around AI has made it hard to `separate hype from reality`. In the last quarter of 2017 public companies across the world `mentioned` AI and machine learning in their earnings reports more than 700 times, seven times as often as in the same period in 2015 (see chart). There are so many firms `peddling` AI `capabilities` of `unproven value` that someone should start “an AI fake news” channel, `quips` Tom Siebel, a Silicon Valley `veteran`.\n\n> AI 引发的兴奋之情使得我们难以分辨炒作和现实。2017 年最后一个季度，全球上市公司在它们的财报中提到 AI 和机器学习多达 700 多次，是 2015 年同期的七倍（见图表）。硅谷资深人士汤姆·西贝尔开玩笑说，这么多公司在兜售尚未证实价值的 AI 技术，应该有人来开办一个“AI 假新闻”频道了。\n\n![Machine_earning](http://p961k62e6.bkt.clouddn.com/20180331/Machine%20earning.PNG)\n\n\n\nBosses must keep several time horizons in mind. In the near future AI will reshape traditional business functions such as finance, HR and customer service, according to Michael Chui of the McKinsey Global Institute, a `think-tank` within a consultancy. But over time it will also `disrupt` whole industries, for example by powering the rise of autonomous vehicles or the discovery of entirely new drug combinations. Where as humans may have `preconceptions` about which product designs or drug combinations are likely to work best, algorithms are more likely to come up with `novel solutions`.\n\n> 老板们必须记住几个时间跨度。根据咨询公司麦肯锡下属智库麦肯锡全球研究所的迈克尔·崔的说法，在不久的将来，人工智能将重塑传统的商业功能，如金融、人力资源和客户服务。但随着时间的推移，它也将颠覆行业整体，比如通过推动无人驾驶汽车兴起和发现全新的药物组合等。人类对于哪种产品设计或药物组合可能取得最佳效果也许已有成见，而算法更可能提出新的解决方案。\n\n\n\nIn private, many bosses are more interested in the potential cost and labour savings than in the broader opportunities AI might bring, says John Hagel of Deloitte, a consultancy. That is certainly not good for workers, but nor, `ultimately`, is it good for business. “If you just cut costs and don’t increase value for customers, you’re going to be out of the game,” he says. Some companies may not actually `eliminate` existing jobs but use technology to avoid creating new ones. And workers who keep their jobs are more likely to feel spied on by their employers. Some firms already use AI to comb through their workers’ communications to ensure that they are not breaking the law. Such practices will spread, raising privacy issues.\n\n> 咨询公司德勤的约翰·哈格尔表示，私下里，许多企业老板更为关注 AI 能帮助节省多少成本和劳动力，而不是它可能带来的更广泛机遇。这对工人来说当然不是好事，但最终也会对企业不利。他表示：“如果你只是削减成本，而不增加为客户带来的价值，那你就会出局。”一些公司实际上或许并不会削减现有岗位，但会利用技术来避免增员。而那些保住了工作的工人更可能感到被雇主暗中监视。一些公司已经在使用 AI 查看员工的聊天记录，以确保他们不违法。这类做法将日益普遍，从而引发隐私问题。\n\n\n\n<u>A longer-term concern is the way</u> AI creates a `virtuous circle` or “fly wheel” effect, allowing companies that `embrace` it to operate more efficiently, generate more data, improve their services, attract more customers and offer lower prices. That sounds like a good thing, but it could also lead to more `corporate concentration` and `monopoly` power—as has already happened in the technology sector.\n\n> 从更长远的视角来看，人工智能创造了一个良性循环或“飞轮”效应，允许接受它的公司更有效地运作，产生更多的数据，改善服务，吸引更多的客户，并提供更低的价格。这听起来像是一件好事，但它也可能导致更多的企业集中度和垄断权力——就像科技行业已经发生的那样。 \n\n\n\n------\n\n\n\n## Related Articles | 相关文章\n\n\n> * [How AI can make businesses look more caring ?](http://divinerhjf.com \"Customer service Here to help\")\n> * [AI is making companies swifter, cleverer and leaner.](http://divinerhjf.com \"Supply chains In algorithms we trust\")\n> * [AI with mainly be good for business, but mind the pitfalls.](http://divinerhjf.com \"The future Two-faced\")\n> * [AI is changing the way firms screen, hire and manage their talent.](http://divinerhjf.com \"Human resources Hire education\")\n> * [AI will make workplaces more efficient, safer -- and much creepier.](http://divinerhjf.com \"Future workplaces Smile, you're on camera\")\n> * [A thriving ecosystem has sprung up to offer AI expertise and technical help.](http://divinerhjf.com \"External providers Leave it to the experts\")\n","source":"_posts/2018-05-23-经济学人-人工智能系列1.md","raw":"---\ntitle: 经济学人-人工智能系列1\ndate: 2018-05-23 18:39:18\ncategories: \n    - 经济学人\ntags: \n    - 经济学人\n    - 人工智能\n    - 译文\nnotshow: true\n---\n\n<center><i>\n    本文选自伦敦经济学人报纸有限公司出版的杂志 《The Economist》 MARCH 31ST–APRIL 6TH 2018 中的特别报道部分，文章总括性地介绍了人工智能技术给各行各业带来的机遇与挑战，属于人工智能专题系列报道中的第一部分。\n</i></center>\n\n<br />![人工智能](http://p961k62e6.bkt.clouddn.com/20180331/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD.jpg)\n<!--more-->\n\n*Artificial intelligence in business*  \n\n# GrAIt expectations | 伟大前程 \n\n**Artificial intelligence is spreading beyond the technology sector, with big consequences for companies, workers and consumers,  says Alexandra Suich Bass**\n\n> 人工智能的传播已超越技术领域，给企业、员工和消费者带来了重大影响，本文作者亚历山德拉·苏伊希·巴斯观察认为\n\n![ai2](http://p961k62e6.bkt.clouddn.com/20180331/ai2.jpg)\n\n\n\n`LIE DETECTORS` are not widely used in business, but PingAn, a Chinese insurance company, thinks it can spot dishonesty. The company lets customers apply for `loans` through its app. `Prospective` borrowers answer questions about their income and `plans for repayment` by video, which monitors around 50 tiny facial expressions to determine whether they are telling the truth. The program, enabled by artificial intelligence (AI), helps `pinpoint` customers who require further `scrutiny`.\n\n> 测谎仪并未在企业中得到广泛应用，但中国平安保险公司相信自己能探测谎言。这家公司让客户通过它的一款应用程序来申请贷款。预期的贷款人在视频中回答有关收入和还款计划的问题。视频会监视他们的大概50个细微面部表情，依此判断他们是否在说真话。这套由人工智能驱动的程序帮助筛查出需要进一步详细审核的客户。\n\n\n\nAI will change more than borrowers’ bank balances. Johnson & Johnson, a consumer-goods firm, and Accenture, a `consultancy`, use AI to sort through job applications and pick the best `candidates`. AI helps Caesars, a `casino` and hotel group, guess customers’ likely spending and offer `personalised promotions` to draw them in. Bloomberg, a media and financial-information firm, uses AI to scan `companies’ earnings releases` and automatically generate news articles. Vodafone, a `mobile operator`, can predict problems with its network and with users’ `devices` before they arise. Companies in every industry use AI to monitor `cyber-security threats` and other risks, such as `disgruntled` employees.\n\n> AI 将改变的不仅仅是贷款人的账户余额。消费品公司强生（ Johnson & Johnson ）和咨询公司埃森哲（ Accenture ）用 AI 查看应聘申请书，筛选出最佳人选。AI 帮助赌场和酒店集团凯撒娱乐（ Caesars ）估测客人的消费水平，提供个性化促销来吸引他们。媒体和金融信息公司彭博（ Bloomberg ）用 AI 扫描企业财报，自动生成新闻报道。移动运营商沃达丰（ Vodafone ）用 AI 监测其网络和用户设备，提前预警故障。各行各业的公司都在使用 AI 监控网络安全威胁和其他风险，比如心怀不满的员工。\n\n\n\nInstead of relying on `gut instinct` and `rough estimates`, cleverer and speedier AI-powered predictions promise to make businesses much more efficient. At Leroy Merlin, a French home-improvement `retailer`, managers used to order new stock on Fridays, but defaulted to the same items as the week before so they could start their weekend sooner. The firm now uses `algorithms` to take in past sales data and other information that could affect sales, such as weather forecasts, in order to `stock shelves` more effectively. That has helped it reduce its `inventory` by 8% even as sales have risen by 2%, says Manuel Davy of Vekia, the AI `startup` that engineered the program.\n\n> 相比依赖直觉和粗略的估算，更聪明也更快速的 AI 预测将帮助企业大幅提高效率。法国家居装饰零售商乐华梅兰（ Leroy Merlin ）的管理层以前每周五下新订单，默认的设置是重复前一周的订单，这样大家可以早点下班过周末。现在，公司用算法来斟酌历史销售数据和天气预报等其他可能影响销售的信息，以更有效地安排库存。按创建该算法的 AI 创业公司 Vekia 的曼纽尔·戴维说，这帮助该公司将库存减少了8%，同时销售额却增长了2%。\n\n\n\nAI and machine learning (terms that are often used `interchangeably`) involve computers crunchingvast quantities ofdata to find `patterns` and make predictions without being `explicitly` programmed to do so. Larger quantities of data, more `sophisticated` algorithms and `sheer` computing power have given AI greater force and capability. The outcomes are often similar to what `an army of` statisticians with unlimited time and resources might have come up with, but they are achieved far more quickly, cheaply and efficiently.\n\n> AI 和机器学习（这两个术语常被混用）用计算机处理查看海量数据，从中找出模式并做出预测，而不需要编程来作出明确的指示。更多数据、更复杂的算法和更高的计算能力已经赋予了 AI 更强大的能力。它得出的结果往往和一大批拥有无限时间和资源的统计师所得的差不多，但它远为快速、便宜和高效。\n\n\n\nOne of AI’s main effects will be a `dramatic drop` in the cost of making predictions, says Ajay Agrawal of the University of Toronto and co-author of a new book, “Prediction Machines”. Just as electricity made lighting much more affordable—a given level of lighting now costs around 400 times less than it did in 1800—so AI will make forecasting more affordable, reliable and widely available.\n\n> AI 的主要成果之一是将令预测的成本大幅下降，新书《预测机器》的合著者、多伦多大学的阿杰伊·阿格拉沃尔表示。就像电力让照明成本比 1800 年时降低了 400 倍左右——AI 会让做预测更便宜、更可靠、更普及。\n\n\n\nComputers have been able to read text and numbers for decades, but have only recently learned to see, hear and speak. AI is an `omnibus term` for a “salad bowl” of different segments and `disciplines`, says Fei-Fei Li, director of Stanford’s AI Lab and an `executive` at Google’s cloud-computing unit. `Subsections` of AI include robotics, which is changing factories and `assembly` lines, and computer vision, used in applications from identifying something or someone in a photo to self-driving-car technology. Computer vision is AI’s “killer app”, saysMs Li, because it can be used in so many settings, but AI has also become more adept at `recognising speech`. It `underlies` voice assistants on phones and home speakers and allows algorithms to listen to calls and take in the speaker’s `tone` and content.\n\n> 计算机几十年前就已经可以阅读文本和数字了，但直到最近才学会了看、听、说。AI 是一个综合性术语，就像是涵盖了不同领域和学科的“一碗色拉”，斯坦福大学人工智能实验室主管、谷歌云计算部门负责人李飞飞说。AI 的下属分支包括正在改变工厂和装配线的机器人技术，以及部署在各种应用程序中的计算机视觉——从识别照片中的人或物到无人驾驶汽车技术等。李飞飞说，计算机视觉是 AI 的“杀手级应用”，因为运用场合是如此之多，但 AI 在语音识别方面也已变得更加娴熟。它在配备在手机和家用音响上的语音助理的技术基础，还让算法能够监听来电并识别说话者的语调和内容。\n\n\n\n## Techtonic shifts | 技术板块迁移\n\nUntil now the main `beneficiary` of AI has been the technology sector. Most of today’s leading tech firms, such as Google and Amazon in the West and Alibaba and Baidu in China, would not be as big and successful without AI for `product recommendations`, `targeted advertising` and `forecasting demand`. Amazon, for example, uses AI widely, for tasks such as guiding robots in its warehouses and optimising `packing` and `delivery`, as well as detecting `counterfeit goods` and powering its speaker, Alexa. Alibaba, a Chinese `rival`, also `makes extensive use of` AI, for example in `logistics`; and its online-payments `affiliate`, Ant Financial, is `experimenting` with facial recognition for `approving transactions`. Sundar Pichai, Google’s boss, has said that AI will have a “more `profound`” impact than electricity or fire.\n\n> 到目前为止，AI 的主要受益者一直是技术部门。若果没有 AI 帮助实现产品推荐、定向广告和需求预测，那么当今大多数科技领军企业，比如西方的谷歌和亚马逊以及中国的阿里巴巴和百度，都不会发展到今天这般庞大且成功。举例来说，亚马逊广泛使用 AI 来完成各种任务，诸如在仓库中指示机器人工作、优化包装和运送、检测假货，支持其智能音箱 Alexa 等。它的竞争对手，中国的阿里巴巴也在物流等部门广泛运用 AI，其在线支付分支机构蚂蚁金服正测试使用面部识别来核准交易。谷歌执行长桑达尔·皮查伊曾经说过，AI 将产生比电或火“更深远”的影响。\n\n\n\nBosses of non-tech companies in `a broad range of` industries are starting to worry that AI could `scorch` or even `incinerate` them, and have been buying up `promising` young tech firms to ensure they do not fall behind. In 2017 firms worldwide spent around \\$21.8bn on `mergers and acquisitions` related to AI, according to PitchBook, a data provider, about 26 times more than in 2015 (see chart). They are doing this partly to `secure` talent, <u>which is thin on the ground</u>. Startups without revenue are `fetching prices` that amount to \\$5m-10m per AI expert.\n\n> 然而各行各业的非科技公司老板们已经开始担心，AI 可能会冲击甚至毁灭自己，因而他们纷纷收购看起来颇有前途的年轻科技公司，以确保自己不落人后。据数据供应商 PitchBook 统计，2017 年全球企业在 AI 相关并购上的支出约达 218 亿美元，比 2015 年增长约 26 倍（见图表）。它们这样做的部分原因是为获得目前仍相当稀缺的 AI 人才。尚未产生收入的创业公司为聘请一名 AI 专家花费多达 500 万至 1000 万美元。\n\n![Artificial sweeteners](http://p961k62e6.bkt.clouddn.com/20180331/Artificial_sweeteners.PNG)\n\n\n\nAs AI spreads beyond the tech sector, it will `fuel` the rise of new firms that challenge `incumbents`. This is already happening in the car industry, with `autonomous-vehicle` startups and `ride-hailing` firms such as Uber. But it will also change the way other companies work, transforming traditional functions such as supply-chain management, customer service and `recruitment`.\n\n> 随着 AI 传播到科技行业之外，它将推动新企业的崛起，为成熟企业带来挑战。这已经在汽车产业里发生——AI 催生了无人驾驶汽车创业公司和优步等网约车公司。但它也将改变其他企业的运作方式，改变供应链管理、客服和招聘等传统职能。\n\n\n\nThe path ahead is `exhilarating but perilous`. Around 85% of companies think AI will offer a competitive advantage, but only one in 20 is “`extensively`” employing it today, according to a report by MIT’s *Sloan*\n*Management Review* and the Boston Consulting Group. Large companies and industries, such as finance, that generate a lot of data, tend to be ahead and often build their own `AI-enhanced systems`. But many firms will choose to work with `the growing array of` independent AI `vendors`, including cloud providers, `consultants` and startups.\n\n>前路令人振奋却也危险重重。根据麻省理工学院的《斯隆管理评论》和波士顿咨询集团联合撰写的报告，约 85% 的企业认为 AI 将带来竞争优势，但只有 5% 的公司正在“广泛”地使用它。生成大量数据的大企业和金融等行业往往走在前头，常常建立自己的 AI 增强系统。但许多企业会选择与队伍不断扩大的独立 AI 供应商合作，包括云供应商、咨询公司和创业公司等。\n\n\n\nThis is not just a `corporate race` but an international one, too, especially between America and China. <u>Chinese firms have an early edge</u>, `not least` because the government keeps a vast database of faces that can help train facial-recognition algorithms; and `privacy` is less of a concern than in the West.\n\n> 这不仅是一项企业竞赛，也是一场国际竞逐——尤其在中美之间。中国企业有一个先发优势，这主要是因为中国政府拥有一个庞大的人脸数据库，可以用来训练面部识别算法。而且，与西方相比，中国人对隐私也不那么关切。\n\n\n\nThere will be plenty of opportunities to `stumble`. One difficult issue for companies will be `timing`. Roy Bahat of Bloomberg Beta, a `venture-capital firm`, <u>draws a parallel between now and the first dotcom boom of the late 1990s</u>: “Companies are flailing to figure out what to spend money on.” If they invest huge sums in AI early on, they run the risk of `overcommitting themselves` or paying large amounts for worthless startups, as many did in the early days of the internet. But if they wait too long, they may leave themselves open to `disruption` from upstarts, as well as from `rivals` that were quicker to harness technology.\n\n> 跌跤的机会很多。企业面临的难题之一是对时机的把握。风险投资公司 Bloomberg Beta 的罗伊·巴哈特把眼下的状况比作上世纪 90 年代末的首个互联网泡沫期：“对于该往哪儿投钱，企业无所适从。”如果它们早早地在 AI 上投入巨资，就要冒对一文不值的创业公司过度依赖或为之浪费大笔金钱的风险，就像互联网早期许多公司的经历那样。但如果它们等得太久，又有可能把自己置于被市场新贵颠覆的境地，还可能被更快掌握了新技术的竞争对手冲击。\n\n\n\nSome may have been `misled` by `glowing` media reports, believing AI to be a magic wand that can be installed as easily as a piece of Microsoft software, says Gautam Schroff of Tata Consultancy Services, an Indian firm. AI systems require `thorough` preparation of data, `intensive` monitoring of algorithms and a lot of `customisation` to be useful. Gurdeep Singh of Microsoft speaks of AI systems as “`idiots savants`”; they can easily do jobs that humans find `mind-boggling`, such as detecting tiny `flaws` in `manufactured goods` or quickly categorising millions of photos of faces, but have trouble with things that people find easy, such as basic `reasoning`. Back in 1956, when `academic` researchers held their first `gathering to discuss AI`, they were looking for a way to `imbue` machines with human-like “general” intelligence, including complex reasoning. But that remains a `distant aspiration`.\n\n> 还有些企业可能被媒体天花乱坠的报道误导，以为 AI 就是一根魔法棒，像微软的软件一样容易安装，印度公司塔塔咨询服务的高塔姆·施罗夫说。AI 系统需要全面细致地准备数据、深入地监测算法和大量的定制才能发挥用处。微软的格迪普·辛格称 AI 系统为“白痴专家”——它们能轻易完成让人类望而却步的艰巨任务，比如检测制成品中的细小瑕疵，或给数百万人脸照片快速分类，但在那些对人类而言轻而易举的任务上（比如基础推理）却遇到麻烦。早在 1956 年学术研究人员举行首次 AI 研讨会时，他们就在寻找办法来赋予机器像人类那样的“一般”智能，包括复杂推理的能力。但直到今天，这仍是一种遥遥无期的向往。\n\n\n\nThe `excitement` around AI has made it hard to `separate hype from reality`. In the last quarter of 2017 public companies across the world `mentioned` AI and machine learning in their earnings reports more than 700 times, seven times as often as in the same period in 2015 (see chart). There are so many firms `peddling` AI `capabilities` of `unproven value` that someone should start “an AI fake news” channel, `quips` Tom Siebel, a Silicon Valley `veteran`.\n\n> AI 引发的兴奋之情使得我们难以分辨炒作和现实。2017 年最后一个季度，全球上市公司在它们的财报中提到 AI 和机器学习多达 700 多次，是 2015 年同期的七倍（见图表）。硅谷资深人士汤姆·西贝尔开玩笑说，这么多公司在兜售尚未证实价值的 AI 技术，应该有人来开办一个“AI 假新闻”频道了。\n\n![Machine_earning](http://p961k62e6.bkt.clouddn.com/20180331/Machine%20earning.PNG)\n\n\n\nBosses must keep several time horizons in mind. In the near future AI will reshape traditional business functions such as finance, HR and customer service, according to Michael Chui of the McKinsey Global Institute, a `think-tank` within a consultancy. But over time it will also `disrupt` whole industries, for example by powering the rise of autonomous vehicles or the discovery of entirely new drug combinations. Where as humans may have `preconceptions` about which product designs or drug combinations are likely to work best, algorithms are more likely to come up with `novel solutions`.\n\n> 老板们必须记住几个时间跨度。根据咨询公司麦肯锡下属智库麦肯锡全球研究所的迈克尔·崔的说法，在不久的将来，人工智能将重塑传统的商业功能，如金融、人力资源和客户服务。但随着时间的推移，它也将颠覆行业整体，比如通过推动无人驾驶汽车兴起和发现全新的药物组合等。人类对于哪种产品设计或药物组合可能取得最佳效果也许已有成见，而算法更可能提出新的解决方案。\n\n\n\nIn private, many bosses are more interested in the potential cost and labour savings than in the broader opportunities AI might bring, says John Hagel of Deloitte, a consultancy. That is certainly not good for workers, but nor, `ultimately`, is it good for business. “If you just cut costs and don’t increase value for customers, you’re going to be out of the game,” he says. Some companies may not actually `eliminate` existing jobs but use technology to avoid creating new ones. And workers who keep their jobs are more likely to feel spied on by their employers. Some firms already use AI to comb through their workers’ communications to ensure that they are not breaking the law. Such practices will spread, raising privacy issues.\n\n> 咨询公司德勤的约翰·哈格尔表示，私下里，许多企业老板更为关注 AI 能帮助节省多少成本和劳动力，而不是它可能带来的更广泛机遇。这对工人来说当然不是好事，但最终也会对企业不利。他表示：“如果你只是削减成本，而不增加为客户带来的价值，那你就会出局。”一些公司实际上或许并不会削减现有岗位，但会利用技术来避免增员。而那些保住了工作的工人更可能感到被雇主暗中监视。一些公司已经在使用 AI 查看员工的聊天记录，以确保他们不违法。这类做法将日益普遍，从而引发隐私问题。\n\n\n\n<u>A longer-term concern is the way</u> AI creates a `virtuous circle` or “fly wheel” effect, allowing companies that `embrace` it to operate more efficiently, generate more data, improve their services, attract more customers and offer lower prices. That sounds like a good thing, but it could also lead to more `corporate concentration` and `monopoly` power—as has already happened in the technology sector.\n\n> 从更长远的视角来看，人工智能创造了一个良性循环或“飞轮”效应，允许接受它的公司更有效地运作，产生更多的数据，改善服务，吸引更多的客户，并提供更低的价格。这听起来像是一件好事，但它也可能导致更多的企业集中度和垄断权力——就像科技行业已经发生的那样。 \n\n\n\n------\n\n\n\n## Related Articles | 相关文章\n\n\n> * [How AI can make businesses look more caring ?](http://divinerhjf.com \"Customer service Here to help\")\n> * [AI is making companies swifter, cleverer and leaner.](http://divinerhjf.com \"Supply chains In algorithms we trust\")\n> * [AI with mainly be good for business, but mind the pitfalls.](http://divinerhjf.com \"The future Two-faced\")\n> * [AI is changing the way firms screen, hire and manage their talent.](http://divinerhjf.com \"Human resources Hire education\")\n> * [AI will make workplaces more efficient, safer -- and much creepier.](http://divinerhjf.com \"Future workplaces Smile, you're on camera\")\n> * [A thriving ecosystem has sprung up to offer AI expertise and technical help.](http://divinerhjf.com \"External providers Leave it to the experts\")\n","slug":"2018-05-23-经济学人-人工智能系列1","published":1,"updated":"2018-07-07T11:11:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60ji000ojsuvb39scg5p","content":"<center><i>\n    本文选自伦敦经济学人报纸有限公司出版的杂志 《The Economist》 MARCH 31ST–APRIL 6TH 2018 中的特别报道部分，文章总括性地介绍了人工智能技术给各行各业带来的机遇与挑战，属于人工智能专题系列报道中的第一部分。\n</i></center>\n\n<p><br><img src=\"http://p961k62e6.bkt.clouddn.com/20180331/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD.jpg\" alt=\"人工智能\"><br><a id=\"more\"></a></p>\n<p><em>Artificial intelligence in business</em>  </p>\n<h1 id=\"GrAIt-expectations-伟大前程\"><a href=\"#GrAIt-expectations-伟大前程\" class=\"headerlink\" title=\"GrAIt expectations | 伟大前程\"></a>GrAIt expectations | 伟大前程</h1><p><strong>Artificial intelligence is spreading beyond the technology sector, with big consequences for companies, workers and consumers,  says Alexandra Suich Bass</strong></p>\n<blockquote>\n<p>人工智能的传播已超越技术领域，给企业、员工和消费者带来了重大影响，本文作者亚历山德拉·苏伊希·巴斯观察认为</p>\n</blockquote>\n<p><img src=\"http://p961k62e6.bkt.clouddn.com/20180331/ai2.jpg\" alt=\"ai2\"></p>\n<p><code>LIE DETECTORS</code> are not widely used in business, but PingAn, a Chinese insurance company, thinks it can spot dishonesty. The company lets customers apply for <code>loans</code> through its app. <code>Prospective</code> borrowers answer questions about their income and <code>plans for repayment</code> by video, which monitors around 50 tiny facial expressions to determine whether they are telling the truth. The program, enabled by artificial intelligence (AI), helps <code>pinpoint</code> customers who require further <code>scrutiny</code>.</p>\n<blockquote>\n<p>测谎仪并未在企业中得到广泛应用，但中国平安保险公司相信自己能探测谎言。这家公司让客户通过它的一款应用程序来申请贷款。预期的贷款人在视频中回答有关收入和还款计划的问题。视频会监视他们的大概50个细微面部表情，依此判断他们是否在说真话。这套由人工智能驱动的程序帮助筛查出需要进一步详细审核的客户。</p>\n</blockquote>\n<p>AI will change more than borrowers’ bank balances. Johnson &amp; Johnson, a consumer-goods firm, and Accenture, a <code>consultancy</code>, use AI to sort through job applications and pick the best <code>candidates</code>. AI helps Caesars, a <code>casino</code> and hotel group, guess customers’ likely spending and offer <code>personalised promotions</code> to draw them in. Bloomberg, a media and financial-information firm, uses AI to scan <code>companies’ earnings releases</code> and automatically generate news articles. Vodafone, a <code>mobile operator</code>, can predict problems with its network and with users’ <code>devices</code> before they arise. Companies in every industry use AI to monitor <code>cyber-security threats</code> and other risks, such as <code>disgruntled</code> employees.</p>\n<blockquote>\n<p>AI 将改变的不仅仅是贷款人的账户余额。消费品公司强生（ Johnson &amp; Johnson ）和咨询公司埃森哲（ Accenture ）用 AI 查看应聘申请书，筛选出最佳人选。AI 帮助赌场和酒店集团凯撒娱乐（ Caesars ）估测客人的消费水平，提供个性化促销来吸引他们。媒体和金融信息公司彭博（ Bloomberg ）用 AI 扫描企业财报，自动生成新闻报道。移动运营商沃达丰（ Vodafone ）用 AI 监测其网络和用户设备，提前预警故障。各行各业的公司都在使用 AI 监控网络安全威胁和其他风险，比如心怀不满的员工。</p>\n</blockquote>\n<p>Instead of relying on <code>gut instinct</code> and <code>rough estimates</code>, cleverer and speedier AI-powered predictions promise to make businesses much more efficient. At Leroy Merlin, a French home-improvement <code>retailer</code>, managers used to order new stock on Fridays, but defaulted to the same items as the week before so they could start their weekend sooner. The firm now uses <code>algorithms</code> to take in past sales data and other information that could affect sales, such as weather forecasts, in order to <code>stock shelves</code> more effectively. That has helped it reduce its <code>inventory</code> by 8% even as sales have risen by 2%, says Manuel Davy of Vekia, the AI <code>startup</code> that engineered the program.</p>\n<blockquote>\n<p>相比依赖直觉和粗略的估算，更聪明也更快速的 AI 预测将帮助企业大幅提高效率。法国家居装饰零售商乐华梅兰（ Leroy Merlin ）的管理层以前每周五下新订单，默认的设置是重复前一周的订单，这样大家可以早点下班过周末。现在，公司用算法来斟酌历史销售数据和天气预报等其他可能影响销售的信息，以更有效地安排库存。按创建该算法的 AI 创业公司 Vekia 的曼纽尔·戴维说，这帮助该公司将库存减少了8%，同时销售额却增长了2%。</p>\n</blockquote>\n<p>AI and machine learning (terms that are often used <code>interchangeably</code>) involve computers crunchingvast quantities ofdata to find <code>patterns</code> and make predictions without being <code>explicitly</code> programmed to do so. Larger quantities of data, more <code>sophisticated</code> algorithms and <code>sheer</code> computing power have given AI greater force and capability. The outcomes are often similar to what <code>an army of</code> statisticians with unlimited time and resources might have come up with, but they are achieved far more quickly, cheaply and efficiently.</p>\n<blockquote>\n<p>AI 和机器学习（这两个术语常被混用）用计算机处理查看海量数据，从中找出模式并做出预测，而不需要编程来作出明确的指示。更多数据、更复杂的算法和更高的计算能力已经赋予了 AI 更强大的能力。它得出的结果往往和一大批拥有无限时间和资源的统计师所得的差不多，但它远为快速、便宜和高效。</p>\n</blockquote>\n<p>One of AI’s main effects will be a <code>dramatic drop</code> in the cost of making predictions, says Ajay Agrawal of the University of Toronto and co-author of a new book, “Prediction Machines”. Just as electricity made lighting much more affordable—a given level of lighting now costs around 400 times less than it did in 1800—so AI will make forecasting more affordable, reliable and widely available.</p>\n<blockquote>\n<p>AI 的主要成果之一是将令预测的成本大幅下降，新书《预测机器》的合著者、多伦多大学的阿杰伊·阿格拉沃尔表示。就像电力让照明成本比 1800 年时降低了 400 倍左右——AI 会让做预测更便宜、更可靠、更普及。</p>\n</blockquote>\n<p>Computers have been able to read text and numbers for decades, but have only recently learned to see, hear and speak. AI is an <code>omnibus term</code> for a “salad bowl” of different segments and <code>disciplines</code>, says Fei-Fei Li, director of Stanford’s AI Lab and an <code>executive</code> at Google’s cloud-computing unit. <code>Subsections</code> of AI include robotics, which is changing factories and <code>assembly</code> lines, and computer vision, used in applications from identifying something or someone in a photo to self-driving-car technology. Computer vision is AI’s “killer app”, saysMs Li, because it can be used in so many settings, but AI has also become more adept at <code>recognising speech</code>. It <code>underlies</code> voice assistants on phones and home speakers and allows algorithms to listen to calls and take in the speaker’s <code>tone</code> and content.</p>\n<blockquote>\n<p>计算机几十年前就已经可以阅读文本和数字了，但直到最近才学会了看、听、说。AI 是一个综合性术语，就像是涵盖了不同领域和学科的“一碗色拉”，斯坦福大学人工智能实验室主管、谷歌云计算部门负责人李飞飞说。AI 的下属分支包括正在改变工厂和装配线的机器人技术，以及部署在各种应用程序中的计算机视觉——从识别照片中的人或物到无人驾驶汽车技术等。李飞飞说，计算机视觉是 AI 的“杀手级应用”，因为运用场合是如此之多，但 AI 在语音识别方面也已变得更加娴熟。它在配备在手机和家用音响上的语音助理的技术基础，还让算法能够监听来电并识别说话者的语调和内容。</p>\n</blockquote>\n<h2 id=\"Techtonic-shifts-技术板块迁移\"><a href=\"#Techtonic-shifts-技术板块迁移\" class=\"headerlink\" title=\"Techtonic shifts | 技术板块迁移\"></a>Techtonic shifts | 技术板块迁移</h2><p>Until now the main <code>beneficiary</code> of AI has been the technology sector. Most of today’s leading tech firms, such as Google and Amazon in the West and Alibaba and Baidu in China, would not be as big and successful without AI for <code>product recommendations</code>, <code>targeted advertising</code> and <code>forecasting demand</code>. Amazon, for example, uses AI widely, for tasks such as guiding robots in its warehouses and optimising <code>packing</code> and <code>delivery</code>, as well as detecting <code>counterfeit goods</code> and powering its speaker, Alexa. Alibaba, a Chinese <code>rival</code>, also <code>makes extensive use of</code> AI, for example in <code>logistics</code>; and its online-payments <code>affiliate</code>, Ant Financial, is <code>experimenting</code> with facial recognition for <code>approving transactions</code>. Sundar Pichai, Google’s boss, has said that AI will have a “more <code>profound</code>” impact than electricity or fire.</p>\n<blockquote>\n<p>到目前为止，AI 的主要受益者一直是技术部门。若果没有 AI 帮助实现产品推荐、定向广告和需求预测，那么当今大多数科技领军企业，比如西方的谷歌和亚马逊以及中国的阿里巴巴和百度，都不会发展到今天这般庞大且成功。举例来说，亚马逊广泛使用 AI 来完成各种任务，诸如在仓库中指示机器人工作、优化包装和运送、检测假货，支持其智能音箱 Alexa 等。它的竞争对手，中国的阿里巴巴也在物流等部门广泛运用 AI，其在线支付分支机构蚂蚁金服正测试使用面部识别来核准交易。谷歌执行长桑达尔·皮查伊曾经说过，AI 将产生比电或火“更深远”的影响。</p>\n</blockquote>\n<p>Bosses of non-tech companies in <code>a broad range of</code> industries are starting to worry that AI could <code>scorch</code> or even <code>incinerate</code> them, and have been buying up <code>promising</code> young tech firms to ensure they do not fall behind. In 2017 firms worldwide spent around \\$21.8bn on <code>mergers and acquisitions</code> related to AI, according to PitchBook, a data provider, about 26 times more than in 2015 (see chart). They are doing this partly to <code>secure</code> talent, <u>which is thin on the ground</u>. Startups without revenue are <code>fetching prices</code> that amount to \\$5m-10m per AI expert.</p>\n<blockquote>\n<p>然而各行各业的非科技公司老板们已经开始担心，AI 可能会冲击甚至毁灭自己，因而他们纷纷收购看起来颇有前途的年轻科技公司，以确保自己不落人后。据数据供应商 PitchBook 统计，2017 年全球企业在 AI 相关并购上的支出约达 218 亿美元，比 2015 年增长约 26 倍（见图表）。它们这样做的部分原因是为获得目前仍相当稀缺的 AI 人才。尚未产生收入的创业公司为聘请一名 AI 专家花费多达 500 万至 1000 万美元。</p>\n</blockquote>\n<p><img src=\"http://p961k62e6.bkt.clouddn.com/20180331/Artificial_sweeteners.PNG\" alt=\"Artificial sweeteners\"></p>\n<p>As AI spreads beyond the tech sector, it will <code>fuel</code> the rise of new firms that challenge <code>incumbents</code>. This is already happening in the car industry, with <code>autonomous-vehicle</code> startups and <code>ride-hailing</code> firms such as Uber. But it will also change the way other companies work, transforming traditional functions such as supply-chain management, customer service and <code>recruitment</code>.</p>\n<blockquote>\n<p>随着 AI 传播到科技行业之外，它将推动新企业的崛起，为成熟企业带来挑战。这已经在汽车产业里发生——AI 催生了无人驾驶汽车创业公司和优步等网约车公司。但它也将改变其他企业的运作方式，改变供应链管理、客服和招聘等传统职能。</p>\n</blockquote>\n<p>The path ahead is <code>exhilarating but perilous</code>. Around 85% of companies think AI will offer a competitive advantage, but only one in 20 is “<code>extensively</code>” employing it today, according to a report by MIT’s <em>Sloan</em><br><em>Management Review</em> and the Boston Consulting Group. Large companies and industries, such as finance, that generate a lot of data, tend to be ahead and often build their own <code>AI-enhanced systems</code>. But many firms will choose to work with <code>the growing array of</code> independent AI <code>vendors</code>, including cloud providers, <code>consultants</code> and startups.</p>\n<blockquote>\n<p>前路令人振奋却也危险重重。根据麻省理工学院的《斯隆管理评论》和波士顿咨询集团联合撰写的报告，约 85% 的企业认为 AI 将带来竞争优势，但只有 5% 的公司正在“广泛”地使用它。生成大量数据的大企业和金融等行业往往走在前头，常常建立自己的 AI 增强系统。但许多企业会选择与队伍不断扩大的独立 AI 供应商合作，包括云供应商、咨询公司和创业公司等。</p>\n</blockquote>\n<p>This is not just a <code>corporate race</code> but an international one, too, especially between America and China. <u>Chinese firms have an early edge</u>, <code>not least</code> because the government keeps a vast database of faces that can help train facial-recognition algorithms; and <code>privacy</code> is less of a concern than in the West.</p>\n<blockquote>\n<p>这不仅是一项企业竞赛，也是一场国际竞逐——尤其在中美之间。中国企业有一个先发优势，这主要是因为中国政府拥有一个庞大的人脸数据库，可以用来训练面部识别算法。而且，与西方相比，中国人对隐私也不那么关切。</p>\n</blockquote>\n<p>There will be plenty of opportunities to <code>stumble</code>. One difficult issue for companies will be <code>timing</code>. Roy Bahat of Bloomberg Beta, a <code>venture-capital firm</code>, <u>draws a parallel between now and the first dotcom boom of the late 1990s</u>: “Companies are flailing to figure out what to spend money on.” If they invest huge sums in AI early on, they run the risk of <code>overcommitting themselves</code> or paying large amounts for worthless startups, as many did in the early days of the internet. But if they wait too long, they may leave themselves open to <code>disruption</code> from upstarts, as well as from <code>rivals</code> that were quicker to harness technology.</p>\n<blockquote>\n<p>跌跤的机会很多。企业面临的难题之一是对时机的把握。风险投资公司 Bloomberg Beta 的罗伊·巴哈特把眼下的状况比作上世纪 90 年代末的首个互联网泡沫期：“对于该往哪儿投钱，企业无所适从。”如果它们早早地在 AI 上投入巨资，就要冒对一文不值的创业公司过度依赖或为之浪费大笔金钱的风险，就像互联网早期许多公司的经历那样。但如果它们等得太久，又有可能把自己置于被市场新贵颠覆的境地，还可能被更快掌握了新技术的竞争对手冲击。</p>\n</blockquote>\n<p>Some may have been <code>misled</code> by <code>glowing</code> media reports, believing AI to be a magic wand that can be installed as easily as a piece of Microsoft software, says Gautam Schroff of Tata Consultancy Services, an Indian firm. AI systems require <code>thorough</code> preparation of data, <code>intensive</code> monitoring of algorithms and a lot of <code>customisation</code> to be useful. Gurdeep Singh of Microsoft speaks of AI systems as “<code>idiots savants</code>”; they can easily do jobs that humans find <code>mind-boggling</code>, such as detecting tiny <code>flaws</code> in <code>manufactured goods</code> or quickly categorising millions of photos of faces, but have trouble with things that people find easy, such as basic <code>reasoning</code>. Back in 1956, when <code>academic</code> researchers held their first <code>gathering to discuss AI</code>, they were looking for a way to <code>imbue</code> machines with human-like “general” intelligence, including complex reasoning. But that remains a <code>distant aspiration</code>.</p>\n<blockquote>\n<p>还有些企业可能被媒体天花乱坠的报道误导，以为 AI 就是一根魔法棒，像微软的软件一样容易安装，印度公司塔塔咨询服务的高塔姆·施罗夫说。AI 系统需要全面细致地准备数据、深入地监测算法和大量的定制才能发挥用处。微软的格迪普·辛格称 AI 系统为“白痴专家”——它们能轻易完成让人类望而却步的艰巨任务，比如检测制成品中的细小瑕疵，或给数百万人脸照片快速分类，但在那些对人类而言轻而易举的任务上（比如基础推理）却遇到麻烦。早在 1956 年学术研究人员举行首次 AI 研讨会时，他们就在寻找办法来赋予机器像人类那样的“一般”智能，包括复杂推理的能力。但直到今天，这仍是一种遥遥无期的向往。</p>\n</blockquote>\n<p>The <code>excitement</code> around AI has made it hard to <code>separate hype from reality</code>. In the last quarter of 2017 public companies across the world <code>mentioned</code> AI and machine learning in their earnings reports more than 700 times, seven times as often as in the same period in 2015 (see chart). There are so many firms <code>peddling</code> AI <code>capabilities</code> of <code>unproven value</code> that someone should start “an AI fake news” channel, <code>quips</code> Tom Siebel, a Silicon Valley <code>veteran</code>.</p>\n<blockquote>\n<p>AI 引发的兴奋之情使得我们难以分辨炒作和现实。2017 年最后一个季度，全球上市公司在它们的财报中提到 AI 和机器学习多达 700 多次，是 2015 年同期的七倍（见图表）。硅谷资深人士汤姆·西贝尔开玩笑说，这么多公司在兜售尚未证实价值的 AI 技术，应该有人来开办一个“AI 假新闻”频道了。</p>\n</blockquote>\n<p><img src=\"http://p961k62e6.bkt.clouddn.com/20180331/Machine%20earning.PNG\" alt=\"Machine_earning\"></p>\n<p>Bosses must keep several time horizons in mind. In the near future AI will reshape traditional business functions such as finance, HR and customer service, according to Michael Chui of the McKinsey Global Institute, a <code>think-tank</code> within a consultancy. But over time it will also <code>disrupt</code> whole industries, for example by powering the rise of autonomous vehicles or the discovery of entirely new drug combinations. Where as humans may have <code>preconceptions</code> about which product designs or drug combinations are likely to work best, algorithms are more likely to come up with <code>novel solutions</code>.</p>\n<blockquote>\n<p>老板们必须记住几个时间跨度。根据咨询公司麦肯锡下属智库麦肯锡全球研究所的迈克尔·崔的说法，在不久的将来，人工智能将重塑传统的商业功能，如金融、人力资源和客户服务。但随着时间的推移，它也将颠覆行业整体，比如通过推动无人驾驶汽车兴起和发现全新的药物组合等。人类对于哪种产品设计或药物组合可能取得最佳效果也许已有成见，而算法更可能提出新的解决方案。</p>\n</blockquote>\n<p>In private, many bosses are more interested in the potential cost and labour savings than in the broader opportunities AI might bring, says John Hagel of Deloitte, a consultancy. That is certainly not good for workers, but nor, <code>ultimately</code>, is it good for business. “If you just cut costs and don’t increase value for customers, you’re going to be out of the game,” he says. Some companies may not actually <code>eliminate</code> existing jobs but use technology to avoid creating new ones. And workers who keep their jobs are more likely to feel spied on by their employers. Some firms already use AI to comb through their workers’ communications to ensure that they are not breaking the law. Such practices will spread, raising privacy issues.</p>\n<blockquote>\n<p>咨询公司德勤的约翰·哈格尔表示，私下里，许多企业老板更为关注 AI 能帮助节省多少成本和劳动力，而不是它可能带来的更广泛机遇。这对工人来说当然不是好事，但最终也会对企业不利。他表示：“如果你只是削减成本，而不增加为客户带来的价值，那你就会出局。”一些公司实际上或许并不会削减现有岗位，但会利用技术来避免增员。而那些保住了工作的工人更可能感到被雇主暗中监视。一些公司已经在使用 AI 查看员工的聊天记录，以确保他们不违法。这类做法将日益普遍，从而引发隐私问题。</p>\n</blockquote>\n<p><u>A longer-term concern is the way</u> AI creates a <code>virtuous circle</code> or “fly wheel” effect, allowing companies that <code>embrace</code> it to operate more efficiently, generate more data, improve their services, attract more customers and offer lower prices. That sounds like a good thing, but it could also lead to more <code>corporate concentration</code> and <code>monopoly</code> power—as has already happened in the technology sector.</p>\n<blockquote>\n<p>从更长远的视角来看，人工智能创造了一个良性循环或“飞轮”效应，允许接受它的公司更有效地运作，产生更多的数据，改善服务，吸引更多的客户，并提供更低的价格。这听起来像是一件好事，但它也可能导致更多的企业集中度和垄断权力——就像科技行业已经发生的那样。 </p>\n</blockquote>\n<hr>\n<h2 id=\"Related-Articles-相关文章\"><a href=\"#Related-Articles-相关文章\" class=\"headerlink\" title=\"Related Articles | 相关文章\"></a>Related Articles | 相关文章</h2><blockquote>\n<ul>\n<li><a href=\"http://divinerhjf.com\" title=\"Customer service Here to help\" target=\"_blank\" rel=\"noopener\">How AI can make businesses look more caring ?</a></li>\n<li><a href=\"http://divinerhjf.com\" title=\"Supply chains In algorithms we trust\" target=\"_blank\" rel=\"noopener\">AI is making companies swifter, cleverer and leaner.</a></li>\n<li><a href=\"http://divinerhjf.com\" title=\"The future Two-faced\" target=\"_blank\" rel=\"noopener\">AI with mainly be good for business, but mind the pitfalls.</a></li>\n<li><a href=\"http://divinerhjf.com\" title=\"Human resources Hire education\" target=\"_blank\" rel=\"noopener\">AI is changing the way firms screen, hire and manage their talent.</a></li>\n<li><a href=\"http://divinerhjf.com\" title=\"Future workplaces Smile, you&#39;re on camera\" target=\"_blank\" rel=\"noopener\">AI will make workplaces more efficient, safer — and much creepier.</a></li>\n<li><a href=\"http://divinerhjf.com\" title=\"External providers Leave it to the experts\" target=\"_blank\" rel=\"noopener\">A thriving ecosystem has sprung up to offer AI expertise and technical help.</a></li>\n</ul>\n</blockquote>\n","site":{"data":{}},"excerpt":"<center><i>\n    本文选自伦敦经济学人报纸有限公司出版的杂志 《The Economist》 MARCH 31ST–APRIL 6TH 2018 中的特别报道部分，文章总括性地介绍了人工智能技术给各行各业带来的机遇与挑战，属于人工智能专题系列报道中的第一部分。\n</i></center>\n\n<p><br><img src=\"http://p961k62e6.bkt.clouddn.com/20180331/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD.jpg\" alt=\"人工智能\"><br>","more":"</p>\n<p><em>Artificial intelligence in business</em>  </p>\n<h1 id=\"GrAIt-expectations-伟大前程\"><a href=\"#GrAIt-expectations-伟大前程\" class=\"headerlink\" title=\"GrAIt expectations | 伟大前程\"></a>GrAIt expectations | 伟大前程</h1><p><strong>Artificial intelligence is spreading beyond the technology sector, with big consequences for companies, workers and consumers,  says Alexandra Suich Bass</strong></p>\n<blockquote>\n<p>人工智能的传播已超越技术领域，给企业、员工和消费者带来了重大影响，本文作者亚历山德拉·苏伊希·巴斯观察认为</p>\n</blockquote>\n<p><img src=\"http://p961k62e6.bkt.clouddn.com/20180331/ai2.jpg\" alt=\"ai2\"></p>\n<p><code>LIE DETECTORS</code> are not widely used in business, but PingAn, a Chinese insurance company, thinks it can spot dishonesty. The company lets customers apply for <code>loans</code> through its app. <code>Prospective</code> borrowers answer questions about their income and <code>plans for repayment</code> by video, which monitors around 50 tiny facial expressions to determine whether they are telling the truth. The program, enabled by artificial intelligence (AI), helps <code>pinpoint</code> customers who require further <code>scrutiny</code>.</p>\n<blockquote>\n<p>测谎仪并未在企业中得到广泛应用，但中国平安保险公司相信自己能探测谎言。这家公司让客户通过它的一款应用程序来申请贷款。预期的贷款人在视频中回答有关收入和还款计划的问题。视频会监视他们的大概50个细微面部表情，依此判断他们是否在说真话。这套由人工智能驱动的程序帮助筛查出需要进一步详细审核的客户。</p>\n</blockquote>\n<p>AI will change more than borrowers’ bank balances. Johnson &amp; Johnson, a consumer-goods firm, and Accenture, a <code>consultancy</code>, use AI to sort through job applications and pick the best <code>candidates</code>. AI helps Caesars, a <code>casino</code> and hotel group, guess customers’ likely spending and offer <code>personalised promotions</code> to draw them in. Bloomberg, a media and financial-information firm, uses AI to scan <code>companies’ earnings releases</code> and automatically generate news articles. Vodafone, a <code>mobile operator</code>, can predict problems with its network and with users’ <code>devices</code> before they arise. Companies in every industry use AI to monitor <code>cyber-security threats</code> and other risks, such as <code>disgruntled</code> employees.</p>\n<blockquote>\n<p>AI 将改变的不仅仅是贷款人的账户余额。消费品公司强生（ Johnson &amp; Johnson ）和咨询公司埃森哲（ Accenture ）用 AI 查看应聘申请书，筛选出最佳人选。AI 帮助赌场和酒店集团凯撒娱乐（ Caesars ）估测客人的消费水平，提供个性化促销来吸引他们。媒体和金融信息公司彭博（ Bloomberg ）用 AI 扫描企业财报，自动生成新闻报道。移动运营商沃达丰（ Vodafone ）用 AI 监测其网络和用户设备，提前预警故障。各行各业的公司都在使用 AI 监控网络安全威胁和其他风险，比如心怀不满的员工。</p>\n</blockquote>\n<p>Instead of relying on <code>gut instinct</code> and <code>rough estimates</code>, cleverer and speedier AI-powered predictions promise to make businesses much more efficient. At Leroy Merlin, a French home-improvement <code>retailer</code>, managers used to order new stock on Fridays, but defaulted to the same items as the week before so they could start their weekend sooner. The firm now uses <code>algorithms</code> to take in past sales data and other information that could affect sales, such as weather forecasts, in order to <code>stock shelves</code> more effectively. That has helped it reduce its <code>inventory</code> by 8% even as sales have risen by 2%, says Manuel Davy of Vekia, the AI <code>startup</code> that engineered the program.</p>\n<blockquote>\n<p>相比依赖直觉和粗略的估算，更聪明也更快速的 AI 预测将帮助企业大幅提高效率。法国家居装饰零售商乐华梅兰（ Leroy Merlin ）的管理层以前每周五下新订单，默认的设置是重复前一周的订单，这样大家可以早点下班过周末。现在，公司用算法来斟酌历史销售数据和天气预报等其他可能影响销售的信息，以更有效地安排库存。按创建该算法的 AI 创业公司 Vekia 的曼纽尔·戴维说，这帮助该公司将库存减少了8%，同时销售额却增长了2%。</p>\n</blockquote>\n<p>AI and machine learning (terms that are often used <code>interchangeably</code>) involve computers crunchingvast quantities ofdata to find <code>patterns</code> and make predictions without being <code>explicitly</code> programmed to do so. Larger quantities of data, more <code>sophisticated</code> algorithms and <code>sheer</code> computing power have given AI greater force and capability. The outcomes are often similar to what <code>an army of</code> statisticians with unlimited time and resources might have come up with, but they are achieved far more quickly, cheaply and efficiently.</p>\n<blockquote>\n<p>AI 和机器学习（这两个术语常被混用）用计算机处理查看海量数据，从中找出模式并做出预测，而不需要编程来作出明确的指示。更多数据、更复杂的算法和更高的计算能力已经赋予了 AI 更强大的能力。它得出的结果往往和一大批拥有无限时间和资源的统计师所得的差不多，但它远为快速、便宜和高效。</p>\n</blockquote>\n<p>One of AI’s main effects will be a <code>dramatic drop</code> in the cost of making predictions, says Ajay Agrawal of the University of Toronto and co-author of a new book, “Prediction Machines”. Just as electricity made lighting much more affordable—a given level of lighting now costs around 400 times less than it did in 1800—so AI will make forecasting more affordable, reliable and widely available.</p>\n<blockquote>\n<p>AI 的主要成果之一是将令预测的成本大幅下降，新书《预测机器》的合著者、多伦多大学的阿杰伊·阿格拉沃尔表示。就像电力让照明成本比 1800 年时降低了 400 倍左右——AI 会让做预测更便宜、更可靠、更普及。</p>\n</blockquote>\n<p>Computers have been able to read text and numbers for decades, but have only recently learned to see, hear and speak. AI is an <code>omnibus term</code> for a “salad bowl” of different segments and <code>disciplines</code>, says Fei-Fei Li, director of Stanford’s AI Lab and an <code>executive</code> at Google’s cloud-computing unit. <code>Subsections</code> of AI include robotics, which is changing factories and <code>assembly</code> lines, and computer vision, used in applications from identifying something or someone in a photo to self-driving-car technology. Computer vision is AI’s “killer app”, saysMs Li, because it can be used in so many settings, but AI has also become more adept at <code>recognising speech</code>. It <code>underlies</code> voice assistants on phones and home speakers and allows algorithms to listen to calls and take in the speaker’s <code>tone</code> and content.</p>\n<blockquote>\n<p>计算机几十年前就已经可以阅读文本和数字了，但直到最近才学会了看、听、说。AI 是一个综合性术语，就像是涵盖了不同领域和学科的“一碗色拉”，斯坦福大学人工智能实验室主管、谷歌云计算部门负责人李飞飞说。AI 的下属分支包括正在改变工厂和装配线的机器人技术，以及部署在各种应用程序中的计算机视觉——从识别照片中的人或物到无人驾驶汽车技术等。李飞飞说，计算机视觉是 AI 的“杀手级应用”，因为运用场合是如此之多，但 AI 在语音识别方面也已变得更加娴熟。它在配备在手机和家用音响上的语音助理的技术基础，还让算法能够监听来电并识别说话者的语调和内容。</p>\n</blockquote>\n<h2 id=\"Techtonic-shifts-技术板块迁移\"><a href=\"#Techtonic-shifts-技术板块迁移\" class=\"headerlink\" title=\"Techtonic shifts | 技术板块迁移\"></a>Techtonic shifts | 技术板块迁移</h2><p>Until now the main <code>beneficiary</code> of AI has been the technology sector. Most of today’s leading tech firms, such as Google and Amazon in the West and Alibaba and Baidu in China, would not be as big and successful without AI for <code>product recommendations</code>, <code>targeted advertising</code> and <code>forecasting demand</code>. Amazon, for example, uses AI widely, for tasks such as guiding robots in its warehouses and optimising <code>packing</code> and <code>delivery</code>, as well as detecting <code>counterfeit goods</code> and powering its speaker, Alexa. Alibaba, a Chinese <code>rival</code>, also <code>makes extensive use of</code> AI, for example in <code>logistics</code>; and its online-payments <code>affiliate</code>, Ant Financial, is <code>experimenting</code> with facial recognition for <code>approving transactions</code>. Sundar Pichai, Google’s boss, has said that AI will have a “more <code>profound</code>” impact than electricity or fire.</p>\n<blockquote>\n<p>到目前为止，AI 的主要受益者一直是技术部门。若果没有 AI 帮助实现产品推荐、定向广告和需求预测，那么当今大多数科技领军企业，比如西方的谷歌和亚马逊以及中国的阿里巴巴和百度，都不会发展到今天这般庞大且成功。举例来说，亚马逊广泛使用 AI 来完成各种任务，诸如在仓库中指示机器人工作、优化包装和运送、检测假货，支持其智能音箱 Alexa 等。它的竞争对手，中国的阿里巴巴也在物流等部门广泛运用 AI，其在线支付分支机构蚂蚁金服正测试使用面部识别来核准交易。谷歌执行长桑达尔·皮查伊曾经说过，AI 将产生比电或火“更深远”的影响。</p>\n</blockquote>\n<p>Bosses of non-tech companies in <code>a broad range of</code> industries are starting to worry that AI could <code>scorch</code> or even <code>incinerate</code> them, and have been buying up <code>promising</code> young tech firms to ensure they do not fall behind. In 2017 firms worldwide spent around \\$21.8bn on <code>mergers and acquisitions</code> related to AI, according to PitchBook, a data provider, about 26 times more than in 2015 (see chart). They are doing this partly to <code>secure</code> talent, <u>which is thin on the ground</u>. Startups without revenue are <code>fetching prices</code> that amount to \\$5m-10m per AI expert.</p>\n<blockquote>\n<p>然而各行各业的非科技公司老板们已经开始担心，AI 可能会冲击甚至毁灭自己，因而他们纷纷收购看起来颇有前途的年轻科技公司，以确保自己不落人后。据数据供应商 PitchBook 统计，2017 年全球企业在 AI 相关并购上的支出约达 218 亿美元，比 2015 年增长约 26 倍（见图表）。它们这样做的部分原因是为获得目前仍相当稀缺的 AI 人才。尚未产生收入的创业公司为聘请一名 AI 专家花费多达 500 万至 1000 万美元。</p>\n</blockquote>\n<p><img src=\"http://p961k62e6.bkt.clouddn.com/20180331/Artificial_sweeteners.PNG\" alt=\"Artificial sweeteners\"></p>\n<p>As AI spreads beyond the tech sector, it will <code>fuel</code> the rise of new firms that challenge <code>incumbents</code>. This is already happening in the car industry, with <code>autonomous-vehicle</code> startups and <code>ride-hailing</code> firms such as Uber. But it will also change the way other companies work, transforming traditional functions such as supply-chain management, customer service and <code>recruitment</code>.</p>\n<blockquote>\n<p>随着 AI 传播到科技行业之外，它将推动新企业的崛起，为成熟企业带来挑战。这已经在汽车产业里发生——AI 催生了无人驾驶汽车创业公司和优步等网约车公司。但它也将改变其他企业的运作方式，改变供应链管理、客服和招聘等传统职能。</p>\n</blockquote>\n<p>The path ahead is <code>exhilarating but perilous</code>. Around 85% of companies think AI will offer a competitive advantage, but only one in 20 is “<code>extensively</code>” employing it today, according to a report by MIT’s <em>Sloan</em><br><em>Management Review</em> and the Boston Consulting Group. Large companies and industries, such as finance, that generate a lot of data, tend to be ahead and often build their own <code>AI-enhanced systems</code>. But many firms will choose to work with <code>the growing array of</code> independent AI <code>vendors</code>, including cloud providers, <code>consultants</code> and startups.</p>\n<blockquote>\n<p>前路令人振奋却也危险重重。根据麻省理工学院的《斯隆管理评论》和波士顿咨询集团联合撰写的报告，约 85% 的企业认为 AI 将带来竞争优势，但只有 5% 的公司正在“广泛”地使用它。生成大量数据的大企业和金融等行业往往走在前头，常常建立自己的 AI 增强系统。但许多企业会选择与队伍不断扩大的独立 AI 供应商合作，包括云供应商、咨询公司和创业公司等。</p>\n</blockquote>\n<p>This is not just a <code>corporate race</code> but an international one, too, especially between America and China. <u>Chinese firms have an early edge</u>, <code>not least</code> because the government keeps a vast database of faces that can help train facial-recognition algorithms; and <code>privacy</code> is less of a concern than in the West.</p>\n<blockquote>\n<p>这不仅是一项企业竞赛，也是一场国际竞逐——尤其在中美之间。中国企业有一个先发优势，这主要是因为中国政府拥有一个庞大的人脸数据库，可以用来训练面部识别算法。而且，与西方相比，中国人对隐私也不那么关切。</p>\n</blockquote>\n<p>There will be plenty of opportunities to <code>stumble</code>. One difficult issue for companies will be <code>timing</code>. Roy Bahat of Bloomberg Beta, a <code>venture-capital firm</code>, <u>draws a parallel between now and the first dotcom boom of the late 1990s</u>: “Companies are flailing to figure out what to spend money on.” If they invest huge sums in AI early on, they run the risk of <code>overcommitting themselves</code> or paying large amounts for worthless startups, as many did in the early days of the internet. But if they wait too long, they may leave themselves open to <code>disruption</code> from upstarts, as well as from <code>rivals</code> that were quicker to harness technology.</p>\n<blockquote>\n<p>跌跤的机会很多。企业面临的难题之一是对时机的把握。风险投资公司 Bloomberg Beta 的罗伊·巴哈特把眼下的状况比作上世纪 90 年代末的首个互联网泡沫期：“对于该往哪儿投钱，企业无所适从。”如果它们早早地在 AI 上投入巨资，就要冒对一文不值的创业公司过度依赖或为之浪费大笔金钱的风险，就像互联网早期许多公司的经历那样。但如果它们等得太久，又有可能把自己置于被市场新贵颠覆的境地，还可能被更快掌握了新技术的竞争对手冲击。</p>\n</blockquote>\n<p>Some may have been <code>misled</code> by <code>glowing</code> media reports, believing AI to be a magic wand that can be installed as easily as a piece of Microsoft software, says Gautam Schroff of Tata Consultancy Services, an Indian firm. AI systems require <code>thorough</code> preparation of data, <code>intensive</code> monitoring of algorithms and a lot of <code>customisation</code> to be useful. Gurdeep Singh of Microsoft speaks of AI systems as “<code>idiots savants</code>”; they can easily do jobs that humans find <code>mind-boggling</code>, such as detecting tiny <code>flaws</code> in <code>manufactured goods</code> or quickly categorising millions of photos of faces, but have trouble with things that people find easy, such as basic <code>reasoning</code>. Back in 1956, when <code>academic</code> researchers held their first <code>gathering to discuss AI</code>, they were looking for a way to <code>imbue</code> machines with human-like “general” intelligence, including complex reasoning. But that remains a <code>distant aspiration</code>.</p>\n<blockquote>\n<p>还有些企业可能被媒体天花乱坠的报道误导，以为 AI 就是一根魔法棒，像微软的软件一样容易安装，印度公司塔塔咨询服务的高塔姆·施罗夫说。AI 系统需要全面细致地准备数据、深入地监测算法和大量的定制才能发挥用处。微软的格迪普·辛格称 AI 系统为“白痴专家”——它们能轻易完成让人类望而却步的艰巨任务，比如检测制成品中的细小瑕疵，或给数百万人脸照片快速分类，但在那些对人类而言轻而易举的任务上（比如基础推理）却遇到麻烦。早在 1956 年学术研究人员举行首次 AI 研讨会时，他们就在寻找办法来赋予机器像人类那样的“一般”智能，包括复杂推理的能力。但直到今天，这仍是一种遥遥无期的向往。</p>\n</blockquote>\n<p>The <code>excitement</code> around AI has made it hard to <code>separate hype from reality</code>. In the last quarter of 2017 public companies across the world <code>mentioned</code> AI and machine learning in their earnings reports more than 700 times, seven times as often as in the same period in 2015 (see chart). There are so many firms <code>peddling</code> AI <code>capabilities</code> of <code>unproven value</code> that someone should start “an AI fake news” channel, <code>quips</code> Tom Siebel, a Silicon Valley <code>veteran</code>.</p>\n<blockquote>\n<p>AI 引发的兴奋之情使得我们难以分辨炒作和现实。2017 年最后一个季度，全球上市公司在它们的财报中提到 AI 和机器学习多达 700 多次，是 2015 年同期的七倍（见图表）。硅谷资深人士汤姆·西贝尔开玩笑说，这么多公司在兜售尚未证实价值的 AI 技术，应该有人来开办一个“AI 假新闻”频道了。</p>\n</blockquote>\n<p><img src=\"http://p961k62e6.bkt.clouddn.com/20180331/Machine%20earning.PNG\" alt=\"Machine_earning\"></p>\n<p>Bosses must keep several time horizons in mind. In the near future AI will reshape traditional business functions such as finance, HR and customer service, according to Michael Chui of the McKinsey Global Institute, a <code>think-tank</code> within a consultancy. But over time it will also <code>disrupt</code> whole industries, for example by powering the rise of autonomous vehicles or the discovery of entirely new drug combinations. Where as humans may have <code>preconceptions</code> about which product designs or drug combinations are likely to work best, algorithms are more likely to come up with <code>novel solutions</code>.</p>\n<blockquote>\n<p>老板们必须记住几个时间跨度。根据咨询公司麦肯锡下属智库麦肯锡全球研究所的迈克尔·崔的说法，在不久的将来，人工智能将重塑传统的商业功能，如金融、人力资源和客户服务。但随着时间的推移，它也将颠覆行业整体，比如通过推动无人驾驶汽车兴起和发现全新的药物组合等。人类对于哪种产品设计或药物组合可能取得最佳效果也许已有成见，而算法更可能提出新的解决方案。</p>\n</blockquote>\n<p>In private, many bosses are more interested in the potential cost and labour savings than in the broader opportunities AI might bring, says John Hagel of Deloitte, a consultancy. That is certainly not good for workers, but nor, <code>ultimately</code>, is it good for business. “If you just cut costs and don’t increase value for customers, you’re going to be out of the game,” he says. Some companies may not actually <code>eliminate</code> existing jobs but use technology to avoid creating new ones. And workers who keep their jobs are more likely to feel spied on by their employers. Some firms already use AI to comb through their workers’ communications to ensure that they are not breaking the law. Such practices will spread, raising privacy issues.</p>\n<blockquote>\n<p>咨询公司德勤的约翰·哈格尔表示，私下里，许多企业老板更为关注 AI 能帮助节省多少成本和劳动力，而不是它可能带来的更广泛机遇。这对工人来说当然不是好事，但最终也会对企业不利。他表示：“如果你只是削减成本，而不增加为客户带来的价值，那你就会出局。”一些公司实际上或许并不会削减现有岗位，但会利用技术来避免增员。而那些保住了工作的工人更可能感到被雇主暗中监视。一些公司已经在使用 AI 查看员工的聊天记录，以确保他们不违法。这类做法将日益普遍，从而引发隐私问题。</p>\n</blockquote>\n<p><u>A longer-term concern is the way</u> AI creates a <code>virtuous circle</code> or “fly wheel” effect, allowing companies that <code>embrace</code> it to operate more efficiently, generate more data, improve their services, attract more customers and offer lower prices. That sounds like a good thing, but it could also lead to more <code>corporate concentration</code> and <code>monopoly</code> power—as has already happened in the technology sector.</p>\n<blockquote>\n<p>从更长远的视角来看，人工智能创造了一个良性循环或“飞轮”效应，允许接受它的公司更有效地运作，产生更多的数据，改善服务，吸引更多的客户，并提供更低的价格。这听起来像是一件好事，但它也可能导致更多的企业集中度和垄断权力——就像科技行业已经发生的那样。 </p>\n</blockquote>\n<hr>\n<h2 id=\"Related-Articles-相关文章\"><a href=\"#Related-Articles-相关文章\" class=\"headerlink\" title=\"Related Articles | 相关文章\"></a>Related Articles | 相关文章</h2><blockquote>\n<ul>\n<li><a href=\"http://divinerhjf.com\" title=\"Customer service Here to help\" target=\"_blank\" rel=\"noopener\">How AI can make businesses look more caring ?</a></li>\n<li><a href=\"http://divinerhjf.com\" title=\"Supply chains In algorithms we trust\" target=\"_blank\" rel=\"noopener\">AI is making companies swifter, cleverer and leaner.</a></li>\n<li><a href=\"http://divinerhjf.com\" title=\"The future Two-faced\" target=\"_blank\" rel=\"noopener\">AI with mainly be good for business, but mind the pitfalls.</a></li>\n<li><a href=\"http://divinerhjf.com\" title=\"Human resources Hire education\" target=\"_blank\" rel=\"noopener\">AI is changing the way firms screen, hire and manage their talent.</a></li>\n<li><a href=\"http://divinerhjf.com\" title=\"Future workplaces Smile, you&#39;re on camera\" target=\"_blank\" rel=\"noopener\">AI will make workplaces more efficient, safer — and much creepier.</a></li>\n<li><a href=\"http://divinerhjf.com\" title=\"External providers Leave it to the experts\" target=\"_blank\" rel=\"noopener\">A thriving ecosystem has sprung up to offer AI expertise and technical help.</a></li>\n</ul>\n</blockquote>"},{"title":"数据可视化-R绘图包系列","date":"2018-04-07T09:30:49.000Z","_content":"\n<center><i>\n    R 中有四大框架用于产生静态图形: graphics、grid、lattice、ggplot2，<br />\n    利用这些包可以将结构或非结构数据转换成适当的可视化图表，展现出隐藏在数据中的信息\n</i></center>\n\n<br />![托勒密圆.jpg](http://p31gihke0.bkt.clouddn.com/picture.jpg)\n<!--more-->\n\n此系列文章主要介绍 R 基础绘图命令，涵盖 graphics、grid、lattice、ggplot2 等包，欢迎阅读。\n\n> 文章列表：\n> * [graphics：R 基础绘图包-par()](http://pgitmm68m.bkt.clouddn.com/graphics.html)\n> * [graphics：R 基础绘图包-plot()](http://pgitmm68m.bkt.clouddn.com/graphics-plot.html)\n> * [grid: 网格图形]()  待写\n> * [lattice：条件作图]() 待写\n> * [ggplot2：图层作图]() 待写\n> * …………","source":"_posts/2018-04-07-数据可视化-R绘图包系列.md","raw":"---\ntitle: 数据可视化-R绘图包系列\ndate: 2018-04-07 17:30:49\ncategories: R\ntags: \n    - R\n    - graphics\n    - grid\n    - lattice\n    - ggplot2\n    - 数据可视化\n---\n\n<center><i>\n    R 中有四大框架用于产生静态图形: graphics、grid、lattice、ggplot2，<br />\n    利用这些包可以将结构或非结构数据转换成适当的可视化图表，展现出隐藏在数据中的信息\n</i></center>\n\n<br />![托勒密圆.jpg](http://p31gihke0.bkt.clouddn.com/picture.jpg)\n<!--more-->\n\n此系列文章主要介绍 R 基础绘图命令，涵盖 graphics、grid、lattice、ggplot2 等包，欢迎阅读。\n\n> 文章列表：\n> * [graphics：R 基础绘图包-par()](http://pgitmm68m.bkt.clouddn.com/graphics.html)\n> * [graphics：R 基础绘图包-plot()](http://pgitmm68m.bkt.clouddn.com/graphics-plot.html)\n> * [grid: 网格图形]()  待写\n> * [lattice：条件作图]() 待写\n> * [ggplot2：图层作图]() 待写\n> * …………","slug":"2018-04-07-数据可视化-R绘图包系列","published":1,"updated":"2018-10-13T04:53:49.001Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60jk000sjsuv2yuge24z","content":"<center><i>\n    R 中有四大框架用于产生静态图形: graphics、grid、lattice、ggplot2，<br>\n    利用这些包可以将结构或非结构数据转换成适当的可视化图表，展现出隐藏在数据中的信息\n</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/picture.jpg\" alt=\"托勒密圆.jpg\"><br><a id=\"more\"></a></p>\n<p>此系列文章主要介绍 R 基础绘图命令，涵盖 graphics、grid、lattice、ggplot2 等包，欢迎阅读。</p>\n<blockquote>\n<p>文章列表：</p>\n<ul>\n<li><a href=\"http://pgitmm68m.bkt.clouddn.com/graphics.html\" target=\"_blank\" rel=\"noopener\">graphics：R 基础绘图包-par()</a></li>\n<li><a href=\"http://pgitmm68m.bkt.clouddn.com/graphics-plot.html\" target=\"_blank\" rel=\"noopener\">graphics：R 基础绘图包-plot()</a></li>\n<li><a href=\"\">grid: 网格图形</a>  待写</li>\n<li><a href=\"\">lattice：条件作图</a> 待写</li>\n<li><a href=\"\">ggplot2：图层作图</a> 待写</li>\n<li>…………</li>\n</ul>\n</blockquote>\n","site":{"data":{}},"excerpt":"<center><i>\n    R 中有四大框架用于产生静态图形: graphics、grid、lattice、ggplot2，<br>\n    利用这些包可以将结构或非结构数据转换成适当的可视化图表，展现出隐藏在数据中的信息\n</i></center>\n\n<p><br><img src=\"http://p31gihke0.bkt.clouddn.com/picture.jpg\" alt=\"托勒密圆.jpg\"><br>","more":"</p>\n<p>此系列文章主要介绍 R 基础绘图命令，涵盖 graphics、grid、lattice、ggplot2 等包，欢迎阅读。</p>\n<blockquote>\n<p>文章列表：</p>\n<ul>\n<li><a href=\"http://pgitmm68m.bkt.clouddn.com/graphics.html\" target=\"_blank\" rel=\"noopener\">graphics：R 基础绘图包-par()</a></li>\n<li><a href=\"http://pgitmm68m.bkt.clouddn.com/graphics-plot.html\" target=\"_blank\" rel=\"noopener\">graphics：R 基础绘图包-plot()</a></li>\n<li><a href=\"\">grid: 网格图形</a>  待写</li>\n<li><a href=\"\">lattice：条件作图</a> 待写</li>\n<li><a href=\"\">ggplot2：图层作图</a> 待写</li>\n<li>…………</li>\n</ul>\n</blockquote>"},{"title":"R Markdown: 数据报告生成利器","date":"2018-07-09T14:44:09.000Z","mathjax":true,"_content":"\n<center>\n    <i>   \n        R Markdown 站在 knitr 和 Pandoc 的肩膀上，前者执行嵌入于文档中的计算机代码，并将 R Markdown 转换为 Markdown；后者将 Markdown 呈现出您想要的输出格式（如 PDF、HTML、Word 等）\n    </i>\n</center>\n\n<br>![R Markdown](http://pblv0vj27.bkt.clouddn.com/hex-rmarkdown.png)\n<!--more-->\n\n此篇文章翻译自谢益辉新书 [《R Markdown: The Definitive Guide》](https://bookdown.org/yihui/rmarkdown/) 的前三章节，内容有所删减，主要介绍了 R Markdown 的相关结构及语法规则，如果想了解更多更详细的内容推荐您阅读原书。\n\n# 安装\n\n这里假设您已经安装了 R ([https://www.r-project.org](https://www.r-project.org/))  和 RStudio IDE ([https://www.rstudio.com](https://www.rstudio.com/)) 。Rstudio 并不是必须的，但安装它会使您更加容易地使用 R Markdown。如果您没有安装 RStudio IDE，您将不得不安装 Pandoc（ [http://pandoc.org](http://pandoc.org) ），否则就不需要单独安装 Pandoc，因为在安装 RStudio 时已经将它捆绑安装了。接下来，您可以在 R 中安装 `rmarkdown` 包： \n\n```R 安装 rmarkdown 包的两种方式\n# Install from CRAN\ninstall.packages('rmarkdown')\n\n# Or if you want to test the development version,\n# install from GitHub\nif (!requireNamespace(\"devtools\"))\n  install.packages('devtools')\ndevtools::install_github('rstudio/rmarkdown')\n```\n\n如果您想要生成 PDF 类型文档输出，您将需要安装 LaTeX 。对于那些以前没有安装过 LaTeX 的 R Markdown 用户，我们建议您安装 TinyTeX（https://yihui./tinytex/）： \n\n```R 安装 tinytex 包\ninstall.packages(\"tinytex\")\ntinytex::install_tinytex()  # install TinyTeX\n```\n\nTinyTeX 相当于一款轻量级、跨平台、易于维护的 LaTeX 。在将 LaTeX  或 R Markdown 文档编译成 PDF 时，`tinytex` 可以帮助您自动安装所需的相关 R 包，同时还能确保一个 LaTeX  文档被编译成正确的次数，以解决所有的交叉引用问题。如果您不明白这两件事是什么意思，应该按照我们的建议来安装 TinyTeX，因为这些细节往往并不值得您花费时间和精力去关心。 \n\n使用 `rmarkdown` 包、RStudio/Pandoc 和 LaTeX，您应该能够编译大多数R Markdown 文档。在某些情况下，您可能需要其他软件包，我们将在必要时提到它们。 \n\n\n\n> **参考文献**\n>\n> - R Core Team. 2018. *R: A Language and Environment for Statistical Computing*. Vienna, Austria: R Foundation for Statistical Computing. [https://www.R-project.org/](https://www.r-project.org/).\n> - Xie, Yihui. 2018f. *Tinytex: Helper Functions to Install and Maintain Tex Live, and Compile Latex Documents*. <https://github.com/yihui/tinytex>.\n\n\n\n\n\n----\n\n\n\n# 基础知识\n\nR Markdown 为数据科学提供了一个创作框架。R Markdown 能胜任以下两个任务：\n\n- 保存并执行代码；\n- 生成可共享的高质量报告。\n\nR Markdown 的设计初衷是为了更容易地实现报告内容的可重复性，这是因为计算代码和叙述都在同一个文档中，结果是由源代码自动生成的。并且 R Markdown 支持数十种静态和动态/交互式输出格式。 \n\n如果您更喜欢观看视频进行学习，我们建议您查看网站 [https://rmarkdown.rstudio.com](https://rmarkdown.rstudio.com)，并在 “Get Started ” 中观看视频，其中包括了 R Markdown 的基础知识。 \n\n\n\n## 文档结构\n\n下面是一份非常简易的 R Markdown 文档，是一个带有 `.Rmd` 拓展名的纯文本文档。\n\n```yaml YAML 元数据\n---\ntitle: \"Hello R Markdown\"\nauthor: \"Awesome Me\"\ndate: \"2018-02-14\"\noutput: html_document\n---\n```\n\n~~~markdown 主体内容\nThis is a paragraph in an R Markdown document.\n\nBelow is a code chunk:\n\n```{r}\nfit = lm(dist ~ speed, data = cars)\nb   = coef(fit)\nplot(cars)\nabline(fit)\n```\n\nThe slope of the regression is `r b[1]`.\n```\n~~~\n\n您可以使用任何文本编辑器（包括但不限于 RStudio）来创建这样的文本文档。如果使用 RStudio，您可以从 `File -> New File -> R Markdown ` 中创建一个新的 Rmd 文档。 \n\n一份 R Markdown 文档有三个基础组成部分：元数据，文本和代码。元数据是在三个连接符 `---` 之间的内容。元数据的语法是 YAML（ [YAML 不是标记语言](https://en.wikipedia.org/wiki/YAML) ），所以有时它也被称为 YAML metadata 或 YAML frontmatter。 需要注意的是，缩进在 YAML 中十分重要，忽视它会让你付出惨重代价。请参阅谢益辉所写的 《bookdown》（2016）一书中的 [附录b.2](https://bookdown.org/yihui/bookdown/r-markdown.html) 来了解一些简单的例子，这些示例展示了 YAML 语法。\n\n文档的主体遵循元数据书写的规则。文本的语法是 Markdown，将在第 2.5 节中进行介绍。有两种类型的计算机代码，在第 2.6 节中进行了详细解释： \n\n- **代码块**：以三个重音符及所使用语言开始，其中 `r` 代表所使用的程序语言，并以三个重音符结束。 可以在花括号中填写块选项（如：将图形高度设置为5英寸：`{r, fig.height=5}`）。\n- **内联代码**：以 ``r` 开始，并以单个重音符结束。\n\n\n\n## 文档编译\n\n最简单的方式莫过于在 RStudio 中单击 `Knit` 按钮，对应的快捷键为 `Ctrl + Shift + K` （在 macOS 中为 `Cmd + Shift + K`）。当然也可以直接运行代码 `rmarkdown::render` 来进行渲染编译，如：\n\n```R 文档渲染编译\nrmarkdown::render('foo.Rmd', 'pdf_document')\n```\n\n当编译多个文档时，使用函数更加方便，因为可以直接使用循环来进行渲染编译。\n\n\n\n## 参考卡片\n\nRStudio 已经创建了大量的参考卡片，它们可以在 https://www.rstudio.com/resources/cheatsheets/ 上免费获得。\n\n\n\n## 输出格式\n\n有两种输出格式：documents 和 presentations 。所有可用的格式如下所示 ：\n\n- `beamer_presentation`\n- `github_document`\n- `html_document`\n- `ioslides_presentation`\n- `latex_document`\n- `md_document`\n- `odt_document`\n- `pdf_document`\n- `powerpoint_presentation`\n- `rtf_document`\n- `slidy_presentation`\n- `word_document`\n\n我们将在第 3 章和第 4 章详细地记录这些输出格式。在其他扩展包中提供了更多的输出格式（从第 5 章开始）。对于 Rmd 文件的 YAML 元数据中的输出格式名称，如果格式来自扩展包，您需要包含包名（若格式来自于 `rmarkdown` 包，则不需要 `rmarkdown::`前缀 ），例如：\n\n```yaml 输出格式设置\noutput: tufte::tufte_html\n```\n\n每种输出格式通常都有多种格式选项。所有这些选项都记录在 R 包 help 页面上。例如，您可以在 R 中键入 `?rmarkdown::` 打开关于 `html_document` 格式的 help 页面。当您想要使用某些选项时，必须将这些值从 R 转换成 YAML，例如：\n\n```R ?rmarkdown::\nhtml_document(toc = TRUE, toc_depth = 2, dev = 'svg')\n```\n\n可以用 YAML 写为： \n\n```yaml 输出格式参数设置\noutput:\n  html_document:\n    toc: true\n    toc_depth: 2\n    dev: 'svg'\n```\n\nYAML 中的字符串通常不需要引号（``dev：“svg”` 和 `dev:svg` 是相同的），除非它们包含特殊字符，比如冒号 `：`。如果您不确定是否应该引用字符串，那么用 `yaml` 包来测试它，例如：\n\n```R YAML 语法\ncat(yaml::as.yaml(list(\n  title = 'A Wonderful Day',\n  subtitle = 'hygge: a quality of coziness'\n)))\n\n## title: A Wonderful Day\n## subtitle: 'hygge: a quality of coziness'\n```\n\n注意，上面例子中的副标题是由于冒号而引用单引号的。\n\n \n\n如果某一选项有子选项（这意味着该选项的值是 R 中的列表），则子选项需要进一步缩进，例如：\n\n```yaml 子选项-缩进\noutput:\n  html_document:\n    toc: true\n    includes:\n      in_header: header.html\n      before_body: before.html\n```\n\n一些选项将被传递给 **knitr** ，比如 `dev`、`fig_width` 和 `fig_height`。这些选项的详细文档可以在 [knitr 文档页面](<https://yihui.name/knitr/options/> ) 上找到。请注意，实际的 knitr 选项名称可能有所不同。特别是，knitr 在名称中使用 `.`，但 rmarkdown 使用 `_`，例如，在 rmarkdown 中，`fig_width`  对应于knitr 中的 `fig.width` 。\n\n一些选项将被传递给 **Pandoc**，比如 `toc`、`toc_depth` 和 `number_sections` 。当有疑问时，您应该参考 Pandoc 文档。R Markdown 输出格式函数通常有一个`pandoc_args`  参数，它应该是传递给 Pandoc 的参数的字符向量。如果您发现任何没有由输出格式参数表示的 Pandoc 特性，您可以使用这个终极论证，例如：\n\n```yaml pandoc_args 参数\noutput:\n  pdf_document:\n    toc: true\n    pandoc_args: [\"--wrap=none\", \"--top-level-division=chapter\"]\n```\n\n\n\n## Markdown 语法\n\n### 内联格式\n\n- *斜体* ：`_text_` 或 `*text*` \n\n- **粗体** ：`**text** `\n\n- 下标 ：`H~3~PO~4~`  渲染为 $H_3PO_4$ \n\n- 上标 ：`Cu^2+^`  渲染为 $Cu^{2+}$ \n\n- 脚注 ： `^[This is a footnote.]` \n\n- 内联代码 ：`` `code` `` , 可以使用 n+1 个重音符输出包含 n 个重音符的代码块。\n\n- 超链接 ：`[text](link) ` \n\n- 图片链接 ： `![alt text or image title](path/to/image)`\n\n- 引用 ： \n\n  ```ruby 书籍引用\n  @Manual{R-base,\n    title = {R: A Language and Environment for Statistical\n      Computing},\n    author = {{R Core Team}},\n    organization = {R Foundation for Statistical Computing},\n    address = {Vienna, Austria},\n    year = {2017},\n    url = {https://www.R-project.org/},\n  }\n  ```\n\n\n\n### 块级元素\n\n- **标题**\n\n  ```Markdown 三级标题的书写\n  # First-level header\n  \n  ## Second-level header\n  \n  ### Third-level header\n  ```\n\n  如果不想让某个标题被编号，可以在标题后面添加 `{-}` 或者 `{.unnumbered}`，如：\n\n  ```Markdown 标题不编号\n  # Preface {-} \n  ```\n\n- **无序列表**\n\n  ```Markdown 无序列表\n  - one item\n  - one item\n  - one item\n    - one more item\n    - one more item\n    - one more item\n  ```\n\n- **有序列表**\n\n  ```Markdown 有序列表\n  1. the first item\n  2. the second item\n  3. the third item\n    - one unordered item\n    - one unordered item\n  ```\n\n- **引用**\n\n  ```Markdown 名言引用\n  > \"I thoroughly disapprove of duels. If a man should challenge me,\n    I would take him kindly and forgivingly by the hand and lead him\n    to a quiet place and kill him.\"\n  >\n  >                                                 --- Mark Twain\n  ```\n\n  > \"I thoroughly disapprove of duels. If a man should challenge me,\n  > I would take him kindly and forgivingly by the hand and lead him\n  > to a quiet place and kill him.\"\n  >\n  > ​                                               --- Mark Twain\n\n- **代码块**\n\n  ~~~Markdown 代码块\n  ```\n  This text is displayed verbatim / preformatted\n  ```\n  \n  Or indent by four spaces:\n  \n      This text is displayed verbatim / preformatted\n  ~~~\n\n\n\n### 数学表达式\n\n`$f(k) = {n \\choose k} p^{k} (1-p)^{n-k}$ ` :  $f(k) = {n \\choose k} p^{k} (1-p)^{n-k}$ \n\n`$$f(k) = {n \\choose k} p^{k} (1-p)^{n-k}$$ ` : \n\n$$\nf(k) = {n \\choose k} p^{k} (1-p)^{n-k}\n$$\n\n\n\n---\n\n\n\n## 代码块选项\n\n单击 `Insert` 按钮，对应快捷键为 `Ctrl + Alt + I` （macOS：`Cmd + Option + I` ）。\n\n\n在 <https://yihui.name/knitr/options> 中有大量的代码块可选项，在此我们列出常用的一部分：\n\n- `eval=TRUE` ：执行当前代码块；\n\n  ~~~R eval 巧用\n  ```{r}\n  # execute code if the date is later than a specified day\n  do_it = Sys.Date() > '2018-02-14'\n  ```\n  \n  ```{r, eval=do_it}\n  x = rnorm(100)\n  ```\n  ~~~\n\n- `echo=TRUE` ：输出源代码；\n\n- `result` ：当设置为 `'hide'` ，文本输出将被隐藏；当设置为 `'asis'` ，文本输出将被 “原样” 书写。\n\n- `collapse=TRUE` ：将文本输出和源代码合并为单个代码块输出，更加紧凑；\n\n- `warning`, `message`,  `error` ：是否在输出文档中显示警告、消息和错误；\n\n- `include=FALSE` ：运行当前代码并且不显示任何源代码与输出结果；\n\n- `cache` ：是否启用高速缓存。如果启用了缓存，则在下一次编译文档时不会对相同的代码块进行评估（如果代码块没有被修改），这将节省您的时间；\n\n- `fig.width`，`fig.height` ：（图形设备）块的大小（英寸）。注意：`fig.dim = c(6, 4)` 意味着 `fig.width = 6` 并且 `fig.height = 4`；\n\n- `out.width`， `out.height` ：输出文档中 R 图片的输出大小。可以使用百分比，例如 `out.width = '80%'` 表示页面宽度的 80%； \n\n- `fig.align` ：图片的对齐方式；\n\n- `dev` ：图形设备保存 R 图片的格式。如 `'pdf'`, `'png'`, `'svg'`, `'jpeg'`；\n\n- `fig.cap` ：图片标题；\n\n- `child` ：您可以在主文档中包含子文档。这个选项选择一条通向外部文件的路径。 \n\n\n\n如果某个选项需要经常被设置为多个代码块中的值，您可以考虑在文档的第一个代码块中全局设置它：\n\n~~~R 全局设置\n```{r, setup, include=FALSE}\nknitr::opts_chunk$set(fig.width = 8, collapse = TRUE)\n```\n~~~\n\n\n\n### 图片\n\n本地图片亦可以使用代码块选项进行调节，例如：\n\n~~~R 本地图片选项\n```{r, out.width='25%', fig.align='center', fig.cap='...'}\nknitr::include_graphics('images/hex-rmarkdown.png')\n```\n~~~\n\n如果您想要淡入一个不是由 R 代码生成的图形，您可以使用 `knitr::include_graphics()`  函数，它使您能够更好地控制图像的属性，而不是像 `![alt text or image title](path/to/image)` 这样的 Markdown 语法难以调解图片属性。 \n\n\n\n### 表格\n\n使用 `knitr::kable()`  函数可以简易的创建表格，表格标题可以通过 `caption`  来设置，例如：\n\n~~~R 表格选项\n```{r tables-mtcars}\nknitr::kable(iris[1:5, ], caption = 'A caption')\n```\n~~~\n\n如果您正在寻找更高级的表格样式控制，建议您使用 [kableExtra](https://cran.r-project.org/package=kableExtra) 包，它提供了定制 PDF 和 HTML 表格外观的功能。在第 12.3 节中解释了 `bookdown` 包如何扩展 rmarkdown 的功能，以允许在文本中轻松地交叉引用数字和表格。 \n\n\n\n> **参考文献**\n>\n> - Xie, Yihui. 2015. *Dynamic Documents with R and Knitr*. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. <https://yihui.name/knitr/>. \n\n\n\n\n\n---\n\n\n\n# 输出文档\n\n## HTML 文档\n\n为了输出 HTML 文档，首先要在 YAML 元数据中写入 `output: html_document` ：\n\n```yaml\n---\ntitle: Habits\nauthor: John Doe\ndate: March 22, 2005\noutput: html_document\n---\n```\n\n\n\n### 目录（Table of contents）\n\n```yaml 目录可选项\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    toc: true\n    toc_depth: 2\n    toc_float:\n        collapsed: false\n        smooth_scroll: false\n---\n```\n\n- `toc: true` ：输出目录；\n- `toc_depth` ：所输出标题的最小级别；\n- `toc_float: true` ：目录悬停于内容左侧，并一直可见；\n- `collapsed` (默认为 `TRUE`)  ：初始只显示顶级标题，随内容滚动目录逐级展开；\n- `smooth_scroll` (默认为 `TRUE`) ：点击目录标题是否导航到指定内容。\n\n\n\n### 目录编号 (Section numbering) \n\n```yaml 目录编号\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    toc: true\n    number_sections: true\n---\n```\n\n注意，如果文档中没有一级标题，那么二级标题将被命名为 `0.1`, `0.2` ……\n\n\n\n### 选项卡 (Tabbed sections)\n\n```markdown 选项卡\n## Quarterly Results {.tabset .tabset-fade .tabset-pills}\n\n### By Product\n\n(tab content)\n\n### By Region\n\n(tab content)\n```\n\n\n![Tabbed sections](https://bookdown.org/yihui/rmarkdown/images/tabset.png)\n\n\n- `.tabset`  ：使主标题的所有子标题与 .tabset 属性一起出现在选项卡中，而不是作为独立的部分；\n- `.tabset-fade`  ：选项卡切换时淡入淡出；\n- `.tabset-pills`  ：改变选项卡外观，使其类似 “药丸”。\n\n\n\n### 外观与风格\n\n```yaml 主题与高亮\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    theme: united\n    highlight: tango\n---\n```\n\n- `theme`  ：主题是从 [Bootswatch](https://bootswatch.com/3/) 主题库中提取的，适用的主题包括：`default`, `cerulean`, `journal`, `flatly`, `readable`, `spacelab`, `united`, `cosmo`, `lumen`, `paper`, `sandstone`, `simplex`, 和 `yeti`. \n- `highlight` ：代码高亮模式。支持的风格包括： `default`,  `tango`,  `pygments`,  `kate`,  `monochrome`,  `espresso`,  `zenburn`,  `haddock` 和 `textmate`.  \n\n\n\n### 图片选项\n\n```yaml 图片选项\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    fig_width: 7\n    fig_height: 6\n    fig_caption: true\n---\n```\n\n- `fig_width` 和 `fig_height`  ：图片宽度和高度；\n- `fig_caption`  ：控制图片是否包括标题；\n- `dev`  ：图片渲染格式，默认为 `png`。\n\n\n\n### 表格打印\n\n\n 默认表格输出格式为：\n\n| Option  | Description                                                |\n| :-----: | :--------------------------------------------------------- |\n| default | Call the `print.data.frame` generic method                 |\n|  kable  | Use the `knitr::kable` function                            |\n| tibble  | Use the `tibble::print.tbl_df` function                    |\n|  paged  | Use `rmarkdown::print.paged_df` to create a pageable table |\n\n设定为 paged 格式后输出形式为：\n\n```yaml 表格设置\n---\ntitle: \"Motor Trend Car Road Tests\"\noutput:\n  html_document:\n    df_print: paged\n---\n\n​``` {r, rows.print=5}\nmtcars\n​``` \n```\n\n\n![mtcars](https://bookdown.org/yihui/rmarkdown/images/paged.png)\n\n\nTABLE 3.2: The options for paged HTML tables. \n\n| Option         | Description                                           |\n| -------------- | ----------------------------------------------------- |\n| max.print      | The number of rows to print.                          |\n| max.print      | The number of rows to print.                          |\n| cols.print     | The number of columns to display.                     |\n| cols.min.print | The minimum number of columns to display.             |\n| pages.print    | The number of pages to display under page navigation. |\n| pages.print    | The number of pages to display under page navigation. |\n| rownames.print | When set to `FALSE` turns off row names.              |\n\n\n\n### 代码折叠\n\n```yaml 代码隐藏\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    code_folding: hide\n---\n```\n\n- `code_folding: hide` ：初始默认不显示代码，查看者可点击进行显示；\n- `code_folding: show` ：初始默认显示代码，查看者可点击进行隐藏；\n\n\n\n### 高级定制\n\n#### 保留 Markdown 文件\n\n当运行一个 R Markdown 文件（`*.Rmd`）时，将创造一个 Markdown 文件（`*.md`）并将该文件通过 Pandoc 转换为 HTML 文件。如果想要保留 Markdown 文件，可以使用 `keep_md` 选项：\n\n```yaml 保留 .md 文档\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    keep_md: true\n---\n```\n\n\n\n#### 添加本地 HTML 文档\n\n可以通过添加额外的 HTML 内容或完全替换核心 Pandoc 模板来完成更高级的输出定制。为了在文档头部或文档主体之前/之后包含内容，您可以使用以下选项： \n\n```yaml 添加 HTML 文档\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    includes:\n      in_header: header.html\n      before_body: doc_prefix.html\n      after_body: doc_suffix.html\n---\n```\n\n\n\n#### 自定义模板\n\n```yaml 自定义模板\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    template: quarterly_report.html\n---\n```\n\n有关模板的其他详细信息，请参考 [Pandoc 模板](http://pandoc.org/MANUAL.html#templates) 上的文档。您还可以研究默认的 HTML 模板 [`default.html5`](https://github.com/jgm/pandoc-templates/) 。\n\n\n\n其他类型文档格式控制方式类似，如欲详细了解请 [参考原作](https://bookdown.org/yihui/rmarkdown/documents.html) 。\n\n\n---\n","source":"_posts/2018-07-09-R-Markdown-数据报告生成利器.md","raw":"---\ntitle: 'R Markdown: 数据报告生成利器'\ndate: 2018-07-09 22:44:09\ncategories: R\ntags:\n    - R Markdown\n    - 数据报告\n    - 可重复性\n    - 可视化\nmathjax: true\n---\n\n<center>\n    <i>   \n        R Markdown 站在 knitr 和 Pandoc 的肩膀上，前者执行嵌入于文档中的计算机代码，并将 R Markdown 转换为 Markdown；后者将 Markdown 呈现出您想要的输出格式（如 PDF、HTML、Word 等）\n    </i>\n</center>\n\n<br>![R Markdown](http://pblv0vj27.bkt.clouddn.com/hex-rmarkdown.png)\n<!--more-->\n\n此篇文章翻译自谢益辉新书 [《R Markdown: The Definitive Guide》](https://bookdown.org/yihui/rmarkdown/) 的前三章节，内容有所删减，主要介绍了 R Markdown 的相关结构及语法规则，如果想了解更多更详细的内容推荐您阅读原书。\n\n# 安装\n\n这里假设您已经安装了 R ([https://www.r-project.org](https://www.r-project.org/))  和 RStudio IDE ([https://www.rstudio.com](https://www.rstudio.com/)) 。Rstudio 并不是必须的，但安装它会使您更加容易地使用 R Markdown。如果您没有安装 RStudio IDE，您将不得不安装 Pandoc（ [http://pandoc.org](http://pandoc.org) ），否则就不需要单独安装 Pandoc，因为在安装 RStudio 时已经将它捆绑安装了。接下来，您可以在 R 中安装 `rmarkdown` 包： \n\n```R 安装 rmarkdown 包的两种方式\n# Install from CRAN\ninstall.packages('rmarkdown')\n\n# Or if you want to test the development version,\n# install from GitHub\nif (!requireNamespace(\"devtools\"))\n  install.packages('devtools')\ndevtools::install_github('rstudio/rmarkdown')\n```\n\n如果您想要生成 PDF 类型文档输出，您将需要安装 LaTeX 。对于那些以前没有安装过 LaTeX 的 R Markdown 用户，我们建议您安装 TinyTeX（https://yihui./tinytex/）： \n\n```R 安装 tinytex 包\ninstall.packages(\"tinytex\")\ntinytex::install_tinytex()  # install TinyTeX\n```\n\nTinyTeX 相当于一款轻量级、跨平台、易于维护的 LaTeX 。在将 LaTeX  或 R Markdown 文档编译成 PDF 时，`tinytex` 可以帮助您自动安装所需的相关 R 包，同时还能确保一个 LaTeX  文档被编译成正确的次数，以解决所有的交叉引用问题。如果您不明白这两件事是什么意思，应该按照我们的建议来安装 TinyTeX，因为这些细节往往并不值得您花费时间和精力去关心。 \n\n使用 `rmarkdown` 包、RStudio/Pandoc 和 LaTeX，您应该能够编译大多数R Markdown 文档。在某些情况下，您可能需要其他软件包，我们将在必要时提到它们。 \n\n\n\n> **参考文献**\n>\n> - R Core Team. 2018. *R: A Language and Environment for Statistical Computing*. Vienna, Austria: R Foundation for Statistical Computing. [https://www.R-project.org/](https://www.r-project.org/).\n> - Xie, Yihui. 2018f. *Tinytex: Helper Functions to Install and Maintain Tex Live, and Compile Latex Documents*. <https://github.com/yihui/tinytex>.\n\n\n\n\n\n----\n\n\n\n# 基础知识\n\nR Markdown 为数据科学提供了一个创作框架。R Markdown 能胜任以下两个任务：\n\n- 保存并执行代码；\n- 生成可共享的高质量报告。\n\nR Markdown 的设计初衷是为了更容易地实现报告内容的可重复性，这是因为计算代码和叙述都在同一个文档中，结果是由源代码自动生成的。并且 R Markdown 支持数十种静态和动态/交互式输出格式。 \n\n如果您更喜欢观看视频进行学习，我们建议您查看网站 [https://rmarkdown.rstudio.com](https://rmarkdown.rstudio.com)，并在 “Get Started ” 中观看视频，其中包括了 R Markdown 的基础知识。 \n\n\n\n## 文档结构\n\n下面是一份非常简易的 R Markdown 文档，是一个带有 `.Rmd` 拓展名的纯文本文档。\n\n```yaml YAML 元数据\n---\ntitle: \"Hello R Markdown\"\nauthor: \"Awesome Me\"\ndate: \"2018-02-14\"\noutput: html_document\n---\n```\n\n~~~markdown 主体内容\nThis is a paragraph in an R Markdown document.\n\nBelow is a code chunk:\n\n```{r}\nfit = lm(dist ~ speed, data = cars)\nb   = coef(fit)\nplot(cars)\nabline(fit)\n```\n\nThe slope of the regression is `r b[1]`.\n```\n~~~\n\n您可以使用任何文本编辑器（包括但不限于 RStudio）来创建这样的文本文档。如果使用 RStudio，您可以从 `File -> New File -> R Markdown ` 中创建一个新的 Rmd 文档。 \n\n一份 R Markdown 文档有三个基础组成部分：元数据，文本和代码。元数据是在三个连接符 `---` 之间的内容。元数据的语法是 YAML（ [YAML 不是标记语言](https://en.wikipedia.org/wiki/YAML) ），所以有时它也被称为 YAML metadata 或 YAML frontmatter。 需要注意的是，缩进在 YAML 中十分重要，忽视它会让你付出惨重代价。请参阅谢益辉所写的 《bookdown》（2016）一书中的 [附录b.2](https://bookdown.org/yihui/bookdown/r-markdown.html) 来了解一些简单的例子，这些示例展示了 YAML 语法。\n\n文档的主体遵循元数据书写的规则。文本的语法是 Markdown，将在第 2.5 节中进行介绍。有两种类型的计算机代码，在第 2.6 节中进行了详细解释： \n\n- **代码块**：以三个重音符及所使用语言开始，其中 `r` 代表所使用的程序语言，并以三个重音符结束。 可以在花括号中填写块选项（如：将图形高度设置为5英寸：`{r, fig.height=5}`）。\n- **内联代码**：以 ``r` 开始，并以单个重音符结束。\n\n\n\n## 文档编译\n\n最简单的方式莫过于在 RStudio 中单击 `Knit` 按钮，对应的快捷键为 `Ctrl + Shift + K` （在 macOS 中为 `Cmd + Shift + K`）。当然也可以直接运行代码 `rmarkdown::render` 来进行渲染编译，如：\n\n```R 文档渲染编译\nrmarkdown::render('foo.Rmd', 'pdf_document')\n```\n\n当编译多个文档时，使用函数更加方便，因为可以直接使用循环来进行渲染编译。\n\n\n\n## 参考卡片\n\nRStudio 已经创建了大量的参考卡片，它们可以在 https://www.rstudio.com/resources/cheatsheets/ 上免费获得。\n\n\n\n## 输出格式\n\n有两种输出格式：documents 和 presentations 。所有可用的格式如下所示 ：\n\n- `beamer_presentation`\n- `github_document`\n- `html_document`\n- `ioslides_presentation`\n- `latex_document`\n- `md_document`\n- `odt_document`\n- `pdf_document`\n- `powerpoint_presentation`\n- `rtf_document`\n- `slidy_presentation`\n- `word_document`\n\n我们将在第 3 章和第 4 章详细地记录这些输出格式。在其他扩展包中提供了更多的输出格式（从第 5 章开始）。对于 Rmd 文件的 YAML 元数据中的输出格式名称，如果格式来自扩展包，您需要包含包名（若格式来自于 `rmarkdown` 包，则不需要 `rmarkdown::`前缀 ），例如：\n\n```yaml 输出格式设置\noutput: tufte::tufte_html\n```\n\n每种输出格式通常都有多种格式选项。所有这些选项都记录在 R 包 help 页面上。例如，您可以在 R 中键入 `?rmarkdown::` 打开关于 `html_document` 格式的 help 页面。当您想要使用某些选项时，必须将这些值从 R 转换成 YAML，例如：\n\n```R ?rmarkdown::\nhtml_document(toc = TRUE, toc_depth = 2, dev = 'svg')\n```\n\n可以用 YAML 写为： \n\n```yaml 输出格式参数设置\noutput:\n  html_document:\n    toc: true\n    toc_depth: 2\n    dev: 'svg'\n```\n\nYAML 中的字符串通常不需要引号（``dev：“svg”` 和 `dev:svg` 是相同的），除非它们包含特殊字符，比如冒号 `：`。如果您不确定是否应该引用字符串，那么用 `yaml` 包来测试它，例如：\n\n```R YAML 语法\ncat(yaml::as.yaml(list(\n  title = 'A Wonderful Day',\n  subtitle = 'hygge: a quality of coziness'\n)))\n\n## title: A Wonderful Day\n## subtitle: 'hygge: a quality of coziness'\n```\n\n注意，上面例子中的副标题是由于冒号而引用单引号的。\n\n \n\n如果某一选项有子选项（这意味着该选项的值是 R 中的列表），则子选项需要进一步缩进，例如：\n\n```yaml 子选项-缩进\noutput:\n  html_document:\n    toc: true\n    includes:\n      in_header: header.html\n      before_body: before.html\n```\n\n一些选项将被传递给 **knitr** ，比如 `dev`、`fig_width` 和 `fig_height`。这些选项的详细文档可以在 [knitr 文档页面](<https://yihui.name/knitr/options/> ) 上找到。请注意，实际的 knitr 选项名称可能有所不同。特别是，knitr 在名称中使用 `.`，但 rmarkdown 使用 `_`，例如，在 rmarkdown 中，`fig_width`  对应于knitr 中的 `fig.width` 。\n\n一些选项将被传递给 **Pandoc**，比如 `toc`、`toc_depth` 和 `number_sections` 。当有疑问时，您应该参考 Pandoc 文档。R Markdown 输出格式函数通常有一个`pandoc_args`  参数，它应该是传递给 Pandoc 的参数的字符向量。如果您发现任何没有由输出格式参数表示的 Pandoc 特性，您可以使用这个终极论证，例如：\n\n```yaml pandoc_args 参数\noutput:\n  pdf_document:\n    toc: true\n    pandoc_args: [\"--wrap=none\", \"--top-level-division=chapter\"]\n```\n\n\n\n## Markdown 语法\n\n### 内联格式\n\n- *斜体* ：`_text_` 或 `*text*` \n\n- **粗体** ：`**text** `\n\n- 下标 ：`H~3~PO~4~`  渲染为 $H_3PO_4$ \n\n- 上标 ：`Cu^2+^`  渲染为 $Cu^{2+}$ \n\n- 脚注 ： `^[This is a footnote.]` \n\n- 内联代码 ：`` `code` `` , 可以使用 n+1 个重音符输出包含 n 个重音符的代码块。\n\n- 超链接 ：`[text](link) ` \n\n- 图片链接 ： `![alt text or image title](path/to/image)`\n\n- 引用 ： \n\n  ```ruby 书籍引用\n  @Manual{R-base,\n    title = {R: A Language and Environment for Statistical\n      Computing},\n    author = {{R Core Team}},\n    organization = {R Foundation for Statistical Computing},\n    address = {Vienna, Austria},\n    year = {2017},\n    url = {https://www.R-project.org/},\n  }\n  ```\n\n\n\n### 块级元素\n\n- **标题**\n\n  ```Markdown 三级标题的书写\n  # First-level header\n  \n  ## Second-level header\n  \n  ### Third-level header\n  ```\n\n  如果不想让某个标题被编号，可以在标题后面添加 `{-}` 或者 `{.unnumbered}`，如：\n\n  ```Markdown 标题不编号\n  # Preface {-} \n  ```\n\n- **无序列表**\n\n  ```Markdown 无序列表\n  - one item\n  - one item\n  - one item\n    - one more item\n    - one more item\n    - one more item\n  ```\n\n- **有序列表**\n\n  ```Markdown 有序列表\n  1. the first item\n  2. the second item\n  3. the third item\n    - one unordered item\n    - one unordered item\n  ```\n\n- **引用**\n\n  ```Markdown 名言引用\n  > \"I thoroughly disapprove of duels. If a man should challenge me,\n    I would take him kindly and forgivingly by the hand and lead him\n    to a quiet place and kill him.\"\n  >\n  >                                                 --- Mark Twain\n  ```\n\n  > \"I thoroughly disapprove of duels. If a man should challenge me,\n  > I would take him kindly and forgivingly by the hand and lead him\n  > to a quiet place and kill him.\"\n  >\n  > ​                                               --- Mark Twain\n\n- **代码块**\n\n  ~~~Markdown 代码块\n  ```\n  This text is displayed verbatim / preformatted\n  ```\n  \n  Or indent by four spaces:\n  \n      This text is displayed verbatim / preformatted\n  ~~~\n\n\n\n### 数学表达式\n\n`$f(k) = {n \\choose k} p^{k} (1-p)^{n-k}$ ` :  $f(k) = {n \\choose k} p^{k} (1-p)^{n-k}$ \n\n`$$f(k) = {n \\choose k} p^{k} (1-p)^{n-k}$$ ` : \n\n$$\nf(k) = {n \\choose k} p^{k} (1-p)^{n-k}\n$$\n\n\n\n---\n\n\n\n## 代码块选项\n\n单击 `Insert` 按钮，对应快捷键为 `Ctrl + Alt + I` （macOS：`Cmd + Option + I` ）。\n\n\n在 <https://yihui.name/knitr/options> 中有大量的代码块可选项，在此我们列出常用的一部分：\n\n- `eval=TRUE` ：执行当前代码块；\n\n  ~~~R eval 巧用\n  ```{r}\n  # execute code if the date is later than a specified day\n  do_it = Sys.Date() > '2018-02-14'\n  ```\n  \n  ```{r, eval=do_it}\n  x = rnorm(100)\n  ```\n  ~~~\n\n- `echo=TRUE` ：输出源代码；\n\n- `result` ：当设置为 `'hide'` ，文本输出将被隐藏；当设置为 `'asis'` ，文本输出将被 “原样” 书写。\n\n- `collapse=TRUE` ：将文本输出和源代码合并为单个代码块输出，更加紧凑；\n\n- `warning`, `message`,  `error` ：是否在输出文档中显示警告、消息和错误；\n\n- `include=FALSE` ：运行当前代码并且不显示任何源代码与输出结果；\n\n- `cache` ：是否启用高速缓存。如果启用了缓存，则在下一次编译文档时不会对相同的代码块进行评估（如果代码块没有被修改），这将节省您的时间；\n\n- `fig.width`，`fig.height` ：（图形设备）块的大小（英寸）。注意：`fig.dim = c(6, 4)` 意味着 `fig.width = 6` 并且 `fig.height = 4`；\n\n- `out.width`， `out.height` ：输出文档中 R 图片的输出大小。可以使用百分比，例如 `out.width = '80%'` 表示页面宽度的 80%； \n\n- `fig.align` ：图片的对齐方式；\n\n- `dev` ：图形设备保存 R 图片的格式。如 `'pdf'`, `'png'`, `'svg'`, `'jpeg'`；\n\n- `fig.cap` ：图片标题；\n\n- `child` ：您可以在主文档中包含子文档。这个选项选择一条通向外部文件的路径。 \n\n\n\n如果某个选项需要经常被设置为多个代码块中的值，您可以考虑在文档的第一个代码块中全局设置它：\n\n~~~R 全局设置\n```{r, setup, include=FALSE}\nknitr::opts_chunk$set(fig.width = 8, collapse = TRUE)\n```\n~~~\n\n\n\n### 图片\n\n本地图片亦可以使用代码块选项进行调节，例如：\n\n~~~R 本地图片选项\n```{r, out.width='25%', fig.align='center', fig.cap='...'}\nknitr::include_graphics('images/hex-rmarkdown.png')\n```\n~~~\n\n如果您想要淡入一个不是由 R 代码生成的图形，您可以使用 `knitr::include_graphics()`  函数，它使您能够更好地控制图像的属性，而不是像 `![alt text or image title](path/to/image)` 这样的 Markdown 语法难以调解图片属性。 \n\n\n\n### 表格\n\n使用 `knitr::kable()`  函数可以简易的创建表格，表格标题可以通过 `caption`  来设置，例如：\n\n~~~R 表格选项\n```{r tables-mtcars}\nknitr::kable(iris[1:5, ], caption = 'A caption')\n```\n~~~\n\n如果您正在寻找更高级的表格样式控制，建议您使用 [kableExtra](https://cran.r-project.org/package=kableExtra) 包，它提供了定制 PDF 和 HTML 表格外观的功能。在第 12.3 节中解释了 `bookdown` 包如何扩展 rmarkdown 的功能，以允许在文本中轻松地交叉引用数字和表格。 \n\n\n\n> **参考文献**\n>\n> - Xie, Yihui. 2015. *Dynamic Documents with R and Knitr*. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. <https://yihui.name/knitr/>. \n\n\n\n\n\n---\n\n\n\n# 输出文档\n\n## HTML 文档\n\n为了输出 HTML 文档，首先要在 YAML 元数据中写入 `output: html_document` ：\n\n```yaml\n---\ntitle: Habits\nauthor: John Doe\ndate: March 22, 2005\noutput: html_document\n---\n```\n\n\n\n### 目录（Table of contents）\n\n```yaml 目录可选项\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    toc: true\n    toc_depth: 2\n    toc_float:\n        collapsed: false\n        smooth_scroll: false\n---\n```\n\n- `toc: true` ：输出目录；\n- `toc_depth` ：所输出标题的最小级别；\n- `toc_float: true` ：目录悬停于内容左侧，并一直可见；\n- `collapsed` (默认为 `TRUE`)  ：初始只显示顶级标题，随内容滚动目录逐级展开；\n- `smooth_scroll` (默认为 `TRUE`) ：点击目录标题是否导航到指定内容。\n\n\n\n### 目录编号 (Section numbering) \n\n```yaml 目录编号\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    toc: true\n    number_sections: true\n---\n```\n\n注意，如果文档中没有一级标题，那么二级标题将被命名为 `0.1`, `0.2` ……\n\n\n\n### 选项卡 (Tabbed sections)\n\n```markdown 选项卡\n## Quarterly Results {.tabset .tabset-fade .tabset-pills}\n\n### By Product\n\n(tab content)\n\n### By Region\n\n(tab content)\n```\n\n\n![Tabbed sections](https://bookdown.org/yihui/rmarkdown/images/tabset.png)\n\n\n- `.tabset`  ：使主标题的所有子标题与 .tabset 属性一起出现在选项卡中，而不是作为独立的部分；\n- `.tabset-fade`  ：选项卡切换时淡入淡出；\n- `.tabset-pills`  ：改变选项卡外观，使其类似 “药丸”。\n\n\n\n### 外观与风格\n\n```yaml 主题与高亮\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    theme: united\n    highlight: tango\n---\n```\n\n- `theme`  ：主题是从 [Bootswatch](https://bootswatch.com/3/) 主题库中提取的，适用的主题包括：`default`, `cerulean`, `journal`, `flatly`, `readable`, `spacelab`, `united`, `cosmo`, `lumen`, `paper`, `sandstone`, `simplex`, 和 `yeti`. \n- `highlight` ：代码高亮模式。支持的风格包括： `default`,  `tango`,  `pygments`,  `kate`,  `monochrome`,  `espresso`,  `zenburn`,  `haddock` 和 `textmate`.  \n\n\n\n### 图片选项\n\n```yaml 图片选项\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    fig_width: 7\n    fig_height: 6\n    fig_caption: true\n---\n```\n\n- `fig_width` 和 `fig_height`  ：图片宽度和高度；\n- `fig_caption`  ：控制图片是否包括标题；\n- `dev`  ：图片渲染格式，默认为 `png`。\n\n\n\n### 表格打印\n\n\n 默认表格输出格式为：\n\n| Option  | Description                                                |\n| :-----: | :--------------------------------------------------------- |\n| default | Call the `print.data.frame` generic method                 |\n|  kable  | Use the `knitr::kable` function                            |\n| tibble  | Use the `tibble::print.tbl_df` function                    |\n|  paged  | Use `rmarkdown::print.paged_df` to create a pageable table |\n\n设定为 paged 格式后输出形式为：\n\n```yaml 表格设置\n---\ntitle: \"Motor Trend Car Road Tests\"\noutput:\n  html_document:\n    df_print: paged\n---\n\n​``` {r, rows.print=5}\nmtcars\n​``` \n```\n\n\n![mtcars](https://bookdown.org/yihui/rmarkdown/images/paged.png)\n\n\nTABLE 3.2: The options for paged HTML tables. \n\n| Option         | Description                                           |\n| -------------- | ----------------------------------------------------- |\n| max.print      | The number of rows to print.                          |\n| max.print      | The number of rows to print.                          |\n| cols.print     | The number of columns to display.                     |\n| cols.min.print | The minimum number of columns to display.             |\n| pages.print    | The number of pages to display under page navigation. |\n| pages.print    | The number of pages to display under page navigation. |\n| rownames.print | When set to `FALSE` turns off row names.              |\n\n\n\n### 代码折叠\n\n```yaml 代码隐藏\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    code_folding: hide\n---\n```\n\n- `code_folding: hide` ：初始默认不显示代码，查看者可点击进行显示；\n- `code_folding: show` ：初始默认显示代码，查看者可点击进行隐藏；\n\n\n\n### 高级定制\n\n#### 保留 Markdown 文件\n\n当运行一个 R Markdown 文件（`*.Rmd`）时，将创造一个 Markdown 文件（`*.md`）并将该文件通过 Pandoc 转换为 HTML 文件。如果想要保留 Markdown 文件，可以使用 `keep_md` 选项：\n\n```yaml 保留 .md 文档\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    keep_md: true\n---\n```\n\n\n\n#### 添加本地 HTML 文档\n\n可以通过添加额外的 HTML 内容或完全替换核心 Pandoc 模板来完成更高级的输出定制。为了在文档头部或文档主体之前/之后包含内容，您可以使用以下选项： \n\n```yaml 添加 HTML 文档\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    includes:\n      in_header: header.html\n      before_body: doc_prefix.html\n      after_body: doc_suffix.html\n---\n```\n\n\n\n#### 自定义模板\n\n```yaml 自定义模板\n---\ntitle: \"Habits\"\noutput:\n  html_document:\n    template: quarterly_report.html\n---\n```\n\n有关模板的其他详细信息，请参考 [Pandoc 模板](http://pandoc.org/MANUAL.html#templates) 上的文档。您还可以研究默认的 HTML 模板 [`default.html5`](https://github.com/jgm/pandoc-templates/) 。\n\n\n\n其他类型文档格式控制方式类似，如欲详细了解请 [参考原作](https://bookdown.org/yihui/rmarkdown/documents.html) 。\n\n\n---\n","slug":"2018-07-09-R-Markdown-数据报告生成利器","published":1,"updated":"2018-07-09T15:34:58.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjn6z60jo000ujsuvx4ik3rxt","content":"<center>\n    <i>   \n        R Markdown 站在 knitr 和 Pandoc 的肩膀上，前者执行嵌入于文档中的计算机代码，并将 R Markdown 转换为 Markdown；后者将 Markdown 呈现出您想要的输出格式（如 PDF、HTML、Word 等）\n    </i>\n</center>\n\n<p><br><img src=\"http://pblv0vj27.bkt.clouddn.com/hex-rmarkdown.png\" alt=\"R Markdown\"><br><a id=\"more\"></a></p>\n<p>此篇文章翻译自谢益辉新书 <a href=\"https://bookdown.org/yihui/rmarkdown/\" target=\"_blank\" rel=\"noopener\">《R Markdown: The Definitive Guide》</a> 的前三章节，内容有所删减，主要介绍了 R Markdown 的相关结构及语法规则，如果想了解更多更详细的内容推荐您阅读原书。</p>\n<h1 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h1><p>这里假设您已经安装了 R (<a href=\"https://www.r-project.org/\" target=\"_blank\" rel=\"noopener\">https://www.r-project.org</a>)  和 RStudio IDE (<a href=\"https://www.rstudio.com/\" target=\"_blank\" rel=\"noopener\">https://www.rstudio.com</a>) 。Rstudio 并不是必须的，但安装它会使您更加容易地使用 R Markdown。如果您没有安装 RStudio IDE，您将不得不安装 Pandoc（ <a href=\"http://pandoc.org\" target=\"_blank\" rel=\"noopener\">http://pandoc.org</a> ），否则就不需要单独安装 Pandoc，因为在安装 RStudio 时已经将它捆绑安装了。接下来，您可以在 R 中安装 <code>rmarkdown</code> 包： </p>\n<figure class=\"highlight r\"><figcaption><span>安装 rmarkdown 包的两种方式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Install from CRAN</span></span><br><span class=\"line\">install.packages(<span class=\"string\">'rmarkdown'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Or if you want to test the development version,</span></span><br><span class=\"line\"><span class=\"comment\"># install from GitHub</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (!requireNamespace(<span class=\"string\">\"devtools\"</span>))</span><br><span class=\"line\">  install.packages(<span class=\"string\">'devtools'</span>)</span><br><span class=\"line\">devtools::install_github(<span class=\"string\">'rstudio/rmarkdown'</span>)</span><br></pre></td></tr></table></figure>\n<p>如果您想要生成 PDF 类型文档输出，您将需要安装 LaTeX 。对于那些以前没有安装过 LaTeX 的 R Markdown 用户，我们建议您安装 TinyTeX（<a href=\"https://yihui./tinytex/）：\" target=\"_blank\" rel=\"noopener\">https://yihui./tinytex/）：</a> </p>\n<figure class=\"highlight r\"><figcaption><span>安装 tinytex 包</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">install.packages(<span class=\"string\">\"tinytex\"</span>)</span><br><span class=\"line\">tinytex::install_tinytex()  <span class=\"comment\"># install TinyTeX</span></span><br></pre></td></tr></table></figure>\n<p>TinyTeX 相当于一款轻量级、跨平台、易于维护的 LaTeX 。在将 LaTeX  或 R Markdown 文档编译成 PDF 时，<code>tinytex</code> 可以帮助您自动安装所需的相关 R 包，同时还能确保一个 LaTeX  文档被编译成正确的次数，以解决所有的交叉引用问题。如果您不明白这两件事是什么意思，应该按照我们的建议来安装 TinyTeX，因为这些细节往往并不值得您花费时间和精力去关心。 </p>\n<p>使用 <code>rmarkdown</code> 包、RStudio/Pandoc 和 LaTeX，您应该能够编译大多数R Markdown 文档。在某些情况下，您可能需要其他软件包，我们将在必要时提到它们。 </p>\n<blockquote>\n<p><strong>参考文献</strong></p>\n<ul>\n<li>R Core Team. 2018. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href=\"https://www.r-project.org/\" target=\"_blank\" rel=\"noopener\">https://www.R-project.org/</a>.</li>\n<li>Xie, Yihui. 2018f. <em>Tinytex: Helper Functions to Install and Maintain Tex Live, and Compile Latex Documents</em>. <a href=\"https://github.com/yihui/tinytex\" target=\"_blank\" rel=\"noopener\">https://github.com/yihui/tinytex</a>.</li>\n</ul>\n</blockquote>\n<hr>\n<h1 id=\"基础知识\"><a href=\"#基础知识\" class=\"headerlink\" title=\"基础知识\"></a>基础知识</h1><p>R Markdown 为数据科学提供了一个创作框架。R Markdown 能胜任以下两个任务：</p>\n<ul>\n<li>保存并执行代码；</li>\n<li>生成可共享的高质量报告。</li>\n</ul>\n<p>R Markdown 的设计初衷是为了更容易地实现报告内容的可重复性，这是因为计算代码和叙述都在同一个文档中，结果是由源代码自动生成的。并且 R Markdown 支持数十种静态和动态/交互式输出格式。 </p>\n<p>如果您更喜欢观看视频进行学习，我们建议您查看网站 <a href=\"https://rmarkdown.rstudio.com\" target=\"_blank\" rel=\"noopener\">https://rmarkdown.rstudio.com</a>，并在 “Get Started ” 中观看视频，其中包括了 R Markdown 的基础知识。 </p>\n<h2 id=\"文档结构\"><a href=\"#文档结构\" class=\"headerlink\" title=\"文档结构\"></a>文档结构</h2><p>下面是一份非常简易的 R Markdown 文档，是一个带有 <code>.Rmd</code> 拓展名的纯文本文档。</p>\n<figure class=\"highlight yaml\"><figcaption><span>YAML 元数据</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Hello R Markdown\"</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">\"Awesome Me\"</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"string\">\"2018-02-14\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span> <span class=\"string\">html_document</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight markdown\"><figcaption><span>主体内容</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">This is a paragraph in an R Markdown document.</span><br><span class=\"line\"></span><br><span class=\"line\">Below is a code chunk:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"code\">```&#123;r&#125;</span></span><br><span class=\"line\"><span class=\"code\">fit = lm(dist ~ speed, data = cars)</span></span><br><span class=\"line\"><span class=\"code\">b   = coef(fit)</span></span><br><span class=\"line\"><span class=\"code\">plot(cars)</span></span><br><span class=\"line\"><span class=\"code\">abline(fit)</span></span><br><span class=\"line\"><span class=\"code\">```</span></span><br><span class=\"line\"></span><br><span class=\"line\">The slope of the regression is <span class=\"code\">`r b[1]`</span>.</span><br><span class=\"line\"><span class=\"code\">```</span></span><br></pre></td></tr></table></figure>\n<p>您可以使用任何文本编辑器（包括但不限于 RStudio）来创建这样的文本文档。如果使用 RStudio，您可以从 <code>File -&gt; New File -&gt; R Markdown</code> 中创建一个新的 Rmd 文档。 </p>\n<p>一份 R Markdown 文档有三个基础组成部分：元数据，文本和代码。元数据是在三个连接符 <code>---</code> 之间的内容。元数据的语法是 YAML（ <a href=\"https://en.wikipedia.org/wiki/YAML\" target=\"_blank\" rel=\"noopener\">YAML 不是标记语言</a> ），所以有时它也被称为 YAML metadata 或 YAML frontmatter。 需要注意的是，缩进在 YAML 中十分重要，忽视它会让你付出惨重代价。请参阅谢益辉所写的 《bookdown》（2016）一书中的 <a href=\"https://bookdown.org/yihui/bookdown/r-markdown.html\" target=\"_blank\" rel=\"noopener\">附录b.2</a> 来了解一些简单的例子，这些示例展示了 YAML 语法。</p>\n<p>文档的主体遵循元数据书写的规则。文本的语法是 Markdown，将在第 2.5 节中进行介绍。有两种类型的计算机代码，在第 2.6 节中进行了详细解释： </p>\n<ul>\n<li><strong>代码块</strong>：以三个重音符及所使用语言开始，其中 <code>r</code> 代表所使用的程序语言，并以三个重音符结束。 可以在花括号中填写块选项（如：将图形高度设置为5英寸：<code>{r, fig.height=5}</code>）。</li>\n<li><strong>内联代码</strong>：以 <code>`r</code> 开始，并以单个重音符结束。</li>\n</ul>\n<h2 id=\"文档编译\"><a href=\"#文档编译\" class=\"headerlink\" title=\"文档编译\"></a>文档编译</h2><p>最简单的方式莫过于在 RStudio 中单击 <code>Knit</code> 按钮，对应的快捷键为 <code>Ctrl + Shift + K</code> （在 macOS 中为 <code>Cmd + Shift + K</code>）。当然也可以直接运行代码 <code>rmarkdown::render</code> 来进行渲染编译，如：</p>\n<figure class=\"highlight r\"><figcaption><span>文档渲染编译</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rmarkdown::render(<span class=\"string\">'foo.Rmd'</span>, <span class=\"string\">'pdf_document'</span>)</span><br></pre></td></tr></table></figure>\n<p>当编译多个文档时，使用函数更加方便，因为可以直接使用循环来进行渲染编译。</p>\n<h2 id=\"参考卡片\"><a href=\"#参考卡片\" class=\"headerlink\" title=\"参考卡片\"></a>参考卡片</h2><p>RStudio 已经创建了大量的参考卡片，它们可以在 <a href=\"https://www.rstudio.com/resources/cheatsheets/\" target=\"_blank\" rel=\"noopener\">https://www.rstudio.com/resources/cheatsheets/</a> 上免费获得。</p>\n<h2 id=\"输出格式\"><a href=\"#输出格式\" class=\"headerlink\" title=\"输出格式\"></a>输出格式</h2><p>有两种输出格式：documents 和 presentations 。所有可用的格式如下所示 ：</p>\n<ul>\n<li><code>beamer_presentation</code></li>\n<li><code>github_document</code></li>\n<li><code>html_document</code></li>\n<li><code>ioslides_presentation</code></li>\n<li><code>latex_document</code></li>\n<li><code>md_document</code></li>\n<li><code>odt_document</code></li>\n<li><code>pdf_document</code></li>\n<li><code>powerpoint_presentation</code></li>\n<li><code>rtf_document</code></li>\n<li><code>slidy_presentation</code></li>\n<li><code>word_document</code></li>\n</ul>\n<p>我们将在第 3 章和第 4 章详细地记录这些输出格式。在其他扩展包中提供了更多的输出格式（从第 5 章开始）。对于 Rmd 文件的 YAML 元数据中的输出格式名称，如果格式来自扩展包，您需要包含包名（若格式来自于 <code>rmarkdown</code> 包，则不需要 <code>rmarkdown::</code>前缀 ），例如：</p>\n<figure class=\"highlight yaml\"><figcaption><span>输出格式设置</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">output:</span> <span class=\"attr\">tufte::tufte_html</span></span><br></pre></td></tr></table></figure>\n<p>每种输出格式通常都有多种格式选项。所有这些选项都记录在 R 包 help 页面上。例如，您可以在 R 中键入 <code>?rmarkdown::</code> 打开关于 <code>html_document</code> 格式的 help 页面。当您想要使用某些选项时，必须将这些值从 R 转换成 YAML，例如：</p>\n<figure class=\"highlight r\"><figcaption><span>?rmarkdown::</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">html_document(toc = <span class=\"literal\">TRUE</span>, toc_depth = <span class=\"number\">2</span>, dev = <span class=\"string\">'svg'</span>)</span><br></pre></td></tr></table></figure>\n<p>可以用 YAML 写为： </p>\n<figure class=\"highlight yaml\"><figcaption><span>输出格式参数设置</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    toc:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">    toc_depth:</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attr\">    dev:</span> <span class=\"string\">'svg'</span></span><br></pre></td></tr></table></figure>\n<p>YAML 中的字符串通常不需要引号（<code>`dev：“svg”</code> 和 <code>dev:svg</code> 是相同的），除非它们包含特殊字符，比如冒号 <code>：</code>。如果您不确定是否应该引用字符串，那么用 <code>yaml</code> 包来测试它，例如：</p>\n<figure class=\"highlight r\"><figcaption><span>YAML 语法</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat(yaml::as.yaml(list(</span><br><span class=\"line\">  title = <span class=\"string\">'A Wonderful Day'</span>,</span><br><span class=\"line\">  subtitle = <span class=\"string\">'hygge: a quality of coziness'</span></span><br><span class=\"line\">)))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## title: A Wonderful Day</span></span><br><span class=\"line\"><span class=\"comment\">## subtitle: 'hygge: a quality of coziness'</span></span><br></pre></td></tr></table></figure>\n<p>注意，上面例子中的副标题是由于冒号而引用单引号的。</p>\n<p>如果某一选项有子选项（这意味着该选项的值是 R 中的列表），则子选项需要进一步缩进，例如：</p>\n<figure class=\"highlight yaml\"><figcaption><span>子选项-缩进</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    toc:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">    includes:</span></span><br><span class=\"line\"><span class=\"attr\">      in_header:</span> <span class=\"string\">header.html</span></span><br><span class=\"line\"><span class=\"attr\">      before_body:</span> <span class=\"string\">before.html</span></span><br></pre></td></tr></table></figure>\n<p>一些选项将被传递给 <strong>knitr</strong> ，比如 <code>dev</code>、<code>fig_width</code> 和 <code>fig_height</code>。这些选项的详细文档可以在 <a href=\"https://yihui.name/knitr/options/\" target=\"_blank\" rel=\"noopener\">knitr 文档页面</a> 上找到。请注意，实际的 knitr 选项名称可能有所不同。特别是，knitr 在名称中使用 <code>.</code>，但 rmarkdown 使用 <code>_</code>，例如，在 rmarkdown 中，<code>fig_width</code>  对应于knitr 中的 <code>fig.width</code> 。</p>\n<p>一些选项将被传递给 <strong>Pandoc</strong>，比如 <code>toc</code>、<code>toc_depth</code> 和 <code>number_sections</code> 。当有疑问时，您应该参考 Pandoc 文档。R Markdown 输出格式函数通常有一个<code>pandoc_args</code>  参数，它应该是传递给 Pandoc 的参数的字符向量。如果您发现任何没有由输出格式参数表示的 Pandoc 特性，您可以使用这个终极论证，例如：</p>\n<figure class=\"highlight yaml\"><figcaption><span>pandoc_args 参数</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  pdf_document:</span></span><br><span class=\"line\"><span class=\"attr\">    toc:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">    pandoc_args:</span> <span class=\"string\">[\"--wrap=none\",</span> <span class=\"string\">\"--top-level-division=chapter\"</span><span class=\"string\">]</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Markdown-语法\"><a href=\"#Markdown-语法\" class=\"headerlink\" title=\"Markdown 语法\"></a>Markdown 语法</h2><h3 id=\"内联格式\"><a href=\"#内联格式\" class=\"headerlink\" title=\"内联格式\"></a>内联格式</h3><ul>\n<li><p><em>斜体</em> ：<code>_text_</code> 或 <code>*text*</code> </p>\n</li>\n<li><p><strong>粗体</strong> ：<code>**text**</code></p>\n</li>\n<li><p>下标 ：<code>H~3~PO~4~</code>  渲染为 $H_3PO_4$ </p>\n</li>\n<li><p>上标 ：<code>Cu^2+^</code>  渲染为 $Cu^{2+}$ </p>\n</li>\n<li><p>脚注 ： <code>^[This is a footnote.]</code> </p>\n</li>\n<li><p>内联代码 ：<code>`code` </code> , 可以使用 n+1 个重音符输出包含 n 个重音符的代码块。</p>\n</li>\n<li><p>超链接 ：<code>[text](link)</code> </p>\n</li>\n<li><p>图片链接 ： <code>![alt text or image title](path/to/image)</code></p>\n</li>\n<li><p>引用 ： </p>\n<figure class=\"highlight ruby\"><figcaption><span>书籍引用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Manual&#123;R-base,</span><br><span class=\"line\">  title = &#123;<span class=\"symbol\">R:</span> A Language <span class=\"keyword\">and</span> Environment <span class=\"keyword\">for</span> Statistical</span><br><span class=\"line\">    Computing&#125;,</span><br><span class=\"line\">  author = &#123;&#123;R Core Team&#125;&#125;,</span><br><span class=\"line\">  organization = &#123;R Foundation <span class=\"keyword\">for</span> Statistical Computing&#125;,</span><br><span class=\"line\">  address = &#123;Vienna, Austria&#125;,</span><br><span class=\"line\">  year = &#123;<span class=\"number\">2017</span>&#125;,</span><br><span class=\"line\">  url = &#123;<span class=\"symbol\">https:</span>/<span class=\"regexp\">/www.R-project.org/</span>&#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"块级元素\"><a href=\"#块级元素\" class=\"headerlink\" title=\"块级元素\"></a>块级元素</h3><ul>\n<li><p><strong>标题</strong></p>\n<figure class=\"highlight markdown\"><figcaption><span>三级标题的书写</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\"># First-level header</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">## Second-level header</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">### Third-level header</span></span><br></pre></td></tr></table></figure>\n<p>如果不想让某个标题被编号，可以在标题后面添加 <code>{-}</code> 或者 <code>{.unnumbered}</code>，如：</p>\n<figure class=\"highlight markdown\"><figcaption><span>标题不编号</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\"># Preface &#123;-&#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>无序列表</strong></p>\n<figure class=\"highlight markdown\"><figcaption><span>无序列表</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">- </span>one item</span><br><span class=\"line\"><span class=\"bullet\">- </span>one item</span><br><span class=\"line\"><span class=\"bullet\">- </span>one item</span><br><span class=\"line\">  - one more item</span><br><span class=\"line\">  - one more item</span><br><span class=\"line\">  - one more item</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>有序列表</strong></p>\n<figure class=\"highlight markdown\"><figcaption><span>有序列表</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">1. </span>the first item</span><br><span class=\"line\"><span class=\"bullet\">2. </span>the second item</span><br><span class=\"line\"><span class=\"bullet\">3. </span>the third item</span><br><span class=\"line\">  - one unordered item</span><br><span class=\"line\">  - one unordered item</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>引用</strong></p>\n<figure class=\"highlight markdown\"><figcaption><span>名言引用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"quote\">&gt; \"I thoroughly disapprove of duels. If a man should challenge me,</span></span><br><span class=\"line\">  I would take him kindly and forgivingly by the hand and lead him</span><br><span class=\"line\">  to a quiet place and kill him.\"</span><br><span class=\"line\">&gt;</span><br><span class=\"line\"><span class=\"quote\">&gt;                                                 --- Mark Twain</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>“I thoroughly disapprove of duels. If a man should challenge me,<br>I would take him kindly and forgivingly by the hand and lead him<br>to a quiet place and kill him.”</p>\n<p>​                                               —- Mark Twain</p>\n</blockquote>\n</li>\n<li><p><strong>代码块</strong></p>\n<figure class=\"highlight markdown\"><figcaption><span>代码块</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">```</span></span><br><span class=\"line\"><span class=\"code\">This text is displayed verbatim / preformatted</span></span><br><span class=\"line\"><span class=\"code\">```</span></span><br><span class=\"line\"></span><br><span class=\"line\">Or indent by four spaces:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"code\">    This text is displayed verbatim / preformatted</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"数学表达式\"><a href=\"#数学表达式\" class=\"headerlink\" title=\"数学表达式\"></a>数学表达式</h3><p><code>$f(k) = {n \\choose k} p^{k} (1-p)^{n-k}$</code> :  $f(k) = {n \\choose k} p^{k} (1-p)^{n-k}$ </p>\n<p><code>$$f(k) = {n \\choose k} p^{k} (1-p)^{n-k}$$</code> : </p>\n<script type=\"math/tex; mode=display\">\nf(k) = {n \\choose k} p^{k} (1-p)^{n-k}</script><hr>\n<h2 id=\"代码块选项\"><a href=\"#代码块选项\" class=\"headerlink\" title=\"代码块选项\"></a>代码块选项</h2><p>单击 <code>Insert</code> 按钮，对应快捷键为 <code>Ctrl + Alt + I</code> （macOS：<code>Cmd + Option + I</code> ）。</p>\n<p>在 <a href=\"https://yihui.name/knitr/options\" target=\"_blank\" rel=\"noopener\">https://yihui.name/knitr/options</a> 中有大量的代码块可选项，在此我们列出常用的一部分：</p>\n<ul>\n<li><p><code>eval=TRUE</code> ：执行当前代码块；</p>\n<figure class=\"highlight r\"><figcaption><span>eval 巧用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```&#123;r&#125;</span><br><span class=\"line\"># execute code if the date is later than a specified day</span><br><span class=\"line\">do_it = Sys.Date() &gt; '2018-02-14'</span><br><span class=\"line\">```</span><br><span class=\"line\"></span><br><span class=\"line\">```&#123;r, eval=do_it&#125;</span><br><span class=\"line\">x = rnorm(100)</span><br><span class=\"line\">```</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>echo=TRUE</code> ：输出源代码；</p>\n</li>\n<li><p><code>result</code> ：当设置为 <code>&#39;hide&#39;</code> ，文本输出将被隐藏；当设置为 <code>&#39;asis&#39;</code> ，文本输出将被 “原样” 书写。</p>\n</li>\n<li><p><code>collapse=TRUE</code> ：将文本输出和源代码合并为单个代码块输出，更加紧凑；</p>\n</li>\n<li><p><code>warning</code>, <code>message</code>,  <code>error</code> ：是否在输出文档中显示警告、消息和错误；</p>\n</li>\n<li><p><code>include=FALSE</code> ：运行当前代码并且不显示任何源代码与输出结果；</p>\n</li>\n<li><p><code>cache</code> ：是否启用高速缓存。如果启用了缓存，则在下一次编译文档时不会对相同的代码块进行评估（如果代码块没有被修改），这将节省您的时间；</p>\n</li>\n<li><p><code>fig.width</code>，<code>fig.height</code> ：（图形设备）块的大小（英寸）。注意：<code>fig.dim = c(6, 4)</code> 意味着 <code>fig.width = 6</code> 并且 <code>fig.height = 4</code>；</p>\n</li>\n<li><p><code>out.width</code>， <code>out.height</code> ：输出文档中 R 图片的输出大小。可以使用百分比，例如 <code>out.width = &#39;80%&#39;</code> 表示页面宽度的 80%； </p>\n</li>\n<li><p><code>fig.align</code> ：图片的对齐方式；</p>\n</li>\n<li><p><code>dev</code> ：图形设备保存 R 图片的格式。如 <code>&#39;pdf&#39;</code>, <code>&#39;png&#39;</code>, <code>&#39;svg&#39;</code>, <code>&#39;jpeg&#39;</code>；</p>\n</li>\n<li><p><code>fig.cap</code> ：图片标题；</p>\n</li>\n<li><p><code>child</code> ：您可以在主文档中包含子文档。这个选项选择一条通向外部文件的路径。 </p>\n</li>\n</ul>\n<p>如果某个选项需要经常被设置为多个代码块中的值，您可以考虑在文档的第一个代码块中全局设置它：</p>\n<figure class=\"highlight r\"><figcaption><span>全局设置</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```&#123;r, setup, include=FALSE&#125;</span><br><span class=\"line\">knitr::opts_chunk$set(fig.width = 8, collapse = TRUE)</span><br><span class=\"line\">```</span><br></pre></td></tr></table></figure>\n<h3 id=\"图片\"><a href=\"#图片\" class=\"headerlink\" title=\"图片\"></a>图片</h3><p>本地图片亦可以使用代码块选项进行调节，例如：</p>\n<figure class=\"highlight r\"><figcaption><span>本地图片选项</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```&#123;r, out.width='25%', fig.align='center', fig.cap='...'&#125;</span><br><span class=\"line\">knitr::include_graphics('images/hex-rmarkdown.png')</span><br><span class=\"line\">```</span><br></pre></td></tr></table></figure>\n<p>如果您想要淡入一个不是由 R 代码生成的图形，您可以使用 <code>knitr::include_graphics()</code>  函数，它使您能够更好地控制图像的属性，而不是像 <code>![alt text or image title](path/to/image)</code> 这样的 Markdown 语法难以调解图片属性。 </p>\n<h3 id=\"表格\"><a href=\"#表格\" class=\"headerlink\" title=\"表格\"></a>表格</h3><p>使用 <code>knitr::kable()</code>  函数可以简易的创建表格，表格标题可以通过 <code>caption</code>  来设置，例如：</p>\n<figure class=\"highlight r\"><figcaption><span>表格选项</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```&#123;r tables-mtcars&#125;</span><br><span class=\"line\">knitr::kable(iris[1:5, ], caption = 'A caption')</span><br><span class=\"line\">```</span><br></pre></td></tr></table></figure>\n<p>如果您正在寻找更高级的表格样式控制，建议您使用 <a href=\"https://cran.r-project.org/package=kableExtra\" target=\"_blank\" rel=\"noopener\">kableExtra</a> 包，它提供了定制 PDF 和 HTML 表格外观的功能。在第 12.3 节中解释了 <code>bookdown</code> 包如何扩展 rmarkdown 的功能，以允许在文本中轻松地交叉引用数字和表格。 </p>\n<blockquote>\n<p><strong>参考文献</strong></p>\n<ul>\n<li>Xie, Yihui. 2015. <em>Dynamic Documents with R and Knitr</em>. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. <a href=\"https://yihui.name/knitr/\" target=\"_blank\" rel=\"noopener\">https://yihui.name/knitr/</a>. </li>\n</ul>\n</blockquote>\n<hr>\n<h1 id=\"输出文档\"><a href=\"#输出文档\" class=\"headerlink\" title=\"输出文档\"></a>输出文档</h1><h2 id=\"HTML-文档\"><a href=\"#HTML-文档\" class=\"headerlink\" title=\"HTML 文档\"></a>HTML 文档</h2><p>为了输出 HTML 文档，首先要在 YAML 元数据中写入 <code>output: html_document</code> ：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">Habits</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">John</span> <span class=\"string\">Doe</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"string\">March</span> <span class=\"number\">22</span><span class=\"string\">,</span> <span class=\"number\">2005</span></span><br><span class=\"line\"><span class=\"attr\">output:</span> <span class=\"string\">html_document</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"目录（Table-of-contents）\"><a href=\"#目录（Table-of-contents）\" class=\"headerlink\" title=\"目录（Table of contents）\"></a>目录（Table of contents）</h3><figure class=\"highlight yaml\"><figcaption><span>目录可选项</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    toc:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">    toc_depth:</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attr\">    toc_float:</span></span><br><span class=\"line\"><span class=\"attr\">        collapsed:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">        smooth_scroll:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>toc: true</code> ：输出目录；</li>\n<li><code>toc_depth</code> ：所输出标题的最小级别；</li>\n<li><code>toc_float: true</code> ：目录悬停于内容左侧，并一直可见；</li>\n<li><code>collapsed</code> (默认为 <code>TRUE</code>)  ：初始只显示顶级标题，随内容滚动目录逐级展开；</li>\n<li><code>smooth_scroll</code> (默认为 <code>TRUE</code>) ：点击目录标题是否导航到指定内容。</li>\n</ul>\n<h3 id=\"目录编号-Section-numbering\"><a href=\"#目录编号-Section-numbering\" class=\"headerlink\" title=\"目录编号 (Section numbering)\"></a>目录编号 (Section numbering)</h3><figure class=\"highlight yaml\"><figcaption><span>目录编号</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    toc:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">    number_sections:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<p>注意，如果文档中没有一级标题，那么二级标题将被命名为 <code>0.1</code>, <code>0.2</code> ……</p>\n<h3 id=\"选项卡-Tabbed-sections\"><a href=\"#选项卡-Tabbed-sections\" class=\"headerlink\" title=\"选项卡 (Tabbed sections)\"></a>选项卡 (Tabbed sections)</h3><figure class=\"highlight markdown\"><figcaption><span>选项卡</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">## Quarterly Results &#123;.tabset .tabset-fade .tabset-pills&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">### By Product</span></span><br><span class=\"line\"></span><br><span class=\"line\">(tab content)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">### By Region</span></span><br><span class=\"line\"></span><br><span class=\"line\">(tab content)</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://bookdown.org/yihui/rmarkdown/images/tabset.png\" alt=\"Tabbed sections\"></p>\n<ul>\n<li><code>.tabset</code>  ：使主标题的所有子标题与 .tabset 属性一起出现在选项卡中，而不是作为独立的部分；</li>\n<li><code>.tabset-fade</code>  ：选项卡切换时淡入淡出；</li>\n<li><code>.tabset-pills</code>  ：改变选项卡外观，使其类似 “药丸”。</li>\n</ul>\n<h3 id=\"外观与风格\"><a href=\"#外观与风格\" class=\"headerlink\" title=\"外观与风格\"></a>外观与风格</h3><figure class=\"highlight yaml\"><figcaption><span>主题与高亮</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    theme:</span> <span class=\"string\">united</span></span><br><span class=\"line\"><span class=\"attr\">    highlight:</span> <span class=\"string\">tango</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>theme</code>  ：主题是从 <a href=\"https://bootswatch.com/3/\" target=\"_blank\" rel=\"noopener\">Bootswatch</a> 主题库中提取的，适用的主题包括：<code>default</code>, <code>cerulean</code>, <code>journal</code>, <code>flatly</code>, <code>readable</code>, <code>spacelab</code>, <code>united</code>, <code>cosmo</code>, <code>lumen</code>, <code>paper</code>, <code>sandstone</code>, <code>simplex</code>, 和 <code>yeti</code>. </li>\n<li><code>highlight</code> ：代码高亮模式。支持的风格包括： <code>default</code>,  <code>tango</code>,  <code>pygments</code>,  <code>kate</code>,  <code>monochrome</code>,  <code>espresso</code>,  <code>zenburn</code>,  <code>haddock</code> 和 <code>textmate</code>.  </li>\n</ul>\n<h3 id=\"图片选项\"><a href=\"#图片选项\" class=\"headerlink\" title=\"图片选项\"></a>图片选项</h3><figure class=\"highlight yaml\"><figcaption><span>图片选项</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    fig_width:</span> <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"attr\">    fig_height:</span> <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attr\">    fig_caption:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>fig_width</code> 和 <code>fig_height</code>  ：图片宽度和高度；</li>\n<li><code>fig_caption</code>  ：控制图片是否包括标题；</li>\n<li><code>dev</code>  ：图片渲染格式，默认为 <code>png</code>。</li>\n</ul>\n<h3 id=\"表格打印\"><a href=\"#表格打印\" class=\"headerlink\" title=\"表格打印\"></a>表格打印</h3><p> 默认表格输出格式为：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Option</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">default</td>\n<td style=\"text-align:left\">Call the <code>print.data.frame</code> generic method</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">kable</td>\n<td style=\"text-align:left\">Use the <code>knitr::kable</code> function</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">tibble</td>\n<td style=\"text-align:left\">Use the <code>tibble::print.tbl_df</code> function</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">paged</td>\n<td style=\"text-align:left\">Use <code>rmarkdown::print.paged_df</code> to create a pageable table</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>设定为 paged 格式后输出形式为：</p>\n<figure class=\"highlight yaml\"><figcaption><span>表格设置</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Motor Trend Car Road Tests\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    df_print:</span> <span class=\"string\">paged</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">​```</span> <span class=\"string\">&#123;r,</span> <span class=\"string\">rows.print=5&#125;</span></span><br><span class=\"line\"><span class=\"string\">mtcars</span></span><br><span class=\"line\"><span class=\"string\">​```</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://bookdown.org/yihui/rmarkdown/images/paged.png\" alt=\"mtcars\"></p>\n<p>TABLE 3.2: The options for paged HTML tables. </p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>Option</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>max.print</td>\n<td>The number of rows to print.</td>\n</tr>\n<tr>\n<td>max.print</td>\n<td>The number of rows to print.</td>\n</tr>\n<tr>\n<td>cols.print</td>\n<td>The number of columns to display.</td>\n</tr>\n<tr>\n<td>cols.min.print</td>\n<td>The minimum number of columns to display.</td>\n</tr>\n<tr>\n<td>pages.print</td>\n<td>The number of pages to display under page navigation.</td>\n</tr>\n<tr>\n<td>pages.print</td>\n<td>The number of pages to display under page navigation.</td>\n</tr>\n<tr>\n<td>rownames.print</td>\n<td>When set to <code>FALSE</code> turns off row names.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3 id=\"代码折叠\"><a href=\"#代码折叠\" class=\"headerlink\" title=\"代码折叠\"></a>代码折叠</h3><figure class=\"highlight yaml\"><figcaption><span>代码隐藏</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    code_folding:</span> <span class=\"string\">hide</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>code_folding: hide</code> ：初始默认不显示代码，查看者可点击进行显示；</li>\n<li><code>code_folding: show</code> ：初始默认显示代码，查看者可点击进行隐藏；</li>\n</ul>\n<h3 id=\"高级定制\"><a href=\"#高级定制\" class=\"headerlink\" title=\"高级定制\"></a>高级定制</h3><h4 id=\"保留-Markdown-文件\"><a href=\"#保留-Markdown-文件\" class=\"headerlink\" title=\"保留 Markdown 文件\"></a>保留 Markdown 文件</h4><p>当运行一个 R Markdown 文件（<code>*.Rmd</code>）时，将创造一个 Markdown 文件（<code>*.md</code>）并将该文件通过 Pandoc 转换为 HTML 文件。如果想要保留 Markdown 文件，可以使用 <code>keep_md</code> 选项：</p>\n<figure class=\"highlight yaml\"><figcaption><span>保留 .md 文档</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    keep_md:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"添加本地-HTML-文档\"><a href=\"#添加本地-HTML-文档\" class=\"headerlink\" title=\"添加本地 HTML 文档\"></a>添加本地 HTML 文档</h4><p>可以通过添加额外的 HTML 内容或完全替换核心 Pandoc 模板来完成更高级的输出定制。为了在文档头部或文档主体之前/之后包含内容，您可以使用以下选项： </p>\n<figure class=\"highlight yaml\"><figcaption><span>添加 HTML 文档</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    includes:</span></span><br><span class=\"line\"><span class=\"attr\">      in_header:</span> <span class=\"string\">header.html</span></span><br><span class=\"line\"><span class=\"attr\">      before_body:</span> <span class=\"string\">doc_prefix.html</span></span><br><span class=\"line\"><span class=\"attr\">      after_body:</span> <span class=\"string\">doc_suffix.html</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"自定义模板\"><a href=\"#自定义模板\" class=\"headerlink\" title=\"自定义模板\"></a>自定义模板</h4><figure class=\"highlight yaml\"><figcaption><span>自定义模板</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    template:</span> <span class=\"string\">quarterly_report.html</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<p>有关模板的其他详细信息，请参考 <a href=\"http://pandoc.org/MANUAL.html#templates\" target=\"_blank\" rel=\"noopener\">Pandoc 模板</a> 上的文档。您还可以研究默认的 HTML 模板 <a href=\"https://github.com/jgm/pandoc-templates/\" target=\"_blank\" rel=\"noopener\"><code>default.html5</code></a> 。</p>\n<p>其他类型文档格式控制方式类似，如欲详细了解请 <a href=\"https://bookdown.org/yihui/rmarkdown/documents.html\" target=\"_blank\" rel=\"noopener\">参考原作</a> 。</p>\n<hr>\n","site":{"data":{}},"excerpt":"<center>\n    <i>   \n        R Markdown 站在 knitr 和 Pandoc 的肩膀上，前者执行嵌入于文档中的计算机代码，并将 R Markdown 转换为 Markdown；后者将 Markdown 呈现出您想要的输出格式（如 PDF、HTML、Word 等）\n    </i>\n</center>\n\n<p><br><img src=\"http://pblv0vj27.bkt.clouddn.com/hex-rmarkdown.png\" alt=\"R Markdown\"><br>","more":"</p>\n<p>此篇文章翻译自谢益辉新书 <a href=\"https://bookdown.org/yihui/rmarkdown/\" target=\"_blank\" rel=\"noopener\">《R Markdown: The Definitive Guide》</a> 的前三章节，内容有所删减，主要介绍了 R Markdown 的相关结构及语法规则，如果想了解更多更详细的内容推荐您阅读原书。</p>\n<h1 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h1><p>这里假设您已经安装了 R (<a href=\"https://www.r-project.org/\" target=\"_blank\" rel=\"noopener\">https://www.r-project.org</a>)  和 RStudio IDE (<a href=\"https://www.rstudio.com/\" target=\"_blank\" rel=\"noopener\">https://www.rstudio.com</a>) 。Rstudio 并不是必须的，但安装它会使您更加容易地使用 R Markdown。如果您没有安装 RStudio IDE，您将不得不安装 Pandoc（ <a href=\"http://pandoc.org\" target=\"_blank\" rel=\"noopener\">http://pandoc.org</a> ），否则就不需要单独安装 Pandoc，因为在安装 RStudio 时已经将它捆绑安装了。接下来，您可以在 R 中安装 <code>rmarkdown</code> 包： </p>\n<figure class=\"highlight r\"><figcaption><span>安装 rmarkdown 包的两种方式</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Install from CRAN</span></span><br><span class=\"line\">install.packages(<span class=\"string\">'rmarkdown'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Or if you want to test the development version,</span></span><br><span class=\"line\"><span class=\"comment\"># install from GitHub</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (!requireNamespace(<span class=\"string\">\"devtools\"</span>))</span><br><span class=\"line\">  install.packages(<span class=\"string\">'devtools'</span>)</span><br><span class=\"line\">devtools::install_github(<span class=\"string\">'rstudio/rmarkdown'</span>)</span><br></pre></td></tr></table></figure>\n<p>如果您想要生成 PDF 类型文档输出，您将需要安装 LaTeX 。对于那些以前没有安装过 LaTeX 的 R Markdown 用户，我们建议您安装 TinyTeX（<a href=\"https://yihui./tinytex/）：\" target=\"_blank\" rel=\"noopener\">https://yihui./tinytex/）：</a> </p>\n<figure class=\"highlight r\"><figcaption><span>安装 tinytex 包</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">install.packages(<span class=\"string\">\"tinytex\"</span>)</span><br><span class=\"line\">tinytex::install_tinytex()  <span class=\"comment\"># install TinyTeX</span></span><br></pre></td></tr></table></figure>\n<p>TinyTeX 相当于一款轻量级、跨平台、易于维护的 LaTeX 。在将 LaTeX  或 R Markdown 文档编译成 PDF 时，<code>tinytex</code> 可以帮助您自动安装所需的相关 R 包，同时还能确保一个 LaTeX  文档被编译成正确的次数，以解决所有的交叉引用问题。如果您不明白这两件事是什么意思，应该按照我们的建议来安装 TinyTeX，因为这些细节往往并不值得您花费时间和精力去关心。 </p>\n<p>使用 <code>rmarkdown</code> 包、RStudio/Pandoc 和 LaTeX，您应该能够编译大多数R Markdown 文档。在某些情况下，您可能需要其他软件包，我们将在必要时提到它们。 </p>\n<blockquote>\n<p><strong>参考文献</strong></p>\n<ul>\n<li>R Core Team. 2018. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href=\"https://www.r-project.org/\" target=\"_blank\" rel=\"noopener\">https://www.R-project.org/</a>.</li>\n<li>Xie, Yihui. 2018f. <em>Tinytex: Helper Functions to Install and Maintain Tex Live, and Compile Latex Documents</em>. <a href=\"https://github.com/yihui/tinytex\" target=\"_blank\" rel=\"noopener\">https://github.com/yihui/tinytex</a>.</li>\n</ul>\n</blockquote>\n<hr>\n<h1 id=\"基础知识\"><a href=\"#基础知识\" class=\"headerlink\" title=\"基础知识\"></a>基础知识</h1><p>R Markdown 为数据科学提供了一个创作框架。R Markdown 能胜任以下两个任务：</p>\n<ul>\n<li>保存并执行代码；</li>\n<li>生成可共享的高质量报告。</li>\n</ul>\n<p>R Markdown 的设计初衷是为了更容易地实现报告内容的可重复性，这是因为计算代码和叙述都在同一个文档中，结果是由源代码自动生成的。并且 R Markdown 支持数十种静态和动态/交互式输出格式。 </p>\n<p>如果您更喜欢观看视频进行学习，我们建议您查看网站 <a href=\"https://rmarkdown.rstudio.com\" target=\"_blank\" rel=\"noopener\">https://rmarkdown.rstudio.com</a>，并在 “Get Started ” 中观看视频，其中包括了 R Markdown 的基础知识。 </p>\n<h2 id=\"文档结构\"><a href=\"#文档结构\" class=\"headerlink\" title=\"文档结构\"></a>文档结构</h2><p>下面是一份非常简易的 R Markdown 文档，是一个带有 <code>.Rmd</code> 拓展名的纯文本文档。</p>\n<figure class=\"highlight yaml\"><figcaption><span>YAML 元数据</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Hello R Markdown\"</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">\"Awesome Me\"</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"string\">\"2018-02-14\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span> <span class=\"string\">html_document</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight markdown\"><figcaption><span>主体内容</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">This is a paragraph in an R Markdown document.</span><br><span class=\"line\"></span><br><span class=\"line\">Below is a code chunk:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"code\">```&#123;r&#125;</span></span><br><span class=\"line\"><span class=\"code\">fit = lm(dist ~ speed, data = cars)</span></span><br><span class=\"line\"><span class=\"code\">b   = coef(fit)</span></span><br><span class=\"line\"><span class=\"code\">plot(cars)</span></span><br><span class=\"line\"><span class=\"code\">abline(fit)</span></span><br><span class=\"line\"><span class=\"code\">```</span></span><br><span class=\"line\"></span><br><span class=\"line\">The slope of the regression is <span class=\"code\">`r b[1]`</span>.</span><br><span class=\"line\"><span class=\"code\">```</span></span><br></pre></td></tr></table></figure>\n<p>您可以使用任何文本编辑器（包括但不限于 RStudio）来创建这样的文本文档。如果使用 RStudio，您可以从 <code>File -&gt; New File -&gt; R Markdown</code> 中创建一个新的 Rmd 文档。 </p>\n<p>一份 R Markdown 文档有三个基础组成部分：元数据，文本和代码。元数据是在三个连接符 <code>---</code> 之间的内容。元数据的语法是 YAML（ <a href=\"https://en.wikipedia.org/wiki/YAML\" target=\"_blank\" rel=\"noopener\">YAML 不是标记语言</a> ），所以有时它也被称为 YAML metadata 或 YAML frontmatter。 需要注意的是，缩进在 YAML 中十分重要，忽视它会让你付出惨重代价。请参阅谢益辉所写的 《bookdown》（2016）一书中的 <a href=\"https://bookdown.org/yihui/bookdown/r-markdown.html\" target=\"_blank\" rel=\"noopener\">附录b.2</a> 来了解一些简单的例子，这些示例展示了 YAML 语法。</p>\n<p>文档的主体遵循元数据书写的规则。文本的语法是 Markdown，将在第 2.5 节中进行介绍。有两种类型的计算机代码，在第 2.6 节中进行了详细解释： </p>\n<ul>\n<li><strong>代码块</strong>：以三个重音符及所使用语言开始，其中 <code>r</code> 代表所使用的程序语言，并以三个重音符结束。 可以在花括号中填写块选项（如：将图形高度设置为5英寸：<code>{r, fig.height=5}</code>）。</li>\n<li><strong>内联代码</strong>：以 <code>`r</code> 开始，并以单个重音符结束。</li>\n</ul>\n<h2 id=\"文档编译\"><a href=\"#文档编译\" class=\"headerlink\" title=\"文档编译\"></a>文档编译</h2><p>最简单的方式莫过于在 RStudio 中单击 <code>Knit</code> 按钮，对应的快捷键为 <code>Ctrl + Shift + K</code> （在 macOS 中为 <code>Cmd + Shift + K</code>）。当然也可以直接运行代码 <code>rmarkdown::render</code> 来进行渲染编译，如：</p>\n<figure class=\"highlight r\"><figcaption><span>文档渲染编译</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rmarkdown::render(<span class=\"string\">'foo.Rmd'</span>, <span class=\"string\">'pdf_document'</span>)</span><br></pre></td></tr></table></figure>\n<p>当编译多个文档时，使用函数更加方便，因为可以直接使用循环来进行渲染编译。</p>\n<h2 id=\"参考卡片\"><a href=\"#参考卡片\" class=\"headerlink\" title=\"参考卡片\"></a>参考卡片</h2><p>RStudio 已经创建了大量的参考卡片，它们可以在 <a href=\"https://www.rstudio.com/resources/cheatsheets/\" target=\"_blank\" rel=\"noopener\">https://www.rstudio.com/resources/cheatsheets/</a> 上免费获得。</p>\n<h2 id=\"输出格式\"><a href=\"#输出格式\" class=\"headerlink\" title=\"输出格式\"></a>输出格式</h2><p>有两种输出格式：documents 和 presentations 。所有可用的格式如下所示 ：</p>\n<ul>\n<li><code>beamer_presentation</code></li>\n<li><code>github_document</code></li>\n<li><code>html_document</code></li>\n<li><code>ioslides_presentation</code></li>\n<li><code>latex_document</code></li>\n<li><code>md_document</code></li>\n<li><code>odt_document</code></li>\n<li><code>pdf_document</code></li>\n<li><code>powerpoint_presentation</code></li>\n<li><code>rtf_document</code></li>\n<li><code>slidy_presentation</code></li>\n<li><code>word_document</code></li>\n</ul>\n<p>我们将在第 3 章和第 4 章详细地记录这些输出格式。在其他扩展包中提供了更多的输出格式（从第 5 章开始）。对于 Rmd 文件的 YAML 元数据中的输出格式名称，如果格式来自扩展包，您需要包含包名（若格式来自于 <code>rmarkdown</code> 包，则不需要 <code>rmarkdown::</code>前缀 ），例如：</p>\n<figure class=\"highlight yaml\"><figcaption><span>输出格式设置</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">output:</span> <span class=\"attr\">tufte::tufte_html</span></span><br></pre></td></tr></table></figure>\n<p>每种输出格式通常都有多种格式选项。所有这些选项都记录在 R 包 help 页面上。例如，您可以在 R 中键入 <code>?rmarkdown::</code> 打开关于 <code>html_document</code> 格式的 help 页面。当您想要使用某些选项时，必须将这些值从 R 转换成 YAML，例如：</p>\n<figure class=\"highlight r\"><figcaption><span>?rmarkdown::</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">html_document(toc = <span class=\"literal\">TRUE</span>, toc_depth = <span class=\"number\">2</span>, dev = <span class=\"string\">'svg'</span>)</span><br></pre></td></tr></table></figure>\n<p>可以用 YAML 写为： </p>\n<figure class=\"highlight yaml\"><figcaption><span>输出格式参数设置</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    toc:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">    toc_depth:</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attr\">    dev:</span> <span class=\"string\">'svg'</span></span><br></pre></td></tr></table></figure>\n<p>YAML 中的字符串通常不需要引号（<code>`dev：“svg”</code> 和 <code>dev:svg</code> 是相同的），除非它们包含特殊字符，比如冒号 <code>：</code>。如果您不确定是否应该引用字符串，那么用 <code>yaml</code> 包来测试它，例如：</p>\n<figure class=\"highlight r\"><figcaption><span>YAML 语法</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat(yaml::as.yaml(list(</span><br><span class=\"line\">  title = <span class=\"string\">'A Wonderful Day'</span>,</span><br><span class=\"line\">  subtitle = <span class=\"string\">'hygge: a quality of coziness'</span></span><br><span class=\"line\">)))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## title: A Wonderful Day</span></span><br><span class=\"line\"><span class=\"comment\">## subtitle: 'hygge: a quality of coziness'</span></span><br></pre></td></tr></table></figure>\n<p>注意，上面例子中的副标题是由于冒号而引用单引号的。</p>\n<p>如果某一选项有子选项（这意味着该选项的值是 R 中的列表），则子选项需要进一步缩进，例如：</p>\n<figure class=\"highlight yaml\"><figcaption><span>子选项-缩进</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    toc:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">    includes:</span></span><br><span class=\"line\"><span class=\"attr\">      in_header:</span> <span class=\"string\">header.html</span></span><br><span class=\"line\"><span class=\"attr\">      before_body:</span> <span class=\"string\">before.html</span></span><br></pre></td></tr></table></figure>\n<p>一些选项将被传递给 <strong>knitr</strong> ，比如 <code>dev</code>、<code>fig_width</code> 和 <code>fig_height</code>。这些选项的详细文档可以在 <a href=\"https://yihui.name/knitr/options/\" target=\"_blank\" rel=\"noopener\">knitr 文档页面</a> 上找到。请注意，实际的 knitr 选项名称可能有所不同。特别是，knitr 在名称中使用 <code>.</code>，但 rmarkdown 使用 <code>_</code>，例如，在 rmarkdown 中，<code>fig_width</code>  对应于knitr 中的 <code>fig.width</code> 。</p>\n<p>一些选项将被传递给 <strong>Pandoc</strong>，比如 <code>toc</code>、<code>toc_depth</code> 和 <code>number_sections</code> 。当有疑问时，您应该参考 Pandoc 文档。R Markdown 输出格式函数通常有一个<code>pandoc_args</code>  参数，它应该是传递给 Pandoc 的参数的字符向量。如果您发现任何没有由输出格式参数表示的 Pandoc 特性，您可以使用这个终极论证，例如：</p>\n<figure class=\"highlight yaml\"><figcaption><span>pandoc_args 参数</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  pdf_document:</span></span><br><span class=\"line\"><span class=\"attr\">    toc:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">    pandoc_args:</span> <span class=\"string\">[\"--wrap=none\",</span> <span class=\"string\">\"--top-level-division=chapter\"</span><span class=\"string\">]</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Markdown-语法\"><a href=\"#Markdown-语法\" class=\"headerlink\" title=\"Markdown 语法\"></a>Markdown 语法</h2><h3 id=\"内联格式\"><a href=\"#内联格式\" class=\"headerlink\" title=\"内联格式\"></a>内联格式</h3><ul>\n<li><p><em>斜体</em> ：<code>_text_</code> 或 <code>*text*</code> </p>\n</li>\n<li><p><strong>粗体</strong> ：<code>**text**</code></p>\n</li>\n<li><p>下标 ：<code>H~3~PO~4~</code>  渲染为 $H_3PO_4$ </p>\n</li>\n<li><p>上标 ：<code>Cu^2+^</code>  渲染为 $Cu^{2+}$ </p>\n</li>\n<li><p>脚注 ： <code>^[This is a footnote.]</code> </p>\n</li>\n<li><p>内联代码 ：<code>`code` </code> , 可以使用 n+1 个重音符输出包含 n 个重音符的代码块。</p>\n</li>\n<li><p>超链接 ：<code>[text](link)</code> </p>\n</li>\n<li><p>图片链接 ： <code>![alt text or image title](path/to/image)</code></p>\n</li>\n<li><p>引用 ： </p>\n<figure class=\"highlight ruby\"><figcaption><span>书籍引用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Manual&#123;R-base,</span><br><span class=\"line\">  title = &#123;<span class=\"symbol\">R:</span> A Language <span class=\"keyword\">and</span> Environment <span class=\"keyword\">for</span> Statistical</span><br><span class=\"line\">    Computing&#125;,</span><br><span class=\"line\">  author = &#123;&#123;R Core Team&#125;&#125;,</span><br><span class=\"line\">  organization = &#123;R Foundation <span class=\"keyword\">for</span> Statistical Computing&#125;,</span><br><span class=\"line\">  address = &#123;Vienna, Austria&#125;,</span><br><span class=\"line\">  year = &#123;<span class=\"number\">2017</span>&#125;,</span><br><span class=\"line\">  url = &#123;<span class=\"symbol\">https:</span>/<span class=\"regexp\">/www.R-project.org/</span>&#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"块级元素\"><a href=\"#块级元素\" class=\"headerlink\" title=\"块级元素\"></a>块级元素</h3><ul>\n<li><p><strong>标题</strong></p>\n<figure class=\"highlight markdown\"><figcaption><span>三级标题的书写</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\"># First-level header</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">## Second-level header</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">### Third-level header</span></span><br></pre></td></tr></table></figure>\n<p>如果不想让某个标题被编号，可以在标题后面添加 <code>{-}</code> 或者 <code>{.unnumbered}</code>，如：</p>\n<figure class=\"highlight markdown\"><figcaption><span>标题不编号</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\"># Preface &#123;-&#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>无序列表</strong></p>\n<figure class=\"highlight markdown\"><figcaption><span>无序列表</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">- </span>one item</span><br><span class=\"line\"><span class=\"bullet\">- </span>one item</span><br><span class=\"line\"><span class=\"bullet\">- </span>one item</span><br><span class=\"line\">  - one more item</span><br><span class=\"line\">  - one more item</span><br><span class=\"line\">  - one more item</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>有序列表</strong></p>\n<figure class=\"highlight markdown\"><figcaption><span>有序列表</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">1. </span>the first item</span><br><span class=\"line\"><span class=\"bullet\">2. </span>the second item</span><br><span class=\"line\"><span class=\"bullet\">3. </span>the third item</span><br><span class=\"line\">  - one unordered item</span><br><span class=\"line\">  - one unordered item</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>引用</strong></p>\n<figure class=\"highlight markdown\"><figcaption><span>名言引用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"quote\">&gt; \"I thoroughly disapprove of duels. If a man should challenge me,</span></span><br><span class=\"line\">  I would take him kindly and forgivingly by the hand and lead him</span><br><span class=\"line\">  to a quiet place and kill him.\"</span><br><span class=\"line\">&gt;</span><br><span class=\"line\"><span class=\"quote\">&gt;                                                 --- Mark Twain</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>“I thoroughly disapprove of duels. If a man should challenge me,<br>I would take him kindly and forgivingly by the hand and lead him<br>to a quiet place and kill him.”</p>\n<p>​                                               —- Mark Twain</p>\n</blockquote>\n</li>\n<li><p><strong>代码块</strong></p>\n<figure class=\"highlight markdown\"><figcaption><span>代码块</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"code\">```</span></span><br><span class=\"line\"><span class=\"code\">This text is displayed verbatim / preformatted</span></span><br><span class=\"line\"><span class=\"code\">```</span></span><br><span class=\"line\"></span><br><span class=\"line\">Or indent by four spaces:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"code\">    This text is displayed verbatim / preformatted</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"数学表达式\"><a href=\"#数学表达式\" class=\"headerlink\" title=\"数学表达式\"></a>数学表达式</h3><p><code>$f(k) = {n \\choose k} p^{k} (1-p)^{n-k}$</code> :  $f(k) = {n \\choose k} p^{k} (1-p)^{n-k}$ </p>\n<p><code>$$f(k) = {n \\choose k} p^{k} (1-p)^{n-k}$$</code> : </p>\n<script type=\"math/tex; mode=display\">\nf(k) = {n \\choose k} p^{k} (1-p)^{n-k}</script><hr>\n<h2 id=\"代码块选项\"><a href=\"#代码块选项\" class=\"headerlink\" title=\"代码块选项\"></a>代码块选项</h2><p>单击 <code>Insert</code> 按钮，对应快捷键为 <code>Ctrl + Alt + I</code> （macOS：<code>Cmd + Option + I</code> ）。</p>\n<p>在 <a href=\"https://yihui.name/knitr/options\" target=\"_blank\" rel=\"noopener\">https://yihui.name/knitr/options</a> 中有大量的代码块可选项，在此我们列出常用的一部分：</p>\n<ul>\n<li><p><code>eval=TRUE</code> ：执行当前代码块；</p>\n<figure class=\"highlight r\"><figcaption><span>eval 巧用</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```&#123;r&#125;</span><br><span class=\"line\"># execute code if the date is later than a specified day</span><br><span class=\"line\">do_it = Sys.Date() &gt; '2018-02-14'</span><br><span class=\"line\">```</span><br><span class=\"line\"></span><br><span class=\"line\">```&#123;r, eval=do_it&#125;</span><br><span class=\"line\">x = rnorm(100)</span><br><span class=\"line\">```</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>echo=TRUE</code> ：输出源代码；</p>\n</li>\n<li><p><code>result</code> ：当设置为 <code>&#39;hide&#39;</code> ，文本输出将被隐藏；当设置为 <code>&#39;asis&#39;</code> ，文本输出将被 “原样” 书写。</p>\n</li>\n<li><p><code>collapse=TRUE</code> ：将文本输出和源代码合并为单个代码块输出，更加紧凑；</p>\n</li>\n<li><p><code>warning</code>, <code>message</code>,  <code>error</code> ：是否在输出文档中显示警告、消息和错误；</p>\n</li>\n<li><p><code>include=FALSE</code> ：运行当前代码并且不显示任何源代码与输出结果；</p>\n</li>\n<li><p><code>cache</code> ：是否启用高速缓存。如果启用了缓存，则在下一次编译文档时不会对相同的代码块进行评估（如果代码块没有被修改），这将节省您的时间；</p>\n</li>\n<li><p><code>fig.width</code>，<code>fig.height</code> ：（图形设备）块的大小（英寸）。注意：<code>fig.dim = c(6, 4)</code> 意味着 <code>fig.width = 6</code> 并且 <code>fig.height = 4</code>；</p>\n</li>\n<li><p><code>out.width</code>， <code>out.height</code> ：输出文档中 R 图片的输出大小。可以使用百分比，例如 <code>out.width = &#39;80%&#39;</code> 表示页面宽度的 80%； </p>\n</li>\n<li><p><code>fig.align</code> ：图片的对齐方式；</p>\n</li>\n<li><p><code>dev</code> ：图形设备保存 R 图片的格式。如 <code>&#39;pdf&#39;</code>, <code>&#39;png&#39;</code>, <code>&#39;svg&#39;</code>, <code>&#39;jpeg&#39;</code>；</p>\n</li>\n<li><p><code>fig.cap</code> ：图片标题；</p>\n</li>\n<li><p><code>child</code> ：您可以在主文档中包含子文档。这个选项选择一条通向外部文件的路径。 </p>\n</li>\n</ul>\n<p>如果某个选项需要经常被设置为多个代码块中的值，您可以考虑在文档的第一个代码块中全局设置它：</p>\n<figure class=\"highlight r\"><figcaption><span>全局设置</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```&#123;r, setup, include=FALSE&#125;</span><br><span class=\"line\">knitr::opts_chunk$set(fig.width = 8, collapse = TRUE)</span><br><span class=\"line\">```</span><br></pre></td></tr></table></figure>\n<h3 id=\"图片\"><a href=\"#图片\" class=\"headerlink\" title=\"图片\"></a>图片</h3><p>本地图片亦可以使用代码块选项进行调节，例如：</p>\n<figure class=\"highlight r\"><figcaption><span>本地图片选项</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```&#123;r, out.width='25%', fig.align='center', fig.cap='...'&#125;</span><br><span class=\"line\">knitr::include_graphics('images/hex-rmarkdown.png')</span><br><span class=\"line\">```</span><br></pre></td></tr></table></figure>\n<p>如果您想要淡入一个不是由 R 代码生成的图形，您可以使用 <code>knitr::include_graphics()</code>  函数，它使您能够更好地控制图像的属性，而不是像 <code>![alt text or image title](path/to/image)</code> 这样的 Markdown 语法难以调解图片属性。 </p>\n<h3 id=\"表格\"><a href=\"#表格\" class=\"headerlink\" title=\"表格\"></a>表格</h3><p>使用 <code>knitr::kable()</code>  函数可以简易的创建表格，表格标题可以通过 <code>caption</code>  来设置，例如：</p>\n<figure class=\"highlight r\"><figcaption><span>表格选项</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```&#123;r tables-mtcars&#125;</span><br><span class=\"line\">knitr::kable(iris[1:5, ], caption = 'A caption')</span><br><span class=\"line\">```</span><br></pre></td></tr></table></figure>\n<p>如果您正在寻找更高级的表格样式控制，建议您使用 <a href=\"https://cran.r-project.org/package=kableExtra\" target=\"_blank\" rel=\"noopener\">kableExtra</a> 包，它提供了定制 PDF 和 HTML 表格外观的功能。在第 12.3 节中解释了 <code>bookdown</code> 包如何扩展 rmarkdown 的功能，以允许在文本中轻松地交叉引用数字和表格。 </p>\n<blockquote>\n<p><strong>参考文献</strong></p>\n<ul>\n<li>Xie, Yihui. 2015. <em>Dynamic Documents with R and Knitr</em>. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. <a href=\"https://yihui.name/knitr/\" target=\"_blank\" rel=\"noopener\">https://yihui.name/knitr/</a>. </li>\n</ul>\n</blockquote>\n<hr>\n<h1 id=\"输出文档\"><a href=\"#输出文档\" class=\"headerlink\" title=\"输出文档\"></a>输出文档</h1><h2 id=\"HTML-文档\"><a href=\"#HTML-文档\" class=\"headerlink\" title=\"HTML 文档\"></a>HTML 文档</h2><p>为了输出 HTML 文档，首先要在 YAML 元数据中写入 <code>output: html_document</code> ：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">Habits</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">John</span> <span class=\"string\">Doe</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"string\">March</span> <span class=\"number\">22</span><span class=\"string\">,</span> <span class=\"number\">2005</span></span><br><span class=\"line\"><span class=\"attr\">output:</span> <span class=\"string\">html_document</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"目录（Table-of-contents）\"><a href=\"#目录（Table-of-contents）\" class=\"headerlink\" title=\"目录（Table of contents）\"></a>目录（Table of contents）</h3><figure class=\"highlight yaml\"><figcaption><span>目录可选项</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    toc:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">    toc_depth:</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attr\">    toc_float:</span></span><br><span class=\"line\"><span class=\"attr\">        collapsed:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">        smooth_scroll:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>toc: true</code> ：输出目录；</li>\n<li><code>toc_depth</code> ：所输出标题的最小级别；</li>\n<li><code>toc_float: true</code> ：目录悬停于内容左侧，并一直可见；</li>\n<li><code>collapsed</code> (默认为 <code>TRUE</code>)  ：初始只显示顶级标题，随内容滚动目录逐级展开；</li>\n<li><code>smooth_scroll</code> (默认为 <code>TRUE</code>) ：点击目录标题是否导航到指定内容。</li>\n</ul>\n<h3 id=\"目录编号-Section-numbering\"><a href=\"#目录编号-Section-numbering\" class=\"headerlink\" title=\"目录编号 (Section numbering)\"></a>目录编号 (Section numbering)</h3><figure class=\"highlight yaml\"><figcaption><span>目录编号</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    toc:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">    number_sections:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<p>注意，如果文档中没有一级标题，那么二级标题将被命名为 <code>0.1</code>, <code>0.2</code> ……</p>\n<h3 id=\"选项卡-Tabbed-sections\"><a href=\"#选项卡-Tabbed-sections\" class=\"headerlink\" title=\"选项卡 (Tabbed sections)\"></a>选项卡 (Tabbed sections)</h3><figure class=\"highlight markdown\"><figcaption><span>选项卡</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">## Quarterly Results &#123;.tabset .tabset-fade .tabset-pills&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">### By Product</span></span><br><span class=\"line\"></span><br><span class=\"line\">(tab content)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">### By Region</span></span><br><span class=\"line\"></span><br><span class=\"line\">(tab content)</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://bookdown.org/yihui/rmarkdown/images/tabset.png\" alt=\"Tabbed sections\"></p>\n<ul>\n<li><code>.tabset</code>  ：使主标题的所有子标题与 .tabset 属性一起出现在选项卡中，而不是作为独立的部分；</li>\n<li><code>.tabset-fade</code>  ：选项卡切换时淡入淡出；</li>\n<li><code>.tabset-pills</code>  ：改变选项卡外观，使其类似 “药丸”。</li>\n</ul>\n<h3 id=\"外观与风格\"><a href=\"#外观与风格\" class=\"headerlink\" title=\"外观与风格\"></a>外观与风格</h3><figure class=\"highlight yaml\"><figcaption><span>主题与高亮</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    theme:</span> <span class=\"string\">united</span></span><br><span class=\"line\"><span class=\"attr\">    highlight:</span> <span class=\"string\">tango</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>theme</code>  ：主题是从 <a href=\"https://bootswatch.com/3/\" target=\"_blank\" rel=\"noopener\">Bootswatch</a> 主题库中提取的，适用的主题包括：<code>default</code>, <code>cerulean</code>, <code>journal</code>, <code>flatly</code>, <code>readable</code>, <code>spacelab</code>, <code>united</code>, <code>cosmo</code>, <code>lumen</code>, <code>paper</code>, <code>sandstone</code>, <code>simplex</code>, 和 <code>yeti</code>. </li>\n<li><code>highlight</code> ：代码高亮模式。支持的风格包括： <code>default</code>,  <code>tango</code>,  <code>pygments</code>,  <code>kate</code>,  <code>monochrome</code>,  <code>espresso</code>,  <code>zenburn</code>,  <code>haddock</code> 和 <code>textmate</code>.  </li>\n</ul>\n<h3 id=\"图片选项\"><a href=\"#图片选项\" class=\"headerlink\" title=\"图片选项\"></a>图片选项</h3><figure class=\"highlight yaml\"><figcaption><span>图片选项</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    fig_width:</span> <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"attr\">    fig_height:</span> <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attr\">    fig_caption:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>fig_width</code> 和 <code>fig_height</code>  ：图片宽度和高度；</li>\n<li><code>fig_caption</code>  ：控制图片是否包括标题；</li>\n<li><code>dev</code>  ：图片渲染格式，默认为 <code>png</code>。</li>\n</ul>\n<h3 id=\"表格打印\"><a href=\"#表格打印\" class=\"headerlink\" title=\"表格打印\"></a>表格打印</h3><p> 默认表格输出格式为：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Option</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">default</td>\n<td style=\"text-align:left\">Call the <code>print.data.frame</code> generic method</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">kable</td>\n<td style=\"text-align:left\">Use the <code>knitr::kable</code> function</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">tibble</td>\n<td style=\"text-align:left\">Use the <code>tibble::print.tbl_df</code> function</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">paged</td>\n<td style=\"text-align:left\">Use <code>rmarkdown::print.paged_df</code> to create a pageable table</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>设定为 paged 格式后输出形式为：</p>\n<figure class=\"highlight yaml\"><figcaption><span>表格设置</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Motor Trend Car Road Tests\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    df_print:</span> <span class=\"string\">paged</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">​```</span> <span class=\"string\">&#123;r,</span> <span class=\"string\">rows.print=5&#125;</span></span><br><span class=\"line\"><span class=\"string\">mtcars</span></span><br><span class=\"line\"><span class=\"string\">​```</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://bookdown.org/yihui/rmarkdown/images/paged.png\" alt=\"mtcars\"></p>\n<p>TABLE 3.2: The options for paged HTML tables. </p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>Option</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>max.print</td>\n<td>The number of rows to print.</td>\n</tr>\n<tr>\n<td>max.print</td>\n<td>The number of rows to print.</td>\n</tr>\n<tr>\n<td>cols.print</td>\n<td>The number of columns to display.</td>\n</tr>\n<tr>\n<td>cols.min.print</td>\n<td>The minimum number of columns to display.</td>\n</tr>\n<tr>\n<td>pages.print</td>\n<td>The number of pages to display under page navigation.</td>\n</tr>\n<tr>\n<td>pages.print</td>\n<td>The number of pages to display under page navigation.</td>\n</tr>\n<tr>\n<td>rownames.print</td>\n<td>When set to <code>FALSE</code> turns off row names.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3 id=\"代码折叠\"><a href=\"#代码折叠\" class=\"headerlink\" title=\"代码折叠\"></a>代码折叠</h3><figure class=\"highlight yaml\"><figcaption><span>代码隐藏</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    code_folding:</span> <span class=\"string\">hide</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>code_folding: hide</code> ：初始默认不显示代码，查看者可点击进行显示；</li>\n<li><code>code_folding: show</code> ：初始默认显示代码，查看者可点击进行隐藏；</li>\n</ul>\n<h3 id=\"高级定制\"><a href=\"#高级定制\" class=\"headerlink\" title=\"高级定制\"></a>高级定制</h3><h4 id=\"保留-Markdown-文件\"><a href=\"#保留-Markdown-文件\" class=\"headerlink\" title=\"保留 Markdown 文件\"></a>保留 Markdown 文件</h4><p>当运行一个 R Markdown 文件（<code>*.Rmd</code>）时，将创造一个 Markdown 文件（<code>*.md</code>）并将该文件通过 Pandoc 转换为 HTML 文件。如果想要保留 Markdown 文件，可以使用 <code>keep_md</code> 选项：</p>\n<figure class=\"highlight yaml\"><figcaption><span>保留 .md 文档</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    keep_md:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"添加本地-HTML-文档\"><a href=\"#添加本地-HTML-文档\" class=\"headerlink\" title=\"添加本地 HTML 文档\"></a>添加本地 HTML 文档</h4><p>可以通过添加额外的 HTML 内容或完全替换核心 Pandoc 模板来完成更高级的输出定制。为了在文档头部或文档主体之前/之后包含内容，您可以使用以下选项： </p>\n<figure class=\"highlight yaml\"><figcaption><span>添加 HTML 文档</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    includes:</span></span><br><span class=\"line\"><span class=\"attr\">      in_header:</span> <span class=\"string\">header.html</span></span><br><span class=\"line\"><span class=\"attr\">      before_body:</span> <span class=\"string\">doc_prefix.html</span></span><br><span class=\"line\"><span class=\"attr\">      after_body:</span> <span class=\"string\">doc_suffix.html</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"自定义模板\"><a href=\"#自定义模板\" class=\"headerlink\" title=\"自定义模板\"></a>自定义模板</h4><figure class=\"highlight yaml\"><figcaption><span>自定义模板</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"Habits\"</span></span><br><span class=\"line\"><span class=\"attr\">output:</span></span><br><span class=\"line\"><span class=\"attr\">  html_document:</span></span><br><span class=\"line\"><span class=\"attr\">    template:</span> <span class=\"string\">quarterly_report.html</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<p>有关模板的其他详细信息，请参考 <a href=\"http://pandoc.org/MANUAL.html#templates\" target=\"_blank\" rel=\"noopener\">Pandoc 模板</a> 上的文档。您还可以研究默认的 HTML 模板 <a href=\"https://github.com/jgm/pandoc-templates/\" target=\"_blank\" rel=\"noopener\"><code>default.html5</code></a> 。</p>\n<p>其他类型文档格式控制方式类似，如欲详细了解请 <a href=\"https://bookdown.org/yihui/rmarkdown/documents.html\" target=\"_blank\" rel=\"noopener\">参考原作</a> 。</p>\n<hr>"}],"PostAsset":[],"PostCategory":[{"post_id":"cjn6z60in0000jsuvi4bz1x78","category_id":"cjn6z60iw0004jsuvu3kise91","_id":"cjn6z60ja000ejsuvwqo3wgr0"},{"post_id":"cjn6z60it0002jsuve53n728t","category_id":"cjn6z60j40009jsuvvpv58ylf","_id":"cjn6z60jf000kjsuv85oajpxy"},{"post_id":"cjn6z60iz0006jsuvvrszaeq7","category_id":"cjn6z60jb000fjsuvvkkajrsz","_id":"cjn6z60jj000pjsuv5xb5zuqr"},{"post_id":"cjn6z60j10007jsuv4z98h64f","category_id":"cjn6z60jg000ljsuvxtyly5gb","_id":"cjn6z60jq000xjsuvlm2ekkoz"},{"post_id":"cjn6z60j20008jsuvi0wp3vwp","category_id":"cjn6z60jg000ljsuvxtyly5gb","_id":"cjn6z60jr000zjsuvm6z9elq6"},{"post_id":"cjn6z60j5000cjsuviyct0cov","category_id":"cjn6z60jq000wjsuv0ib7z7jy","_id":"cjn6z60ju0014jsuvnj2a88jc"},{"post_id":"cjn6z60j8000djsuvsc857fkv","category_id":"cjn6z60jq000wjsuv0ib7z7jy","_id":"cjn6z60jw0018jsuvbluo1gvi"},{"post_id":"cjn6z60jc000hjsuv0ghmnklp","category_id":"cjn6z60jq000wjsuv0ib7z7jy","_id":"cjn6z60jx001bjsuvrgrkj2vv"},{"post_id":"cjn6z60je000jjsuvva5b943i","category_id":"cjn6z60jq000wjsuv0ib7z7jy","_id":"cjn6z60jy001ejsuvoxfvfkjl"},{"post_id":"cjn6z60jh000njsuv7tu54hke","category_id":"cjn6z60jx001ajsuvel7m50sa","_id":"cjn6z60jz001jjsuvsywxqwlq"},{"post_id":"cjn6z60ji000ojsuvb39scg5p","category_id":"cjn6z60jy001fjsuveezxyl5d","_id":"cjn6z60k1001njsuvae9kwe5s"},{"post_id":"cjn6z60jk000sjsuv2yuge24z","category_id":"cjn6z60jq000wjsuv0ib7z7jy","_id":"cjn6z60k3001qjsuvwpfpwnq5"},{"post_id":"cjn6z60jo000ujsuvx4ik3rxt","category_id":"cjn6z60jq000wjsuv0ib7z7jy","_id":"cjn6z60k4001ujsuvtdx8mm3r"}],"PostTag":[{"post_id":"cjn6z60in0000jsuvi4bz1x78","tag_id":"cjn6z60iy0005jsuvv52dk3fm","_id":"cjn6z60j5000bjsuvlhduqhh4"},{"post_id":"cjn6z60it0002jsuve53n728t","tag_id":"cjn6z60j4000ajsuv6ri1hji1","_id":"cjn6z60jd000ijsuv8jhpe1qs"},{"post_id":"cjn6z60iz0006jsuvvrszaeq7","tag_id":"cjn6z60jb000gjsuv4wccv5b3","_id":"cjn6z60jo000tjsuvnik35p3j"},{"post_id":"cjn6z60iz0006jsuvvrszaeq7","tag_id":"cjn6z60jg000mjsuv8nzkvmsd","_id":"cjn6z60jq000vjsuv5fk2oegd"},{"post_id":"cjn6z60j10007jsuv4z98h64f","tag_id":"cjn6z60jk000rjsuvgme3a4qa","_id":"cjn6z60jt0012jsuv4sfbcu7m"},{"post_id":"cjn6z60j10007jsuv4z98h64f","tag_id":"cjn6z60jr000yjsuvucy9gmm5","_id":"cjn6z60ju0015jsuv44a5334y"},{"post_id":"cjn6z60j20008jsuvi0wp3vwp","tag_id":"cjn6z60jr000yjsuvucy9gmm5","_id":"cjn6z60jy001djsuvag8hxy6y"},{"post_id":"cjn6z60j20008jsuvi0wp3vwp","tag_id":"cjn6z60jk000rjsuvgme3a4qa","_id":"cjn6z60jy001gjsuvau48p1u5"},{"post_id":"cjn6z60j20008jsuvi0wp3vwp","tag_id":"cjn6z60jw0019jsuv6e18rnn2","_id":"cjn6z60jz001ijsuvje4wnqv3"},{"post_id":"cjn6z60j5000cjsuviyct0cov","tag_id":"cjn6z60jx001cjsuv5uypa1ki","_id":"cjn6z60k2001pjsuv8wansqjd"},{"post_id":"cjn6z60j5000cjsuviyct0cov","tag_id":"cjn6z60jz001hjsuvpmnf5m9o","_id":"cjn6z60k3001rjsuvb4vn859m"},{"post_id":"cjn6z60j5000cjsuviyct0cov","tag_id":"cjn6z60k1001ljsuvh9ika0wf","_id":"cjn6z60k4001tjsuvhgoc3w8c"},{"post_id":"cjn6z60j8000djsuvsc857fkv","tag_id":"cjn6z60jx001cjsuv5uypa1ki","_id":"cjn6z60k6001yjsuvqm5cc6b8"},{"post_id":"cjn6z60j8000djsuvsc857fkv","tag_id":"cjn6z60k3001sjsuvi2zkld7j","_id":"cjn6z60k6001zjsuv50ydstk8"},{"post_id":"cjn6z60j8000djsuvsc857fkv","tag_id":"cjn6z60k4001vjsuvqh5rx20n","_id":"cjn6z60k70021jsuvx1gcius5"},{"post_id":"cjn6z60j8000djsuvsc857fkv","tag_id":"cjn6z60k5001wjsuvcujpcpdw","_id":"cjn6z60k70022jsuvpywkamh1"},{"post_id":"cjn6z60jc000hjsuv0ghmnklp","tag_id":"cjn6z60jx001cjsuv5uypa1ki","_id":"cjn6z60k80025jsuvravaa5lc"},{"post_id":"cjn6z60jc000hjsuv0ghmnklp","tag_id":"cjn6z60k60020jsuvlipqt0dr","_id":"cjn6z60k80026jsuvo1fjtaz1"},{"post_id":"cjn6z60jc000hjsuv0ghmnklp","tag_id":"cjn6z60k70023jsuvif27psf0","_id":"cjn6z60k90028jsuvjllqvwhn"},{"post_id":"cjn6z60je000jjsuvva5b943i","tag_id":"cjn6z60jx001cjsuv5uypa1ki","_id":"cjn6z60kb002djsuvv4569ej4"},{"post_id":"cjn6z60je000jjsuvva5b943i","tag_id":"cjn6z60k80027jsuvq2tnoc7f","_id":"cjn6z60kb002ejsuvlyc5hvi5"},{"post_id":"cjn6z60je000jjsuvva5b943i","tag_id":"cjn6z60k90029jsuv6bemmr2o","_id":"cjn6z60kc002gjsuvuukb8b9d"},{"post_id":"cjn6z60je000jjsuvva5b943i","tag_id":"cjn6z60k5001wjsuvcujpcpdw","_id":"cjn6z60kc002hjsuvq9o88436"},{"post_id":"cjn6z60je000jjsuvva5b943i","tag_id":"cjn6z60ka002bjsuv9u0paq8g","_id":"cjn6z60kd002jjsuvjb8meggz"},{"post_id":"cjn6z60jh000njsuv7tu54hke","tag_id":"cjn6z60ka002cjsuvgjl7lil2","_id":"cjn6z60kd002ljsuvqnuu78le"},{"post_id":"cjn6z60jh000njsuv7tu54hke","tag_id":"cjn6z60kb002fjsuvfxshfody","_id":"cjn6z60ke002mjsuvn9vxx9vx"},{"post_id":"cjn6z60jh000njsuv7tu54hke","tag_id":"cjn6z60kc002ijsuv94u13a3a","_id":"cjn6z60ke002ojsuvnxid7ume"},{"post_id":"cjn6z60ji000ojsuvb39scg5p","tag_id":"cjn6z60kd002kjsuvxf1xvybe","_id":"cjn6z60kg002rjsuvo816aojb"},{"post_id":"cjn6z60ji000ojsuvb39scg5p","tag_id":"cjn6z60ke002njsuvnac1uro1","_id":"cjn6z60kg002sjsuvhbs69jga"},{"post_id":"cjn6z60ji000ojsuvb39scg5p","tag_id":"cjn6z60ke002pjsuvbqjdopk9","_id":"cjn6z60kg002ujsuv9vr2wah3"},{"post_id":"cjn6z60jk000sjsuv2yuge24z","tag_id":"cjn6z60jx001cjsuv5uypa1ki","_id":"cjn6z60kj0030jsuvu2574hit"},{"post_id":"cjn6z60jk000sjsuv2yuge24z","tag_id":"cjn6z60kg002tjsuvihtny36u","_id":"cjn6z60kj0031jsuvk1mg5a30"},{"post_id":"cjn6z60jk000sjsuv2yuge24z","tag_id":"cjn6z60kh002vjsuvi1m6e2xf","_id":"cjn6z60kk0033jsuv0pamnbby"},{"post_id":"cjn6z60jk000sjsuv2yuge24z","tag_id":"cjn6z60kh002wjsuvmht71itu","_id":"cjn6z60kk0034jsuvyhwcpjai"},{"post_id":"cjn6z60jk000sjsuv2yuge24z","tag_id":"cjn6z60kh002xjsuvvnmdfaf3","_id":"cjn6z60kl0036jsuvmh7eyydy"},{"post_id":"cjn6z60jk000sjsuv2yuge24z","tag_id":"cjn6z60k5001wjsuvcujpcpdw","_id":"cjn6z60kl0037jsuv385ioc7w"},{"post_id":"cjn6z60jo000ujsuvx4ik3rxt","tag_id":"cjn6z60ki002zjsuvx7djz19m","_id":"cjn6z60km0039jsuvv0ownvrl"},{"post_id":"cjn6z60jo000ujsuvx4ik3rxt","tag_id":"cjn6z60kj0032jsuvt3hoqj5k","_id":"cjn6z60km003ajsuvl4ginlm5"},{"post_id":"cjn6z60jo000ujsuvx4ik3rxt","tag_id":"cjn6z60kk0035jsuvevqw1wrw","_id":"cjn6z60km003bjsuvu5h4bzns"},{"post_id":"cjn6z60jo000ujsuvx4ik3rxt","tag_id":"cjn6z60kl0038jsuvuzux7l21","_id":"cjn6z60kn003cjsuvthmv9w07"}],"Tag":[{"name":"Cmd-Markdown","_id":"cjn6z60iy0005jsuvv52dk3fm"},{"name":"Next","_id":"cjn6z60j4000ajsuv6ri1hji1"},{"name":"Markdown","_id":"cjn6z60jb000gjsuv4wccv5b3"},{"name":"Hexo","_id":"cjn6z60jg000mjsuv8nzkvmsd"},{"name":"回归分析","_id":"cjn6z60jk000rjsuvgme3a4qa"},{"name":"统计","_id":"cjn6z60jr000yjsuvucy9gmm5"},{"name":"线性回归","_id":"cjn6z60jw0019jsuv6e18rnn2"},{"name":"R","_id":"cjn6z60jx001cjsuv5uypa1ki"},{"name":"apply","_id":"cjn6z60jz001hjsuvpmnf5m9o"},{"name":"数据操作","_id":"cjn6z60k1001ljsuvh9ika0wf"},{"name":"formattable","_id":"cjn6z60k3001sjsuvi2zkld7j"},{"name":"数据展示","_id":"cjn6z60k4001vjsuvqh5rx20n"},{"name":"数据可视化","_id":"cjn6z60k5001wjsuvcujpcpdw"},{"name":"DT","_id":"cjn6z60k60020jsuvlipqt0dr"},{"name":"数据处理","_id":"cjn6z60k70023jsuvif27psf0"},{"name":"API","_id":"cjn6z60k80027jsuvq2tnoc7f"},{"name":"REmap","_id":"cjn6z60k90029jsuv6bemmr2o"},{"name":"地图可视化","_id":"cjn6z60ka002bjsuv9u0paq8g"},{"name":"日志","_id":"cjn6z60ka002cjsuvgjl7lil2"},{"name":"随笔","_id":"cjn6z60kb002fjsuvfxshfody"},{"name":"计划","_id":"cjn6z60kc002ijsuv94u13a3a"},{"name":"经济学人","_id":"cjn6z60kd002kjsuvxf1xvybe"},{"name":"人工智能","_id":"cjn6z60ke002njsuvnac1uro1"},{"name":"译文","_id":"cjn6z60ke002pjsuvbqjdopk9"},{"name":"graphics","_id":"cjn6z60kg002tjsuvihtny36u"},{"name":"grid","_id":"cjn6z60kh002vjsuvi1m6e2xf"},{"name":"lattice","_id":"cjn6z60kh002wjsuvmht71itu"},{"name":"ggplot2","_id":"cjn6z60kh002xjsuvvnmdfaf3"},{"name":"R Markdown","_id":"cjn6z60ki002zjsuvx7djz19m"},{"name":"数据报告","_id":"cjn6z60kj0032jsuvt3hoqj5k"},{"name":"可重复性","_id":"cjn6z60kk0035jsuvevqw1wrw"},{"name":"可视化","_id":"cjn6z60kl0038jsuvuzux7l21"}]}}